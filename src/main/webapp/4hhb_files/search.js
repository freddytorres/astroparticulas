!function(e,t){"use strict";function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){Bi.length||(Ni(),Li=!0),Bi[Bi.length]=e}function o(){for(;Ui<Bi.length;){var e=Ui;if(Ui+=1,Bi[e].call(),Ui>Hi){for(var t=0,r=Bi.length-Ui;t<r;t++)Bi[t]=Bi[t+Ui];Bi.length-=Ui,Ui=0}}Bi.length=0,Ui=0,Li=!1}function a(e){return function(){function t(){clearTimeout(r),clearInterval(n),e()}var r=setTimeout(t,0),n=setInterval(t,50)}}function i(){}function s(e){try{return e.then}catch(e){return Gi=e,Wi}}function c(e,t){try{return e(t)}catch(e){return Gi=e,Wi}}function l(e,t,r){try{e(t,r)}catch(e){return Gi=e,Wi}}function u(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,e!==i&&g(e,this)}function p(e,t,r){return new e.constructor(function(n,o){var a=new u(i);a.then(n,o),d(e,new v(t,r,a))})}function d(e,t){for(;3===e._V;)e=e._W;if(u._Y&&u._Y(e),0===e._V)return 0===e._U?(e._U=1,void(e._X=t)):1===e._U?(e._U=2,void(e._X=[e._X,t])):void e._X.push(t);f(e,t)}function f(e,t){Mi(function(){var r=1===e._V?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._V?h(t.promise,e._W):m(t.promise,e._W));var n=c(r,e._W);n===Wi?m(t.promise,Gi):h(t.promise,n)})}function h(e,t){if(t===e)return m(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var r=s(t);if(r===Wi)return m(e,Gi);if(r===e.then&&t instanceof u)return e._V=3,e._W=t,void y(e);if("function"==typeof r)return void g(r.bind(t),e)}e._V=1,e._W=t,y(e)}function m(e,t){e._V=2,e._W=t,u._Z&&u._Z(e,t),y(e)}function y(e){if(1===e._U&&(d(e,e._X),e._X=null),2===e._U){for(var t=0;t<e._X.length;t++)d(e,e._X[t]);e._X=null}}function v(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function g(e,t){var r=!1,n=l(e,function(e){r||(r=!0,h(t,e))},function(e){r||(r=!0,m(t,e))});r||n!==Wi||(r=!0,m(t,Gi))}function b(){Yi=!1,Qi._Y=null,Qi._Z=null}function E(e){function t(t){(e.allRejections||w(a[t].error,e.whitelist||zi))&&(a[t].displayId=o++,e.onUnhandled?(a[t].logged=!0,e.onUnhandled(a[t].displayId,a[t].error)):(a[t].logged=!0,_(a[t].displayId,a[t].error)))}function r(t){a[t].logged&&(e.onHandled?e.onHandled(a[t].displayId,a[t].error):a[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+a[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+a[t].displayId+".")))}e=e||{},Yi&&b(),Yi=!0;var n=0,o=0,a={};Qi._Y=function(e){2===e._V&&a[e._1]&&(a[e._1].logged?r(e._1):clearTimeout(a[e._1].timeout),delete a[e._1])},Qi._Z=function(e,r){0===e._U&&(e._1=n++,a[e._1]={displayId:null,error:r,timeout:setTimeout(t.bind(null,e._1),w(r,zi)?100:2e3),logged:!1})}}function _(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function w(e,t){return t.some(function(t){return e instanceof t})}function S(e){var t=new Qi(Qi._0);return t._V=1,t._W=e,t}function C(e){return e&&DataView.prototype.isPrototypeOf(e)}function O(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function k(e){return"string"!=typeof e&&(e=String(e)),e}function T(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return is.iterable&&(t[Symbol.iterator]=function(){return t}),t}function x(e){this.map={},e instanceof x?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function j(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function A(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function I(e){var t=new FileReader,r=A(t);return t.readAsArrayBuffer(e),r}function q(e){var t=new FileReader,r=A(t);return t.readAsText(e),r}function R(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function N(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:is.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:is.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:is.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():is.arrayBuffer&&is.blob&&C(e)?(this._bodyArrayBuffer=N(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):is.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||cs(e))?this._bodyArrayBuffer=N(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):is.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},is.blob&&(this.blob=function(){var e=j(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(I)}),this.text=function(){var e=j(this);if(e)return e;if(this._bodyBlob)return q(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},is.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}function D(e){var t=e.toUpperCase();return ls.indexOf(t)>-1?t:e}function M(e,t){t=t||{};var r=t.body;if(e instanceof M){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new x(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new x(t.headers)),this.method=D(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function B(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function L(e){var t=new x;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function U(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new x(t.headers),this.url=t.url||"",this._initBody(e)}function H(e,t){return new Promise(function(r,n){function o(){i.abort()}var a=new M(e,t);if(a.signal&&a.signal.aborted)return n(new ps("Aborted","AbortError"));var i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:L(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new U(t,e))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.onabort=function(){n(new ps("Aborted","AbortError"))},i.open(a.method,a.url,!0),"include"===a.credentials?i.withCredentials=!0:"omit"===a.credentials&&(i.withCredentials=!1),"responseType"in i&&is.blob&&(i.responseType="blob"),a.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",o),i.onreadystatechange=function(){4===i.readyState&&a.signal.removeEventListener("abort",o)}),i.send(void 0===a._bodyInit?null:a._bodyInit)})}function F(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function V(e,t,r,n,o){for(var a in e)if(e.hasOwnProperty(a)){var i;try{if("function"!=typeof e[a]){var s=Error((n||"React class")+": "+r+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.");throw s.name="Invariant Violation",s}i=e[a](t,a,n,r,null,kd)}catch(e){i=e}if(!i||i instanceof Error||Od((n||"React class")+": type specification of "+r+" `"+a+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof i+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),i instanceof Error&&!(i.message in Td)){Td[i.message]=!0;var c=o?o():"";Od("Failed "+r+" type: "+i.message+(null!=c?c:""))}}}function G(){return null}function W(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function J(){Pd||(Pd=!0,W("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function X(e,t,r){if("string"!=typeof t){if(Gd){var n=Vd(t);n&&n!==Gd&&X(e,n,r)}var o=Ud(t);Hd&&(o=o.concat(Hd(t)));for(var a=0;a<o.length;++a){var i=o[a];if(!(Md[i]||Bd[i]||r&&r[i])){var s=Fd(t,i);try{Ld(e,i,s)}catch(e){}}}return e}return e}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(){var e=[],t=[];return{clear:function(){t=Yd,e=Yd},notify:function(){for(var r=e=t,n=0;n<r.length;n++)r[n]()},get:function(){return t},subscribe:function(r){var n=!0;return t===e&&(t=e.slice()),t.push(r),function(){n&&e!==Yd&&(n=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(r),1))}}}}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function re(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function ne(){}function oe(e,t){var r={run:function(n){try{var o=e(t.getState(),n);(o!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=o,r.error=null)}catch(e){r.shouldComponentUpdate=!0,r.error=e}}};return r}function ae(t){var r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.getDisplayName,i=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,s=o.methodName,c=void 0===s?"connectAdvanced":s,l=o.renderCountProp,u=void 0===l?void 0:l,p=o.shouldHandleStateChanges,d=void 0===p||p,f=o.storeKey,h=void 0===f?"store":f,m=o.withRef,y=void 0!==m&&m,v=re(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),g=h+"Subscription",b=Zd++,E=(r={},r[h]=Nd,r[g]=Rd,r),_=(n={},n[g]=Rd,n);return function(r){zd("function"==typeof r,"You must pass a component to the function returned by "+c+". Instead received "+JSON.stringify(r));var n=r.displayName||r.name||"Component",o=i(n),a=Kd({},v,{getDisplayName:i,methodName:c,renderCountProp:u,shouldHandleStateChanges:d,storeKey:h,withRef:y,displayName:o,wrappedComponentName:n,WrappedComponent:r}),s=function(n){function i(e,t){$(this,i);var r=ee(this,n.call(this,e,t));return r.version=b,r.state={},r.renderCount=0,r.store=e[h]||t[h],r.propsMode=Boolean(e[h]),r.setWrappedInstance=r.setWrappedInstance.bind(r),zd(r.store,'Could not find "'+h+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+h+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}return te(i,n),i.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[g]=t||this.context[g],e},i.prototype.componentDidMount=function(){d&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},i.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},i.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=ne,this.store=null,this.selector.run=ne,this.selector.shouldComponentUpdate=!1},i.prototype.getWrappedInstance=function(){return zd(y,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+c+"() call."),this.wrappedInstance},i.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},i.prototype.initSelector=function(){var e=t(this.store.dispatch,a);this.selector=oe(e,this.store),this.selector.run(this.props)},i.prototype.initSubscription=function(){if(d){var e=(this.propsMode?this.props:this.context)[g];this.subscription=new Xd(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState($d)):this.notifyNestedSubs()},i.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},i.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},i.prototype.addExtraProps=function(e){if(!(y||u||this.propsMode&&this.subscription))return e;var t=Kd({},e);return y&&(t.ref=this.setWrappedInstance),u&&(t[u]=this.renderCount++),this.propsMode&&this.subscription&&(t[g]=this.subscription),t},i.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return e.createElement(r,this.addExtraProps(t.props))},i}(e.Component);return s.WrappedComponent=r,s.displayName=o,s.childContextTypes=_,s.contextTypes=E,s.propTypes=E,s.prototype.componentWillUpdate=function(){var e=this;if(this.version!==b){this.version=b,this.initSelector();var t=[];this.subscription&&(t=this.subscription.listeners.get(),this.subscription.tryUnsubscribe()),this.initSubscription(),d&&(this.subscription.trySubscribe(),t.forEach(function(t){return e.subscription.listeners.subscribe(t)}))}},Wd(s,r)}}function ie(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function se(e,t){if(ie(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!ef.call(t,r[o])||!ie(e[r[o]],t[r[o]]))return!1;return!0}function ce(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function le(e,t,r){function n(){f===d&&(f=d.slice())}function o(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return p}function a(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return n(),f.push(e),function(){if(t){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,n();var r=f.indexOf(e);f.splice(r,1)}}}function i(e){if(!ce(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,p=u(p,e)}finally{h=!1}for(var t=d=f,r=0;r<t.length;r++){(0,t[r])()}return e}function s(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,i({type:nf.REPLACE})}function c(){var e,t=a;return e={subscribe:function(e){function r(){e.next&&e.next(o())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");return r(),{unsubscribe:t(r)}}},e[tf]=function(){return this},e}var l;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(le)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,p=t,d=[],f=d,h=!1;return i({type:nf.INIT}),l={dispatch:i,subscribe:a,getState:o,replaceReducer:s},l[tf]=c,l}function ue(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function pe(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function de(e,t,r,n){var o=Object.keys(t),a=r&&r.type===nf.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!ce(e))return"The "+a+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+o.join('", "')+'"';var i=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!n[e]});return i.forEach(function(e){n[e]=!0}),r&&r.type===nf.REPLACE?void 0:i.length>0?"Unexpected "+(i.length>1?"keys":"key")+' "'+i.join('", "')+'" found in '+a+'. Expected to find one of the known reducer keys instead: "'+o.join('", "')+'". Unexpected keys will be ignored.':void 0}function fe(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:nf.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:nf.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+nf.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function he(e,t){return function(){return t(e.apply(this,arguments))}}function me(e,t){if("function"==typeof e)return he(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var a=r[o],i=e[a];"function"==typeof i&&(n[a]=he(i,t))}return n}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=null!=t[r]?t[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){ye(e,t,n[t])})}return e}function ge(){for(var e=arguments,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=e[n];return 0===r.length?function(e){return e}:1===r.length?r[0]:r.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function be(){for(var e=arguments,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=e[n];return function(e){return function(){var t=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:t.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=r.map(function(e){return e(o)});return n=ge.apply(void 0,a)(t.dispatch),ve({},t,{dispatch:n})}}}function Ee(){}function _e(e){var t=uf.call(e,df),r=e[df];try{e[df]=void 0;var n=!0}catch(e){}var o=pf.call(e);return n&&(t?e[df]=r:delete e[df]),o}function we(e){return hf.call(e)}function Se(e){return null==e?void 0===e?yf:mf:vf&&vf in Object(e)?_e(e):we(e)}function Ce(e){return null!=e&&"object"==typeof e}function Oe(e){if(!Ce(e)||Se(e)!=bf)return!1;var t=gf(e);if(null===t)return!0;var r=Sf.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&wf.call(r)==Cf}function ke(e,t,r){Oe(e)||W(r+"() in "+t+" must return a plain object. Instead received "+e+".")}function Te(e){return function(t,r){function n(){return o}var o=e(t,r);return n.dependsOnOwnProps=!1,n}}function xe(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function je(e,t){return function(r,n){var o=n.displayName,a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function(r,n){a.mapToProps=e,a.dependsOnOwnProps=xe(e);var i=a(r,n);return"function"==typeof i&&(a.mapToProps=i,a.dependsOnOwnProps=xe(i),i=a(r,n)),ke(i,o,t),i},a}}function Ae(e){return"function"==typeof e?je(e,"mapDispatchToProps"):void 0}function Ie(e){return e?void 0:Te(function(e){return{dispatch:e}})}function qe(e){return e&&"object"==typeof e?Te(function(t){return me(e,t)}):void 0}function Re(e){return"function"==typeof e?je(e,"mapStateToProps"):void 0}function Ne(e){return e?void 0:Te(function(){return{}})}function Pe(e,t,r){return Tf({},r,e,t)}function De(e){return function(t,r){var n=r.displayName,o=r.pure,a=r.areMergedPropsEqual,i=!1,s=void 0;return function(t,r,c){var l=e(t,r,c);return i?o&&a(l,s)||(s=l):(i=!0,s=l,ke(s,n,"mergeProps")),s}}}function Me(e){return"function"==typeof e?De(e):void 0}function Be(e){return e?void 0:function(){return Pe}}function Le(e,t,r){if(!e)throw new Error("Unexpected value for "+t+" in "+r+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||W("The selector for "+t+" of "+r+" did not specify a value for dependsOnOwnProps.")}function Ue(e,t,r,n){Le(e,"mapStateToProps",n),Le(t,"mapDispatchToProps",n),Le(r,"mergeProps",n)}function He(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function Fe(e,t,r,n){return function(o,a){return r(e(o,a),t(n,a),a)}}function Ve(e,t,r,n,o){function a(o,a){return h=o,m=a,y=e(h,m),v=t(n,m),g=r(y,v,m),f=!0,g}function i(){return y=e(h,m),t.dependsOnOwnProps&&(v=t(n,m)),g=r(y,v,m)}function s(){return e.dependsOnOwnProps&&(y=e(h,m)),t.dependsOnOwnProps&&(v=t(n,m)),g=r(y,v,m)}function c(){var t=e(h,m),n=!d(t,y);return y=t,n&&(g=r(y,v,m)),g}function l(e,t){var r=!p(t,m),n=!u(e,h);return h=e,m=t,r&&n?i():r?s():n?c():g}var u=o.areStatesEqual,p=o.areOwnPropsEqual,d=o.areStatePropsEqual,f=!1,h=void 0,m=void 0,y=void 0,v=void 0,g=void 0;return function(e,t){return f?l(e,t):a(e,t)}}function Ge(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,a=He(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=r(e,a),s=n(e,a),c=o(e,a);return Ue(i,s,c,a.displayName),(a.pure?Ve:Fe)(i,s,c,e,a)}function We(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function Qe(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function ze(e,t){return e===t}function Ye(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}function Je(){this.__data__=[],this.size=0}function Xe(e,t){return e===t||e!==e&&t!==t}function Ke(e,t){for(var r=e.length;r--;)if(Rf(e[r][0],t))return r;return-1}function Ze(e){var t=this.__data__,r=Nf(t,e);return!(r<0)&&(r==t.length-1?t.pop():Df.call(t,r,1),--this.size,!0)}function $e(e){var t=this.__data__,r=Nf(t,e);return r<0?void 0:t[r][1]}function et(e){return Nf(this.__data__,e)>-1}function tt(e,t){var r=this.__data__,n=Nf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function rt(e){var t=this,r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var o=e[r];t.set(o[0],o[1])}}function nt(){this.__data__=new Hf,this.size=0}function ot(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function at(e){return this.__data__.get(e)}function it(e){return this.__data__.has(e)}function st(e){var t=eh.call(e,rh),r=e[rh];try{e[rh]=void 0;var n=!0}catch(e){}var o=th.call(e);return n&&(t?e[rh]=r:delete e[rh]),o}function ct(e){return ah.call(e)}function lt(e){return null==e?void 0===e?ch:sh:lh&&lh in Object(e)?nh(e):ih(e)}function ut(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function pt(e){if(!ph(e))return!1;var t=uh(e);return t==fh||t==hh||t==dh||t==mh}function dt(e){return!!bh&&bh in e}function ft(e){if(null!=e){try{return wh.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ht(e){return!(!ph(e)||Eh(e))&&(yh(e)?Ah:Oh).test(Sh(e))}function mt(e,t){return null==e?void 0:e[t]}function yt(e,t){var r=qh(e,t);return Ih(r)?r:void 0}function vt(){this.__data__=Mh?Mh(null):{},this.size=0}function gt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function bt(e){var t=this.__data__;if(Mh){var r=t[e];return r===Uh?void 0:r}return Fh.call(t,e)?t[e]:void 0}function Et(e){var t=this.__data__;return Mh?void 0!==t[e]:Wh.call(t,e)}function _t(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Mh&&void 0===t?zh:t,this}function wt(e){var t=this,r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var o=e[r];t.set(o[0],o[1])}}function St(){this.size=0,this.__data__={hash:new Jh,map:new(Ph||Hf),string:new Jh}}function Ct(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ot(e,t){var r=e.__data__;return Kh(t)?r["string"==typeof t?"string":"hash"]:r.map}function kt(e){var t=Zh(this,e).delete(e);return this.size-=t?1:0,t}function Tt(e){return Zh(this,e).get(e)}function xt(e){return Zh(this,e).has(e)}function jt(e,t){var r=Zh(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function At(e){var t=this,r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var o=e[r];t.set(o[0],o[1])}}function It(e,t){var r=this.__data__;if(r instanceof Hf){var n=r.__data__;if(!Ph||n.length<om-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new nm(n)}return r.set(e,t),this.size=r.size,this}function qt(e){var t=this.__data__=new Hf(e);this.size=t.size}function Rt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Nt(e,t,r){"__proto__"==t&&lm?lm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Pt(e,t,r){var n=e[t];dm.call(e,t)&&Rf(n,r)&&(void 0!==r||t in e)||um(e,t,r)}function Dt(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),o?um(r,s,c):fm(r,s,c)}return r}function Mt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Bt(e){return null!=e&&"object"==typeof e}function Lt(e){return ym(e)&&uh(e)==vm}function Ut(){return!1}function Ht(e,t){var r=typeof e;return!!(t=null==t?xm:t)&&("number"==r||"symbol"!=r&&jm.test(e))&&e>-1&&e%1==0&&e<t}function Ft(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Im}function Vt(e){return ym(e)&&qm(e.length)&&!!Rm[uh(e)]}function Gt(e){return function(t){return e(t)}}function Wt(e,t){var r=Om(e),n=!r&&Sm(e),o=!r&&!n&&Tm(e),a=!r&&!n&&!o&&Lm(e),i=r||n||o||a,s=i?mm(e.length,String):[],c=s.length;for(var l in e)!t&&!Hm.call(e,l)||i&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Am(l,c))||s.push(l);return s}function Qt(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Vm)}function zt(e,t){return function(r){return e(t(r))}}function Yt(e){if(!Gm(e))return zm(e);var t=[];for(var r in Object(e))Jm.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Jt(e){return null!=e&&qm(e.length)&&!yh(e)}function Xt(e){return Km(e)?Fm(e):Xm(e)}function Kt(e,t){return e&&hm(t,Zm(t),e)}function Zt(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}function $t(e){if(!ph(e))return ey(e);var t=Gm(e),r=[];for(var n in e)("constructor"!=n||!t&&ry.call(e,n))&&r.push(n);return r}function er(e){return Km(e)?Fm(e,!0):ny(e)}function tr(e,t){return e&&hm(t,oy(t),e)}function rr(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function nr(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a}function or(){return[]}function ar(e,t){return hm(e,hy(e),t)}function ir(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function sr(e,t){return hm(e,_y(e),t)}function cr(e,t,r){var n=t(e);return Om(e)?n:yy(n,r(e))}function lr(e){return Sy(e,Zm,hy)}function ur(e){return Sy(e,oy,_y)}function pr(e){
var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Fy.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function dr(e){var t=new e.constructor(e.byteLength);return new Wy(t).set(new Wy(e)),t}function fr(e,t){var r=t?Qy(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function hr(e){var t=new e.constructor(e.source,Yy.exec(e));return t.lastIndex=e.lastIndex,t}function mr(e){return Ky?Object(Ky.call(e)):{}}function yr(e,t){var r=t?Qy(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function vr(e,t,r){var n=e.constructor;switch(t){case cv:return Qy(e);case ev:case tv:return new n(+e);case lv:return zy(e,r);case uv:case pv:case dv:case fv:case hv:case mv:case yv:case vv:case gv:return $y(e,r);case rv:return new n;case nv:case iv:return new n(e);case ov:return Jy(e);case av:return new n;case sv:return Zy(e)}}function gr(e){return"function"!=typeof e.constructor||Gm(e)?{}:wv(gy(e))}function br(e){return ym(e)&&Uy(e)==Cv}function Er(e){return ym(e)&&Uy(e)==jv}function _r(e,t,r,n,o,a){var i,s=t&Nv,c=t&Pv,l=t&Dv;if(r&&(i=o?r(e,n,o,a):r(e)),void 0!==i)return i;if(!ph(e))return e;var u=Om(e);if(u){if(i=Vy(e),!s)return sy(e,i)}else{var p=Uy(e),d=p==Bv||p==Lv;if(Tm(e))return iy(e,s);if(p==Uv||p==Mv||d&&!o){if(i=c||d?{}:Sv(e),!s)return c?wy(e,ay(i,e)):my(e,$m(i,e))}else{if(!Hv[p])return o?e:{};i=bv(e,p,s)}}a||(a=new im);var f=a.get(e);if(f)return f;a.set(e,i),Rv(e)?e.forEach(function(n){i.add(_r(n,t,r,n,e,a))}):xv(e)&&e.forEach(function(n,o){i.set(o,_r(n,t,r,o,e,a))});var h=l?c?Oy:Cy:c?keysIn:Zm,m=u?void 0:h(e);return sm(m||e,function(n,o){m&&(o=n,n=e[o]),fm(i,o,_r(n,t,r,o,e,a))}),i}function wr(e){return Fv(e,Vv|Gv)}function Sr(e){return'"'+e+'"'}function Cr(e){return Wv(e)}function Or(e,t){var r=t&&"to"===t?"T23:59:59Z":"T00:00:00Z";return e.substring(6)+"-"+e.substring(0,2)+"-"+e.substring(3,5)+r}function kr(e,t){t.forEach(function(t){return delete e[t]})}function Tr(e,t,r,n){n&&zr(Qv,n),t.referrer=Sg.referer,fetch(e,t).then(function(e){if(!e.ok)throw Error(e.status+": "+e.statusText);return e.text()}).then(function(e){e=JSON.parse(e),r(e,null,n)}).catch(function(e){console.error(Qv,e),r(null,e,n)})}function xr(e){return e?new Date(e).toLocaleString("en-US"):null}function jr(e){return"booleans"===e?{appLoaded:!1,countLoading:!1,dataLoading:!1,dev:!1,hasMypdb:!1,addUrl:!0}:"chemical"===e?{count:-1,value:"",type:fE,match_subset:!1,descriptor_type:hE,match_type:mE}:"menu-state"===e?{menuIndex:-1,menuItems:[],menuOpen:!1,loading:!1}:"tabular-report"===e?{batch:!1,format:null,mode:null,clicked:[]}:"request-options"===e?{pager:{start:0,rows:AE},scoring_strategy:qE,sort:[{sort_by:"score",direction:"desc"}]}:"request-pager"===e?{start:0,rows:AE}:"request-sort"===e?[{sort_by:"score",direction:"desc"}]:"sequence"===e?{count:-1,value:"",entry_id:"",evalue_cutoff:oE,identity_cutoff:aE,target:nE}:"seqmotif"===e?{count:-1,value:"",pattern_type:sE,target:rE[0].key}:"structure"===e?{count:-1,entry_id:"",operator:"strict_shape_match",property:lE,value:"1"}:"views"===e?{tree:tree_ids[0],dev:null,help:"overview",mypdb:"login",report:TE,search:Rg,tab:Tg}:void console.error("getDefault(): UNKNOWN NAME="+e)}function Ar(e){return-1!==e.indexOf(".keyword")&&(e=e.replace(".keyword","")),metadata[e]?metadata[e].display_name:e}function Ir(e){return document.getElementById(e)}function qr(e){return document.getElementById(e).value}function Rr(e){return metadata[e]?metadata[e]:null}function Nr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function Pr(e,t){var r={method:"GET","Content-Type":"text/html"};fetch(e,r).then(function(e){if(!e.ok)throw Error(e.status+": "+e.statusText);return e.text()}).then(function(e){t(e,null)}).catch(function(e){console.error(Qv,e),t(null,e)})}function Dr(e,t,r){void 0===t&&(t=AE),void 0===r&&(r=0);var n=[];if(e.result_set)for(var o=e.result_set,a=0;a<t;a++){var i=r+a;if(!o[i])break;n.push(o[i].identifier)}else e.forEach(function(e){return n.push(e.identifier)});return n}function Mr(e,t){var r,n=Rr(t);if(Array.isArray(e)?r=e:(e=e.toUpperCase(),-1!==e.indexOf(",")?r=e.split(","):-1!==e.indexOf(" ")&&(r=e.split(" "))),r){for(var o=0,a=r.length;o<a;o++)r[o]=r[o].trim();if(r.filter(function(e){return e.length>1}),"integer"===n.type)for(var i=0,s=r.length;i<s;i++)r[i]=parseInt(r[i]);else if("number"===n.type)for(var c=0,l=r.length;c<l;c++)r[c]=parseFloat(r[c]);return r}return"integer"===n.type?e=parseInt(e):"number"===n.type&&(e=parseFloat(e)),[e]}function Br(e){var t={};if(e&&e.length>0)for(var r,n=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e)};null!==(r=n.exec(e));){var a=o(r[1]),i=o(r[2]);t[a]=i}return t}function Lr(e){var t=e.split(" ");return[{sort_by:t[0],direction:t[1]}]}function Ur(){return"undefined"!=typeof Storage?"session"===jE?window.sessionStorage:window.localStorage:null}function Hr(e){return e||(e=window.location.search),e&&e.length>0?decodeURIComponent(e.substring(1)):null}function Fr(e){return document.getElementById(e)?document.getElementById(e).offsetWidth:-1}function Vr(e){return e&&"date"===e.input_type}function Gr(e){if(null===e)return!0;var t=typeof e;return"undefined"===t||"function"===t||("object"===t?Array.isArray(e)?0===e.length:0===Object.keys(e).length:"string"===t?0===e.trim().length:"number"!==t&&"boolean"!==t)}function Wr(e){return e.substring(5,7)+"/"+e.substring(8,10)+"/"+e.substring(0,4)}function Qr(e){return"range"===e||"range_closed"===e}function zr(e,t,r){null!==r&&void 0!==r&&"string"==typeof r||(r="object"),console.log(e+": "+r+"="+Zr(t,2))}function Yr(e,t,r){var n=t;t++;var o,a;if(null==e)return"null";if(Array.isArray(e)){o='<table class="obj">',a=zv++,o+='<thead><tr><th onclick="toggleStateObj('+a+')" class="array">&darr; Array</th><th onclick="toggleAll('+a+')">&darr;&darr;</th></tr></thead>',o+='<tbody class="tbody" id="tbody'+a+'">';for(var i=0,s=e.length;i<s;i++)o+="<tr><td>"+i+"</td><td>"+Yr(e[i],t,r)+"</td></tr>";return o+="</tbody>",o+="</table>"}if(void 0===e)return"undefined";if("boolean"==typeof e)return e?"true":"false";if("number"==typeof e||"string"==typeof e)return e;if("function"==typeof e)return"function";if("object"==typeof e){o='<table class="obj">',a=zv++,o+='<thead><tr><th onclick="toggleStateObj('+a+')" class="object">&darr; Object</th><th onclick="toggleAll('+a+')">&darr;&darr;</th></tr></thead>',o+=0===n?'<tbody id="tbody'+a+'">':'<tbody class="tbody" id="tbody'+a+'">';for(var c in e)if(r.includes(c)){var l=Array.isArray(e[c])?e[c].length:typeof e[c];o+="<tr><td>"+c+" ["+l+"]</td><td>[exclude]</td></tr>"}else o+="<tr><td>"+c+"</td><td>"+Yr(e[c],t,r)+"</td></tr>";return o+="</tbody>",o+="</table>"}return"unkown"}function Jr(e){return e.replace(/<b>/g,"").replace(/<\/b>/g,"").replace(/<em>/g,"").replace(/<\/em>/g,"")}function Xr(e,t){if("undefined"!=typeof gtag){console.log(Qv,"setGtag: event_action="+e+", event_label="+t);var r=EE;gtag("event",e,{event_category:r,event_label:t})}}function Kr(e){return e[0].sort_by+" "+e[0].direction}function Zr(e,t){return(void 0===t||isNaN(t))&&(t=2),JSON.stringify(e,null,t)}function $r(e){return void 0===e||null===e||0===e.trim().length?null:e.trim()}function en(e){if(null===e)return!0;var t=typeof e;return"undefined"===t||"function"===t||("object"===t?Array.isArray(e)?0===e.length:0===Object.keys(e).length:"string"===t?0===e.trim().length:"number"!==t&&"boolean"!==t)}function tn(e){return Yv.test(e)}function rn(e){return Jv.test(e)}function nn(e){return e=parseFloat(e),!isNaN(e)||(alert("E-Value Cutoff must be a value in either scientific, decimal or integer notation"),!1)}function on(e){return e=parseInt(e),!!(Number.isInteger(e)&&e>=0&&e<=100)||(alert("Identity Cutoff must be an integer value of 0-100 (representing a percentage value)"),!1)}function an(e,t){if(!cn(e))return!1;if(!Xv[t].test(e)){var r=e_[t]+" sequences may only contain the characters "+Kv[t]+"\n";r+=eg;for(var n in Kv)r+=e_[n]+": "+Kv[n]+"\n";return alert(r),!1}return!0}function sn(e){return!(e.length<CE)||(alert("The sequence motif must contain at least "+CE+" characters"),!1)}function cn(e){return!(e.length<SE)||(alert("The sequence must contain at least "+SE+" residues"),!1)}function ln(e){for(var t=0;t<$v;t++){var r=Zv[t];if(Xv[r].test(e))return r}return null}function un(e){for(var t={value:!0},r=1;t.value;)if(An(e,null,-1,t),++r>10){console.log(tg,"cleanNode: RUNAWAY LOOP: count="+r+" removed.value="+t.value);break}}function pn(e,t){if(Nn(e,t))return e;if("group"===e.type)for(var r=0;r<e.nodes.length;r++){var n=e.nodes[r];if(Nn(n,t))return n}return null}function dn(e,t){void 0===t&&(t="and");var r={type:"group",logical_operator:t,nodes:[]};return e&&(r.label=e),r}function fn(e){return void 0===e&&(e="text"),{type:"terminal",service:e}}function hn(e){e=Cr(e);var t=e.query,r=pn(t,Qb),n=pn(t,zb);r&&console.log(tg,"FOUND qbNode"),n&&console.log(tg,"FOUND refinementNode");var o;if(r&&n){o=r,Tn(t),delete n.label,un(n);var a={};if(Rn(r,a,"text"),a.node){var i=a.node;if("and"===i.logical_operator)if("terminal"===n.type){var s=dn();s.nodes.push(n),i.nodes.push(s)}else i.nodes.push(n)}}else{if(r)return e;if(n){o=dn(Qb),Tn(t),delete n.label,"and"===t.logical_operator&&n.nodes.forEach(function(e){t.nodes.push(e)});var c=dn(Zb);c.nodes.push(t),o.nodes.push(c)}else if(o=dn(Qb),"terminal"===t.type)if("text"===t.service){var l=dn();l.nodes.push(t);var u=dn(Zb);u.nodes.push(l),o.nodes.push(u)}else t.label=t.service,o.nodes.push(t);else{var p=dn(Zb);p.nodes.push(t),o.nodes.push(p)}}return e.query=o,e}function mn(e){try{var t=pn(e,Qb),r=[];if(t){var n=yn(t);for(var o in n)r.push(tE[o]);if(r.length>0)return r.join(", ")}}catch(e){console.error("getQueryBuilderLabel: "+e)}return null}function yn(e){var t={};return eE.forEach(function(r){var n={};Rn(e,n,r),n.node&&(t[r]=n.node)}),t}function vn(e){if(console.log(tg,"q="+e),en(e))return null;var t,r,n;return-1!==e.indexOf(NE)&&(t=e.split(NE),r="or"),-1!==e.indexOf(RE)&&(t=e.split(RE),r="and"),t?(n=dn(null,r),t.forEach(function(e){return n.nodes.push(qn(e))})):n=qn(e),n}function gn(e){try{var t=pn(e,zb);if(t){var r=[];if(t.nodes.forEach(function(e){if(e.nodes&&e.nodes[0]&&e.nodes[0].parameters){var t=e.nodes[0].parameters.attribute;if(!metadata[t])throw"attribute "+t+" NOT FOUND";r.push(metadata[t].display_name)}}),r.length>0)return r.join(", ")}}catch(e){console.error("getRefinementsEventLabel: "+e)}return null}function bn(e,t){if(e){var r=In(e);return"in"===r&&(t=Mr(t,e)),{parameters:{attribute:e,operator:r,value:t}}}return{parameters:{value:t}}}function En(e,t){return"/search?query="+encodeURIComponent(JSON.stringify(bn(e,t)))}function _n(e,t){return{type:"group",logical_operator:"and",nodes:[e,t],label:Wb}}function wn(e,t){return Sn({attribute:e.attribute,operator:"in",negation:e.not,value:t})}function Sn(e){return{type:"terminal",service:"text",parameters:e}}function Cn(e,t){if(Nn(e,t))return!0;if("group"===e.type)for(var r=0;r<e.nodes.length;r++)if(Nn(e.nodes[r],t))return!0;return!1}function On(e){if(!e||!e.type)return!1;var t={found:!1};return Pn(e,t),t.found}function kn(e){Dn(e,{id:0})}function Tn(e){e.nodes=e.nodes.filter(function(e){return e.label!==zb})}function xn(e){var t,r;Cn(e,zb)?(t="Refinements",r=gn(e)):Cn(e,Qb)&&(t="Advanced Search Query Builder",r=mn(e)),r&&Xr(t,r)}function jn(e){"group"===e.type?e.nodes.forEach(function(e){return jn(e)}):e.service||(e.service="text")}function An(e,t,r,n){if(n.value=!1,"group"===e.type)if(1===e.nodes.length){var o=e.nodes[0];e.label&&(o.label=e.label+(o.label?"."+o.label:"")),t?(t.nodes[r]=o,n.value=!0):(Object.assign(e,o),"terminal"===o.type&&(delete e.nodes,delete e.logical_operator),n.value=!0)}else e.nodes.forEach(function(t,r){An(t,e,r,n)})}function In(e){var t=Rr(e);if(t)return t.default_operator;throw"FIELD OBJECT NOT FOUND FOR "+e}function qn(e){console.log(tg,"getQueryFromStr: s="+e);var t,r,n,o=!1,a=e.indexOf(":");if(-1===a)r=e,n="*"===r?{}:{parameters:{value:r}};else{t=e.substring(0,a).trim(),r=e.substring(a+1).trim(),"-"===t.substring(0,1)&&(t=t.substring(1),o=!0);var i=In(t);if(console.log(i),"in"===i&&(r=Mr(r,t)),"exact_match"===i&&"string"!=typeof r&&(r=""+r),0===r.indexOf(">")||0===r.indexOf("<"))i=r.substring(0,1),"="===r.substring(1,2)&&(i+="="),console.log(tg,"operator="+i),r=r.replace(i,"").trim(),i=t_[i],r=-1!==r.indexOf(".")?parseFloat(r):parseInt(r);else if(-1!==r.indexOf(" - ")){var s=r.split(" - ");isNaN(s[0])||isNaN(s[1])||(i="range",r=[parseFloat(s[0]),parseFloat(s[1])])}n={parameters:{attribute:t,negation:o,operator:i,value:r}}}return n=Object.assign(fn(),n)}function Rn(e,t,r){t.node||(e.label===r||e.service===r?t.node=e:"group"===e.type&&e.nodes.forEach(function(e){return Rn(e,t,r)}))}function Nn(e,t){return e.label===t}function Pn(e,t){!1===t.found&&("group"===e.type?e.nodes.forEach(function(e){return Pn(e,t)}):"text"===e.service?e.parameters?"exists"!==e.parameters.operator&&en(e.parameters.value)||(t.found=!0):t.found=!0:en(e.parameters.value)||(t.found=!0))}function Dn(e,t){"group"===e.type?e.nodes.forEach(function(e){return Dn(e,t)}):e.node_id=t.id++}function Mn(e){var t=Cr(e.query);un(t);var r="";return r+="group"===t.type?Bn(t,"root"):Ln(t)}function Bn(e,t){var r="",n=e.logical_operator,o=e.nodes;e.label;r+="root"===t?"":"( ";var a=[];return o.forEach(function(e){"terminal"===e.type?a.push(Ln(e)):a.push(Bn(e,!1))}),r+=a.join(Hn(n)),r+="root"===t?"":" )"}function Ln(e){var t,r,n,o,a,i,s,c,l,u,p,d,f,h,m,y,v,g=[],b=e.service,E=e.parameters;if(E&&(i=E.attribute,s=E.evalue_cutoff,c=E.identity_cutoff,l=E.pattern_type,u=E.negation,p=E.operator,d=E.target,f=E.value,h=E.type,m=E.match_subset,y=E.descriptor_type,v=E.match_type),"chemical"===b)t=tE[b]+' Search = <span class="sequence-wrap">'+f+"</span>",t+=Hn("where")+e_.query_type+rg+e_[h],"formula"===h?t+=Hn("and")+e_.match_subset+rg+m:(t+=Hn("and")+e_.descriptor_type+rg+e_[y],t+=Hn("and")+e_.match_type+rg+e_[v]),g.push(t);else if("text"===b){a="";var _=Rr(i?i:"full_text");null===_?console.error("fo IS NULL FOR "+i):(a+=_.display_name,a+=u?Hn("not"):"","exists"===p?a+=" "+Hn(p):(f="full_text"===_.attribute&&en(f)?"*":Un(f,p,_),"number"==typeof f?("in"===p||Qr(p))&&(p="exact_match"):("in"===p&&-1===f.indexOf("(")||Qr(p))&&(p="exact_match"),a+=Hn(p&&"exact_match"!==p?Hb[p]:"="),a+=f),g.push(a))}else if("seqmotif"===b)r=tE[b]+' = <span class="sequence-wrap">'+f+"</span>"+Hn("and")+e_.target+rg+e_[d]+Hn("and")+e_.pattern_type+rg+e_[l],g.push(r);else if("sequence"===b)n=tE[b]+' = <span class="sequence-wrap">'+f+"</span>"+Hn("and")+e_.target+rg+e_[d]+Hn("and")+e_.evalue_cutoff+rg+s+Hn("and")+e_.identity_cutoff+rg+c,g.push(n);else if("structure"===b){var w=f.assembly_id?e_.assembly_id+rg+Sr(f.assembly_id):e_.asym_id+rg+Sr(f.asym_id),S=[e_.entry_id+rg+Sr(f.entry_id),w,e_.shape_match+rg+Sr(e_[p])];o=tE[b]+Hn("where")+"( "+S.join(Hn("and"))+" )",g.push(o)}return g.join(Hn("and"))}function Un(e,t,r){if(r.format&&"date"===r.format)return Array.isArray(e)?"[ "+Wr(e[0])+" - "+Wr(e[1])+" ]":Wr(e);if("string"==typeof e)return"*"===e?e:Sr(e);if(Array.isArray(e)){if(Qr(t))return"[ "+e[0]+" - "+e[1]+" ]";if("in"===t)return 1===e.length?e[0]:"("+e.join(", ")+")"}return e}function Hn(e,t){return t||void 0===t?" <strong>"+e.toUpperCase()+"</strong> ":" "+e.toUpperCase()+" "}function Fn(e,t){Wn(e),Gn(e,t),Vn(e)}function Vn(e){if(e.drilldown){var t=[],r={};e.drilldown.forEach(function(e){return r[e.attribute]=e}),drilldownAttributes.forEach(function(e){r[e]&&t.push(r[e])}),e.drilldown=t}}function Gn(e,t){var r=t.query,n=pn(r,zb);if(e.drilldown&&n){var o=[];Qn(n,o),e.drilldown.forEach(function(e){e.groups.forEach(function(e){return e.checked=o.includes(e.label)})})}}function Wn(e){if(e.drilldown)for(var t=0,r=e.drilldown.length;t<r;t++){var n=function(t,r){var n=e.drilldown[t];if("rcsb_accession_info.initial_release_date"===n.attribute){if(n.groups){var o={},a=[];n.groups.forEach(function(e){var t=parseInt(e.label),r=t-t%5;o[r]?o[r]+=e.population:(a.push(r),o[r]=e.population)}),a.sort(),n.groups=[],a.forEach(function(e){return n.groups.push({label:""+e,population:o[e],checked:!1})})}return"break"}}(t);if("break"===n)break}}function Qn(e,t){if("terminal"===e.type){var r=e.parameters,n=r.attribute,o=r.value,a=r.operator;"rcsb_accession_info.initial_release_date"===n?t.push(o[0].substring(0,4)):"rcsb_entry_info.resolution_combined"===n?(o="less"===a?"*-"+o.toFixed(1):"greater_or_equal"===a?o.toFixed(1)+"-*":o[0].toFixed(1)+"-"+o[1].toFixed(1),t.push(o)):t.push(o)}else e.nodes.forEach(function(e){Qn(e,t)})}function zn(e,t,r,n){var o=Yn(e);if(console.log("========== processPath: "+e+": "+o),0===e.indexOf("/advanced")){var a=o||"text";Jn(t,r,ab,{tab:Tg}),Jn(t,r,cb,{service:a}),Jn(t,r,Yg,{type:GE,value:FE.advancedSearchNoQuery})}else if(0===e.indexOf("/browse")){var i=o||jr("views").tree;console.log(ng,"tree_id="+i),Jn(t,r,ab,{tab:xg,tree:i})}else if(0===e.indexOf("/help")){var s=o||JE[0].id;Jn(t,r,ab,{tab:Ag,help:s})}else if(0===e.indexOf("/mypdb")){var c=o||(n.mypdb?"queries":"login");Jn(t,r,ab,{tab:jg,mypdb:c})}}function Yn(e,t){var r=e.split("/");return r=r.filter(function(e){return!Gr(e)}),zr(ng,r,e),1===r.length?null:r[1]}function Jn(e,t,r,n){t?t(r,n):e({type:r,payload:n})}function Xn(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function Kn(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Xn(e.slice(0,0))}function Zn(e,t,r,n){void 0===t&&(t=IE);var o=jr("request-options");return r&&(o.sort=r),n&&(o.scoring_strategy=n),{query:e,return_type:t,request_options:o}}function $n(e,t,r){var n={query:e,return_type:t,request_options:{return_counts:!0}};return r&&(n.request_info={query_id:r}),n}function eo(e){e.request_info||(e.request_info={}),e.request_info.src||(e.request_info.src="ui"),e.request_info.query_id||(e.request_info.query_id=to(e))}function to(e){var t=e.query,r=e.return_type,n=e.request_options,o=n.scoring_strategy,a=n.sort,i=JSON.stringify(t)+r;return o&&(i+=o),a&&(i+=JSON.stringify(a)),cg(i)}function ro(e){var t=e(),r=t.request,n=t.searchResults;r.request_info&&r.request_info.query_id&&delete r.request_info.query_id;var o,a=no(n);if(a){o=dn(zb),a.forEach(function(e){var t,r=e.attribute,n=(e.type,e.is_date,e.values),a=dn(null,"or");n.forEach(function(e){if(facetFilters[r]){t="exact_match";var n=fn();n.parameters={attribute:r,operator:t,value:e};var o=fn();o.parameters=facetFilters[r];var i=dn();i.nodes.push(n),i.nodes.push(o),a.nodes.push(i)}else{if("rcsb_entry_info.resolution_combined"===r){var s=e.split("-");0===e.indexOf("*")?(t="less",e=parseFloat(s[1])):-1!==e.indexOf("-*")?(t="greater_or_equal",e=parseFloat(s[0])):(t="range",e=[parseFloat(s[0]),parseFloat(s[1])])}else"rcsb_accession_info.initial_release_date"===r?(t="range_closed",e=[e+"-01-01T00:00:00Z",parseInt(e)+4+"-12-31T23:59:59Z"]):t="exact_match";a.nodes.push({type:"terminal",service:"text",parameters:{attribute:r,operator:t,value:e}})}}),o.nodes.push(a)})}var i=Cr(r);i.request_options.pager.start=0;var s=i.query;return o?Cn(s,zb)?(Tn(s),s.nodes.push(o)):i.query={type:"group",logical_operator:"and",nodes:[s,o]}:Cn(s,zb)&&(Tn(s),i.query=s.nodes[0]),i}function no(e){if(e.drilldown){var t=[];return e.drilldown.forEach(function(e){var r=e.attribute.replace(".keyword",""),n=Rr(r);n||console.error(lg,"fo NOT FOUND for "+r);var o=n.type,a=Vr(n),i=[];e.groups.forEach(function(e){e.checked&&i.push(e.label)}),i.length>0&&t.push({attribute:r,type:o,is_date:a,values:i})}),t.length>0?t:null}return null}function oo(e,t){var r,n=e(),o=n.queryBuilder,a=n.returnType,i=n.sort,s=[],c=o.services,l=c.chemical,u=c.text,p=c.seqmotif,d=c.sequence,f=c.structure,h=qE;if(u.open&&u.root){var m=Cr(u.root);ho(m),console.log("root.items.length="+m.items.length),m.items.length>0&&(go(m),m.label=Zb,s.push(m))}if(d.open){var y=co(d);if(!y)return null;en(y)||(s.push(y),h="sequence")}if(p.open){var v=lo(p);if(!v)return null;en(v)||(s.push(v),h="combined")}if(f.open){var g=uo(f);if(!g)return null;en(g)||(s.push(g),h="combined")}if(l.open){var b=so(l);if(!b)return null;en(b)||(s.push(b),h="combined")}return 0===s.length?(alert(FE.emptyQuery),null):(r={type:"group",logical_operator:"and",nodes:s,label:Qb},t?$n(r,a):Zn(r,a,i,h))}function ao(e,t){var r=Cr(e);return vo(r),r.label=Yb,$n(r,t,e.id)}function io(e,t){console.log(ug,"getServiceCountRequest",t);var r,n=e(),o=n.queryBuilder,a=n.returnType,i=o.services[t];return"chemical"===t?r=so(i,!0):"seqmotif"===t?r=lo(i,!0):"sequence"===t?r=co(i,!0):"structure"===t&&(r=uo(i,!0)),r?$n(r,a):null}function so(e,t){zr(ug,e,"getChemicalNode: service");var r=e.value,n=e.type,o=e.match_subset,a=e.descriptor_type,i=e.match_type;return en(r)?t?(alert("Enter a value"),null):{}:{type:"terminal",service:"chemical",parameters:"formula"===n?{value:r,type:n,match_subset:o}:{value:r,type:n,descriptor_type:a,match_type:i},label:Vb}}function co(e,t){zr(ug,e,"getSequenceNode: service");var r=e.evalue_cutoff,n=e.identity_cutoff,o=e.target,a=e.value;return en(a)?t?(alert("Enter a sequence"),null):{}:an(a,o)&&nn(r)&&on(n)?(r=parseFloat(r),n=parseInt(n)/100,{type:"terminal",service:"sequence",parameters:{evalue_cutoff:r,identity_cutoff:n,target:o,value:a},label:Jb}):null}function lo(e,t){zr(ug,e,"getSeqmotifNode: service");var r=e.pattern_type,n=e.target,o=e.value;return en(o)?t?(alert("Enter a sequence motif"),null):{}:sn(o)?{type:"terminal",service:"seqmotif",parameters:{pattern_type:r,target:n,value:o},label:Xb}:null}function uo(e,t){zr(ug,e,"getStructureNode: service");var r=e.entry_id,n=e.operator,o=e.property,a=e.value;return en(r)?t?(alert("Enter a PDB ID"),null):{}:4===r.length?(a="assembly_id"===o?{entry_id:r,assembly_id:a}:{entry_id:r,asym_id:a},{type:"terminal",service:"structure",parameters:{value:a,operator:n},label:Kb}):(alert("Enter a valid PDB ID"),null)}function po(e,t,r){return Gr(e)?null:("string"==typeof e&&(e=e.trim()),t?t.is_iterable?e:"number"===t.type?parseFloat(e):"integer"===t.type?parseInt(e):"date"===t.input_type?Or(e,r):e:e)}function fo(e){e.items.forEach(function(e){"group"===e.type&&fo(e)}),e.items=e.items.filter(function(e){return"rule"===e.type||"group"===e.type&&e.items.length>0})}function ho(e){mo(e),fo(e)}function mo(e){e.items=e.items.filter(function(e){return"group"===e.type||("exists"===e.operator||!!yo(e))}),e.items.forEach(function(e){"group"===e.type&&mo(e)})}function yo(e){return Qr(e.operator)?!en(e.from)&&!en(e.to):(e.inputs=e.inputs.filter(function(e){return!en(e.value)}),e.inputs.length>0)}function vo(e){var t=e.attribute,r=e.attribute_nested,n=e.attribute_nested_value,o=e.from,a=e.inputs,i=e.not,s=e.operator,c=e.to,l=Rr(t);if(l){var u=l.is_iterable,p=l.useIn,d=void 0!==i&&i;console.log(ug,"attribute="+t+", negation="+d+", operator="+s+", from="+o+", to="+c);var f=[];if(Qr(s)&&void 0!==o&&void 0!==c?f[0]=[po(o,l,"from"),po(c,l,"to")]:a&&a.forEach(function(e){var t=po(e.value,l);console.log(ug+": ruleToTextQuery: typeof value="+typeof t+" "+t),Gr(t)||f.push(t)}),r){e.type="group";var h=Sn({attribute:r,operator:"exact_match",value:n});if("exists"===s){var m=Sn({attribute:t,negation:d,operator:s});Object.assign(e,_n(m,h))}else if(1===f.length){var y=f[0];u&&(y=Mr(y,t));var v=Sn({attribute:t,negation:d,operator:s,value:y});Object.assign(e,_n(v,h))}else console.log(ug,"operator="+s),!p||"exact_match"!==s&&"equals"!==s?(e.logical_operator=d?"and":"or",e.nodes=[],f.forEach(function(r){var n=Sn({attribute:t,negation:d,operator:s,value:r});e.nodes.push(_n(n,h))}),e.label=Gb):(console.log(ug,"using IN for nested"),Object.assign(e,_n(wn(e,f),h)))}else if("exists"===s)Object.assign(e,Sn({attribute:t,operator:s,negation:d}));else if(1===f.length){var g=f[0];u&&(g=Mr(g,t));var b={operator:s,negation:d,value:g};"full_text"!==t&&(b.attribute=t),Object.assign(e,Sn(b))}else!p||"exact_match"!==s&&"equals"!==s?(e.type="group",e.logical_operator=i?"and":"or",e.nodes=[],f.forEach(function(r){e.nodes.push(Sn({attribute:t,negation:d,operator:s,value:r}))})):Object.assign(e,wn(e,f)),e.label=Gb;kr(e,pg)}else console.error(ug,"fo NOT FOUND for attribute="+t)}function go(e,t){"group"===e.type?(e.nodes=[].concat(e.items),delete e.id,delete e.items,delete e.is_root,e.nodes.forEach(function(e){return go(e,t)})):"rule"===e.type&&vo(e)}function bo(e,t,r){return function(n,o){var a=bn(e,t);a.service="text",a.type="terminal";var i=Zn(a,r);n({type:fb,payload:{open:!1,src:dg+": attributeValueSearch"}});var s=o().views;"REPORT"===s.search&&"create_custom_report"===s.report&&n({type:ab,payload:{report:"search_summary",search:Rg}}),Bo(Lb,i)(n,o)}}function Eo(e){return function(t,r){var n;if(e){var o=r(),a=o.returnType;n=ao(e,a)}else n=oo(r,fg);n&&Bo(Ub,n)(t,r)}}function _o(e){return function(t,r){var n=JSON.parse(e);Bo(Lb,n)(t,r)}}function wo(e){return function(t,r){if(e){for(var n,o=r(),a=o.history,i=o.request,s=a.id,c=a.ids,l=a.map,u=c.length,p=0;p<u&&(c[p]!==i.request_info.query_id||("prev"===e?p<u-1&&(n=l[c[p+1]]):p>0&&(n=l[c[p-1]]),!n));p++);n||(n=l[s]),n&&(t({type:Hg,payload:{addUrl:!1}}),Oo(n.request,"prevNext")(t,r))}}}function So(){return function(e,t){var r=oo(t);r&&Bo(Lb,r)(e,t)}}function Co(){return function(e,t){var r=ro(t);Bo(Lb,r)(e,t)}}function Oo(e,t){return function(r,n){var o=e.request_info,a=e.request_options,i=e.return_type,s=e.query;a.pager=jr("request-pager");var c=o.query_id;r(Cn(s,Qb)?{type:cb,payload:{request:e}}:{type:fb,payload:{open:!1,src:dg+": requestSearch"}}),r({type:eb,payload:{returnType:i}}),"mypdb"!==t&&r({type:jb,payload:{id:c}}),Bo(Lb,e)(r,n)}}function ko(e){return console.log(dg,"serviceCountSearch",e),function(t,r){var n=io(r,e);zr(dg,n,"serviceCountSearch: request"),n&&Bo(Ub,n)(t,r)}}function To(){return function(e,t){try{var r=Hr();if(r){var n=Br(r),o=n.q,a=n.query,i=n.request,s=n.return_type,c=n.rt;if(o||a||i){if(o){if(console.log(dg,"urlSearch: q="+o),a=vn(o),i=Zn(a,c),"*"===o){var l=Lr("rcsb_accession_info.initial_release_date desc");i.request_options.sort=l,e({type:nb,payload:{sort:l}})}}else if(a){if(a=JSON.parse(a),a.type||(a.type="terminal"),"terminal"===a.type&&(a.service||(a.service="text"),"structure"!==a.service||a.parameters.operator||(a.parameters.operator="strict_shape_match"),"sequence"===a.service)){var u=a.parameters;u.target||(u.target=nE),u.evalue_cutoff||(u.evalue_cutoff=oE),u.identity_cutoff||(u.identity_cutoff=aE)}jn(a),i=Zn(a,s),zr(dg,i,"request")}else i&&(i=JSON.parse(i),i.request_options&&(i.request_options.pager=jr("request-pager")),Cn(i.query,Qb)&&e({type:cb,payload:{request:i}}));Bo(Lb,i)(e,t)}else{var p="UNKNOWN ERROR in urlSearch(): qs="+r;console.error(dg,p),e({type:Hg,payload:{dataLoading:!1}}),e({type:Yg,payload:{type:VE,value:p}})}}else e({type:Hg,payload:{dataLoading:!1}}),e({type:Yg,payload:{type:GE,value:FE.noQuery}})}catch(t){e({type:Yg,payload:{type:VE,value:"ERROR: "+t}})}}}function xo(e){return function(t,r){var n=r(),o=n.booleans,a=n.history,i=n.urls,s=JSON.parse(e.state);if(zr(hg,s,"popState: state~~~~~~~~~~~~~~~~~~~"),s){var c=r().urls,l=c.arr,u=c.index,p=c.history_index;u=s.history_index<p?u-1:u+1,u<0&&(u=0),u>l.length-1&&(u=l.length);var d=l[u];t({type:ob,payload:{history_index:s.history_index,index:u}});var f=d.value,h=d.type;if("request"===h){t({type:Hg,payload:{addUrl:!1}});Oo(a.map[f].request,"popState")(t,r)}else if("referrer"===h)window.location=f;else if("path"===h){t({type:Hg,payload:{addUrl:!1}});var m=f.substring(7);zn(m,t,null,o),jo({path:f})}}else window.location=i[0].value}}function jo(e){return function(t,r){var n,o=r(),a=o.booleans,i=o.urls,s=i.history_index+1,c={history_index:s};if(e){var l,u,p=e.path,d=e.referrer,f=e.request,h=e.src,m=e.view,y=e.id;f?(l=f.request_info.query_id,u="request",n=mg+"?request="+encodeURIComponent(JSON.stringify(f))):p?(l=p,u="path",n=p):d&&(l=d,u="referrer");var v={value:l,src:h,type:u,view:m,id:y};t(a.addUrl?{type:ib,payload:{urlObj:v}}:{type:Hg,payload:{addUrl:!0}})}else n=mg;history.pushState(JSON.stringify(c),null,n),t({type:ob,payload:{history_index:s}})}}function Ao(e,t,r,n,o,a){e===Ub?No(t,r,n,o):e===Bb?Po(t,r,n,o):e===Lb&&Do(t,r,n,o,a)}function Io(e,t,r,n){console.log(yg,"processDataError:",e,n),r({type:Yg,payload:{type:VE,value:"ERROR: "+n}}),r({type:Hg,payload:{countLoading:!1,dataLoading:!1}})}function qo(e,t){for(var r=Dr(e),n=t.map,o=!0,a=0,i=r.length;a<i;a++){!1===n[r[a]].checked&&(o=!1);break}return o}function Ro(e,t){var r=t.map;e.forEach(function(e){var t=r[e.identifier];if(t){var n=t.sequence_match,o=t.seqmotif_match,a=t.structure_match;Object.assign(e,{sequence_match:n,seqmotif_match:o,structure_match:a})}})}function No(e,t,r,n){var o=n.statusCode&&204===n.statusCode?0:n.total_count;if(e.query.label===Vb)t({type:sb,payload:{count:o}});else if(e.query.label===Yb){var a=e.request_info.query_id;t({type:Ob,payload:{ruleId:a,count:o}})}else t(e.query.label===Xb?{type:pb,payload:{count:o}}:e.query.label===Jb?{type:ub,payload:{count:o}}:e.query.label===Kb?{type:hb,payload:{count:o}}:{type:fb,payload:{count:o}});t({type:Hg,payload:{countLoading:!1}})}function Po(e,t,r,n){var o=e.report;console.log(yg+": processGqlData: report="+o);var a;if(o===TE){a=n,console.log(yg,"processGqlData","dataResults.length="+a.length);var i=r(),s=i.searchResults,c=qo(a,s);Ro(a,s),t({type:rb,payload:{checked:c}})}else a={},t({type:Db,payload:{table:n.table,batch:null,format:null,mode:null}});t({type:$g,payload:{dataResults:a}}),t({type:ab,payload:{report:o}}),t({type:Hg,payload:{dataLoading:!1}});var l=r().request;setTimeout(function(){jo({request:l,src:"process-data.processGqlData"})(t,r)},500)}function Do(e,t,r,n,o){var a=Mo(e,t);if(204===n.statusCode){t({type:Yg,payload:{type:WE,value:FE.noResults}}),t({type:tb,payload:{}}),t({type:Hg,payload:{dataLoading:!1}}),t({type:Ab,payload:{request:e,html:a,count:0,took:o}});setTimeout(function(){jo({request:e,src:"process-data.processSearch"})(t,r)},500)}else{t({type:tb,payload:{data:n,request:e}});var i=n.total_count;0===e.request_options.pager.start&&(Fn(n,e),t({type:Jg,payload:{start:0,total_count:i}}),t({type:Ab,payload:{request:e,html:a,count:i,took:o}}));var s=r().views,c=s.report;s.search===Ng&&"pdb_ids"===c?t({type:Hg,payload:{dataLoading:!1}}):Bo(Bb)(t,r)}}function Mo(e,t){t({type:Kg,payload:{request:e}});var r=Mn(e);return t({type:Zg,payload:{html:r}}),r}function Bo(e,t){return function(r,n){r({type:Yg,payload:null});var o,a,i,s=Date.now();if(e===Mb)t=Cr(t),delete t.request_options.pager,delete t.request_options.scoring_strategy,r({type:Hg,payload:vg}),o=kg;else if(e===Ub){var c=t?t.query:null;On(c)?(kn(c),eo(t),r({type:Hg,payload:gg}),o=kg):alert(FE.emptyQuery)}else if(e===Bb)jo()(r,n),t=Fo(n()),r({type:Hg,payload:vg}),o=Cg;else if(e===Lb){jo()(r,n);var l=t?t.query:null;On(l)?(kn(l),eo(t),r({type:Hg,payload:vg}),r({type:eb,payload:{returnType:t.return_type}}),r({type:ab,payload:{tab:Tg}}),xn(l),o=kg):(console.log("query is NOT valid"),alert(FE.emptyQuery))}if(o){var u=JSON.stringify(t);fetch(o,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},referrer:Sg.referer,body:u}).then(function(e){if(!e.ok)throw Error(e.status+": "+e.statusText);return e.text()}).then(function(o){try{a=JSON.parse(o)}catch(e){throw e}var c=Date.now()-s;a.statusCode&&204!==a.statusCode?(i=a.statusCode+" "+a.msg,Io(e,t,r,i)):Ao(e,t,r,n,a,c)}).catch(function(n){i=n.message,Io(e,t,r,i)})}}}function Lo(e){return function(t,r){var n=r(),o=n.pager,a=n.searchResults,i=n.views,s=o.rows,c=o.start,l=a.result_set,u=i.report;if(c="next"===e?c+s:c-s,t({type:Jg,payload:{start:c}}),c>=l.length){t({type:Lg});var p=r().request;console.log(xE,"retrieving next searchResults.result_set"),Bo(Lb,p)(t,r)}else i.search===Ng&&"pdb_ids"===u||Bo(Bb)(t,r)}}function Uo(e){return function(t,r){e=parseInt(e),t({type:Jg,payload:{rows:e,start:0}});var n=r(),o=n.searchResults,a=n.views,i=o.result_set,s=a.report;i&&"pdb_ids"!==s&&Bo(Bb)(t,r)}}function Ho(e){return function(t,r){var n=r(),o=n.pager,a=Cr(n.request);t({type:nb,payload:{sort:e}}),
a.request_options.sort=e,a.request_options.pager=jr("request-pager"),a.request_options.pager.rows=o.rows,Bo(Lb,a)(t,r)}}function Fo(e){var t=e.pager,r=e.returnType,n=e.searchResults,o=e.tabularReport,a=e.views,i=a.report,s=Dr(n,t.rows,t.start);return{attributes:"custom_report"===i?o.attributes:null,identifiers:s,returnType:r,report:i}}function Vo(e,t,r,n){return t||r&&n&&(t={},t[r]=n),function(r){return r({type:e,payload:t})}}function Go(e,t){return function(r,n){console.log(bg,"saveTreeData: tree_id="+e),r({type:Tb,payload:{tree_id:e,tree:t}})}}function Wo(e,t){return console.log(bg,"setControl: control="+e,t),function(t,r){t({type:Vg,payload:{control:e}})}}function Qo(e,t){return function(r,n){r({type:Qg,payload:{id:e,checked:t}});for(var o=n().searchResults.result_set,a=!0,i=0,s=o.length;i<s;i++)if(!o[i].checked){a=!1;break}r({type:rb,payload:{checked:a}})}}function zo(e,t){return function(r,n){var o=n(),a=o.returnType,i=o.views;console.log(bg,"setViews: BEFORE: views.search="+i.search+", views.report="+i.report+", search="+e+", report="+t+", returnType="+a),e===i.search&&t===i.report||(r({type:ab,payload:{search:e,report:t}}),i.report!==t&&"pdb_ids"!==t&&"create_custom_report"!==t&&Bo(Bb)(r,n))}}function Yo(e){return function(t,r){t({type:rb,payload:{checked:e}});var n=r().dataResults;t({type:Ug,payload:{checked:e,dataResults:n}})}}function Jo(e){return function(t,r){t({type:mb,payload:{id:e}}),ia(t,r)}}function Xo(e){return function(t,r){t({type:yb,payload:{rule:e}}),ia(t,r)}}function Ko(e){return function(t,r){t({type:vb,payload:{id:e}}),ia(t,r)}}function Zo(e,t){return function(r,n){r({type:bb,payload:{parentId:e,groupId:t}}),ia(r,n)}}function $o(e,t){return function(r,n){r({type:gb,payload:{rule:e,guid:t}}),ia(r,n)}}function ea(e,t){return function(r,n){r({type:Eb,payload:{groupId:e,ruleId:t}}),ia(r,n)}}function ta(e,t){return function(r,n){r({type:_b,payload:{ruleId:e,item:t}}),ia(r,n)}}function ra(e){return function(t,r){t({type:wb,payload:{id:e}}),ia(t,r)}}function na(e){return function(t,r){t({type:Sb,payload:{id:e}}),ia(t,r)}}function oa(e,t){return function(r,n){r({type:Cb,payload:{id:e,operator:t}}),ia(r,n)}}function aa(e,t,r){return function(n,o){n({type:kb,payload:{ruleId:e,inputId:t,value:r}}),ia(n,o)}}function ia(e,t){e({type:fb,payload:{count:-1}})}function sa(e){return function(t,r){t({type:Mg,payload:{refinement:e}})}}function ca(){return function(e,t){e({type:Bg})}}function la(e,t,r){return function(n,o){n({type:Xg,payload:{refinement:e,value:t,checked:r}})}}function ua(e,t){e=Object.assign({},e,t);var r=e.rows,n=e.start,o=e.total_count;e.page=n/r+1,e.total_pages=Math.ceil(o/r),e.start_num=n+1;var a=e.page*r;return e.end_num=o<a?o:a,e}function pa(e){var t,r;e&&(t=e.request,r=e.service),t?console.log(n_,"getQueryBuilder: return qb from request"):console.log(n_,"getQueryBuilder: return empty queryBuilder, service="+r);var n=ha(r);if(t){zr(n_,t,"request");var o=t.query,a=yn(o);if(zr(n_,a,"serviceNodes"),a.text){var i=n.services.text;i.map={},i.open=!0,i.count=-1;var s=Cr(a.text);ma(s,i.map),s.is_root=!0,i.root=s}else fa(n,"text");if(a.sequence){var c=a.sequence.parameters,l=c.evalue_cutoff,u=c.identity_cutoff,p=c.target,d=c.value,f=n.services.sequence;u=parseInt(100*u),Object.assign(f,{count:-1,open:!0,evalue_cutoff:l,identity_cutoff:u,target:p,value:d})}else fa(n,"sequence");if(a.seqmotif){var h=a.seqmotif.parameters,m=h.pattern_type,y=h.target,v=h.value,g=n.services.seqmotif;Object.assign(g,{count:-1,open:!0,pattern_type:m,target:y,value:v})}else fa(n,"seqmotif");if(a.structure){var b=a.structure.parameters,E=b.operator,_=b.value.entry_id,w=b.value.assembly_id?"assembly_id":"asym_id",S="assembly_id"===w?b.value.assembly_id:b.value.asym_id,C=n.services.structure;Object.assign(C,{count:-1,open:!0,entry_id:_,operator:E,property:w,value:S})}else fa(n,"structure");if(a.chemical){zr(n_,a.chemical,"serviceNodes.chemical");var O=a.chemical.parameters,k=O.value,T=O.type,x=O.match_subset,j=O.descriptor_type,A=O.match_type,I=n.services.chemical;Object.assign(I,{count:-1,open:!0,value:k,type:T,match_subset:x,descriptor_type:j,match_type:A}),zr(n_,I,"chemical")}else fa(n,"chemical")}else eE.forEach(function(e){return fa(n,e)}),r?n.services[r].open=!0:n.services.text.open=!0;return da(n),n}function da(e){for(var t=!1,r=0,n=eE.length;r<n;r++){var o=e.services[eE[r]];o.showAnd=t,o.open&&(t=!0)}}function fa(e,t){if("text"===t){var r=e.services.text;r.map={};var n=Sa();n.is_root=!0,r.root=n,r.map[n.id]=n,ya(r.map,r.root.id)}else Object.assign(e.services[t],jr(t));e.services[t].open=!1}function ha(e){var t={open:!0,services:{},label:Qb};return eE.forEach(function(e){return t.services[e]={open:!1,label:e}}),e?t.services[e].open=!0:t.services.text.open=!0,t}function ma(e,t){if("group"===e.type)if(e.label===Wb){e.type="rule",e.id=Nr(),t[e.id]=e;var r=e.nodes[0].parameters,n=r.attribute,o=r.negation,a=r.operator,i=r.value;e.attribute=n,e.not=o,e.operator=a,e.inputs=[{value:i,guid:Nr()}],e.attribute_nested=e.nodes[1].parameters.attribute,e.attribute_nested_value=e.nodes[1].parameters.value,kr(e,["label","logical_operator","node_id","nodes"])}else if(e.label===Gb){if(e.type="rule",e.id=Nr(),t[e.id]=e,e.nodes[0].label===Wb){var s=e.nodes[0].nodes[0].parameters,c=s.attribute,l=s.negation,u=s.operator;e.attribute=c,e.not=l,e.operator=u,e.inputs=[],e.nodes.forEach(function(t){e.inputs.push({value:t.nodes[0].parameters.value,guid:Nr()})}),e.attribute_nested=e.nodes[0].nodes[1].parameters.attribute,e.attribute_nested_value=e.nodes[0].nodes[1].parameters.value}else{var p=e.nodes[0].parameters,d=p.attribute,f=p.negation,h=p.operator;e.attribute=d,e.not=f,e.operator=h,e.inputs=[],e.nodes.forEach(function(t){e.inputs.push({value:t.parameters.value,guid:Nr()})})}kr(e,["label","logical_operator","node_id","nodes"])}else e.id=Nr(),t[e.id]=e,e.items=[].concat(e.nodes),kr(e,["label","node_id","nodes"]),e.items.forEach(function(e){return ma(e,t)});else{if(e.type="rule",e.id=Nr(),t[e.id]=e,e.parameters){var m=e.parameters,y=m.attribute,v=m.negation,g=m.operator,b=m.value;e.attribute=y||"full_text",e.not=void 0!==v&&v,e.operator=g;var E=Rr(e.attribute);e.label===Gb?(e.inputs=[],b.forEach(function(t){e.inputs.push({value:t,guid:Nr()})}),e.operator="string"===E.type?"exact_match":"equals"):(Qr(g)?"date"===E.format?(e.from=Wr(b[0]),e.to=Wr(b[1])):(e.from=b[0],e.to=b[1]):"date"===E.format&&"exists"!==g&&(b=Wr(b)),e.inputs=[{value:b,guid:Nr()}])}else{e.attribute="full_text";e.inputs=[{value:"*",guid:Nr()}]}kr(e,["label","node_id","parameters","service"])}}function ya(e,t){var r=e[t],n=Sa();r.items.push(n),e[n.id]=n,Ra(n,e)}function va(e,t){ya(e,t)}function ga(e,t){qa(e[t],e)}function ba(e,t){var r=Nr();e[t.id].inputs.push({guid:r,value:null})}function Ea(e,t){var r=t.parentId,n=t.groupId,o=e[r];o.items=o.items.filter(function(e){return e.id!==n}),delete e[n]}function _a(e,t){var r=t.rule,n=t.guid;e[r.id].inputs=r.inputs.filter(function(e){return e.guid!==n}),e[r.id].count=-1}function wa(e,t){var r=t.groupId,n=t.ruleId,o=e[r];o.items=o.items.filter(function(e){return e.id!==n}),delete e[n]}function Sa(){return{type:"group",id:Nr(),items:[],logical_operator:"and"}}function Ca(e){e.count=-1;var t=e.services.text.map;if(t)for(var r in t)"rule"===t[r].type&&(t[r].count=-1);eE.forEach(function(t){"text"!==t&&e.services[t]&&(e.services[t].count=-1)})}function Oa(e,t){var r=t.ruleId,n=t.item,o=e[r];o.attribute=n.attribute,o.attribute_nested=n.attribute_nested,o.attribute_nested_value=n.attribute_nested_value;var a=Rr(n.attribute);o.operator=a.default_operator;var i=Nr();o.inputs=[{guid:i,value:null}],o.not=!1,o.to=null,o.from=null,o.count=-1}function ka(e,t){e[t].logical_operator="and"===e[t].logical_operator?"or":"and"}function Ta(e,t){var r=e[t];r.not=!r.not,r.count=-1}function xa(e,t){t&&(e.services[t.service].open=!e.services[t.service].open),da(e)}function ja(e,t){var r=t.id,n=t.operator,o=e[r],a=o.operator;Qr(a)&&Qr(n)?o.inputs&&o.inputs[0]&&(o.inputs[0].value=null):Qr(a)?(o.from=null,o.to=null,o.inputs&&o.inputs[0]&&(o.inputs[0].value=null)):Qr(n)&&o.inputs&&o.inputs[0]&&(o.inputs[0].value=null),o.operator=n,o.count=-1}function Aa(e,t){var r=t.ruleId;delete t.ruleId,Object.assign(e[r],t)}function Ia(e,t){var r=t.ruleId,n=t.inputId,o=t.value,a=e[r],i=a.inputs,s=a.attribute;Qr(a.operator)?a[n]=o:i.forEach(function(e){"rcsb_entry_container_identifiers.entry_id"!==s&&"rcsb_entity_container_identifiers.entry_id"!==s&&"rcsb_chem_comp_container_identifiers.comp_id"!==s&&"rcsb_chem_comp_descriptor.InChIKey"!==s||(o=o.toUpperCase()),e.guid===n&&(e.value=o)}),a.count=-1}function qa(e,t){var r=Na();e.items.push(r),t[r.id]=r}function Ra(e,t){qa(e,t),qa(e,t)}function Na(){return{type:"rule",id:Nr(),attribute:null,operator:null,inputs:[]}}function Pa(e,t){var r=t.request.request_info.query_id,n=Cr(t.request);delete n.request_options.pager,t.request=n;var o=Cr(e),a=o.map,i=o.ids;for(a[r]?a[r].last_run=Date.now():(i.unshift(r),t.last_run=Date.now(),a[r]=t,o.id=r),console.log(o_,"add query_id="+r+", ids.length="+i.length);i.length>wE;){delete a[i.pop()]}return Ur().setItem("history",JSON.stringify(o)),o}function Da(e,t){var r=Cr(e),n=r.ids;return r.ids=n.filter(function(e){return e!==t}),delete r.map[t],r.id===t&&(r.id=null),Ur().setItem("history",JSON.stringify(r)),r}function Ma(){return{map:{},ids:[],id:null}}function Ba(e){var t=Cr(e),r=t.request_options.pager;return r.start+=r.rows,t}function La(e,t){e.drilldown.forEach(function(e){e.attribute===t.attribute&&e.groups.forEach(function(e){return e.checked=!1})})}function Ua(e){e.drilldown.forEach(function(e){return e.groups.forEach(function(e){return e.checked=!1})})}function Ha(e,t){var r=t.data,n=t.request;if(r&&n){var o=n.request_options,a=o.pager;if(0===a.start)return r.map={},r.result_set.forEach(function(e){e.checked=!0,r.map[e.identifier]=e}),r;if(a.start>0)return r.result_set.forEach(function(t){t.checked=!0,e.result_set.push(t),e.map[t.identifier]=t}),e}return null}function Fa(e,t){var r=t.checked;Dr(t.dataResults).forEach(function(t){return e.map[t].checked=r})}function Va(e,t){var r=e.result_set,n=t.id,o=t.checked;if(r)for(var a=0,i=r.length;a<i;a++){var s=r[a];if(s.identifier===n){s.checked=o;break}}}function Ga(e,t){e.drilldown.forEach(function(e){e.attribute===t.attribute&&(e.maxGroups+=10)})}function Wa(e,t){for(var r=t.refinement,n=t.value,o=t.checked,a=r.attribute,i=e.drilldown,s=0;s<i.length;s++)if(i[s].attribute===a){var c=i[s].groups;if(c){for(var l=0;l<c.length;l++)if(c[l].label===n){c[l].checked=o;break}break}}}function Qa(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case Hg:return Object.assign({},e,n);default:return e}}function za(e,t){void 0===e&&(e=1170);var r=t.type,n=t.payload;switch(r){case Fg:return n.containerWidth;default:return e}}function Ya(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case Vg:return n.control;default:return e}}function Ja(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case Rb:var o=Cr(e),a=n.attribute,i=n.checked;return console.log(a_,a,i),o.map[a].checked=i,o;case Nb:return n.data;case Pb:var s=n.attributes,c=Cr(e),l=c.map;return Object.keys(l).forEach(function(e){return l[e].checked=!1}),s.forEach(function(e){l[e]&&(l[e].checked=!0)}),c;default:return e}}function Xa(e,t){void 0===e&&(e=1200);var r=t.type,n=t.payload;switch(r){case Gg:return n.cw;default:return e}}function Ka(e,t){void 0===e&&(e={});var r=t.type,n=t.payload;switch(r){case Wg:var o=Object.assign({},e),a=n.id,i=n.html;return o[a]=i,o;default:return e}}function Za(e,t){void 0===e&&(e={map:{},ids:[],id:null});var r=t.type,n=t.payload;switch(r){case jb:return Object.assign({},e,n);case xb:return n.history;case Ab:return Pa(e,n);case Ib:return Da(e,n.id);case qb:return Ma(e);default:return e}}function $a(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case Yg:return n;default:return e}}function ei(e,t){void 0===e&&(e={rows:25,start:0,total_count:0});var r=t.type,n=t.payload;switch(r){case Jg:return ua(e,n);default:return e}}function ti(e,t){void 0===e&&(e=null);var r,n,o=t.type,a=t.payload;switch(o!==cb&&(n=Cr(e),0===o.indexOf("QB_TEXT")&&(r=n.services.text.map)),o){case sb:return Object.assign(n.services.chemical,a),n;case cb:return pa(a);case lb:return Ca(n),n;case ub:return Object.assign(n.services.sequence,a),n;case pb:return Object.assign(n.services.seqmotif,a),n;case db:return xa(n,a),n;case fb:return n&&Object.assign(n,a),n;case hb:return Object.assign(n.services.structure,a),n;case mb:return va(r,a.id),n;case yb:return ba(r,a.rule),n;case vb:return ga(r,a.id),n;case bb:return Ea(r,a),n;case gb:return _a(r,a),n;case Eb:return wa(r,a),n;case _b:return Oa(r,a),n;case wb:return ka(r,a.id),n;case Sb:return Ta(r,a.id),n;case Cb:return ja(r,a),n;case Ob:return Aa(r,a),n;case kb:return Ia(r,a),n;default:return e}}function ri(e,t){void 0===e&&(e={});var r=t.type,n=t.payload;switch(r){case Lg:return Ba(e);case Kg:return n.request;default:return e}}function ni(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case Zg:return n.html;default:return e}}function oi(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload;switch(r){case $g:return null===n?null:n.dataResults;default:return e}}function ai(e,t){void 0===e&&(e=null);var r=t.type,n=t.payload,o=Cr(e);switch(r){case Mg:return La(o,n.refinement),o;case Bg:return Ua(o),o;case Ug:return Fa(o,n),o;case Qg:return Va(o,n),o;case zg:return Ga(o,n.refinement),o;case Xg:return Wa(o,n),o;case tb:return null===n?null:Ha(o,n);default:return e}}function ii(e,t){void 0===e&&(e="entry");var r=t.type,n=t.payload;switch(r){case eb:return n.returnType;default:return e}}function si(e,t){void 0===e&&(e=!0);var r=t.type,n=t.payload;switch(r){case rb:return n.checked;default:return e}}function ci(e,t){void 0===e&&(e=jr("request-sort"));var r=t.type,n=t.payload;switch(r){case nb:return n.sort;default:return e}}function li(e,t){void 0===e&&(e=jr("tabular-report"));var r=t.type,n=t.payload;switch(r){case Db:return Object.assign({},e,n);default:return e}}function ui(e,t){void 0===e&&(e={});var r=t.type,n=t.payload,o=Cr(e);switch(r){case Tb:console.log(a_,r);var a=n.tree_id,i=n.tree;return o[a]=i,o;default:return e}}function pi(e,t){void 0===e&&(e={arr:[],index:0,history_index:0});var r=t.type,n=t.payload,o=Cr(e);switch(r){case ib:var a=n.urlObj;return a.index=o.arr.length,o.arr.push(a),o.index=o.arr.length-1,o;case ob:return Object.assign(o,n),o;default:return e}}function di(e,t){void 0===e&&(e=jr("views"));var r=t.type,n=t.payload;switch(r){case ab:return Object.assign({},e,n);default:return e}}function fi(e){return e?JSON.stringify(e,null,2):null}function hi(e,t){var r={};for(var n in e)"function"==typeof e[n]||t.includes(n)||(r[n]=e[n]);return JSON.stringify(r,null,2)}function mi(e){var t=Cr(e);delete t.request.request_options.pager;var r=Object.assign({},HE,{body:JSON.stringify(t)});Tr(Dw,r,yi)}function yi(e,t){e?alert("Query saved to MyPDB"):t?alert("An unknown error occurred while saving query to MyPDB: \n\n"+t):alert("An unknown error occurred while saving query to MyPDB")}function vi(e){if(N_){var t="menu-container-"+N_.guid,r=wi(t);_i(e.target,r),r.found||N_.setState({menuOpen:!1})}if(P_){var n=P_.component_id,o=wi(n);_i(e.target,o),o.found||("query-builder-component"!==n&&"search-bar-component"!==n||P_.setState({menuOpen:!1}),P_.unsetControl(),P_=null)}}function gi(e){var t=e.keyCode,r=!1;if(N_){var n=N_.state,o=n.menuIndex,a=n.menuItems,i=n.menuOpen;if(i)if("selector"===N_.name&&e.preventDefault(),38===t&&o>-1||40===t&&o<a.length-1){var s=38===t?o-1:o+1;if(-1!==s){"search-bar"!==N_.name&&"selector"!==N_.name||("header"===a[s].type&&(38===t?s--:s++),"selector"===N_.name&&N_.setState({header_index:a[s].header_index}));var c=Ir("menu"+s);c&&(c.parentNode.scrollTop=Math.max(c.offsetTop-308,0))}N_.setState({menuIndex:s})}else if(13===t)if(o>-1&&"header"!==a[o].type)r=!0,N_.handleMenuSelect(a[o]);else if("search-bar"===N_.name&&-1===o&&i&&2===a.length){var l=a[1],u=N_.state.attributes[l.attrIndex].attribute;if("rcsb_entry_container_identifiers.entry_id"===u||"rcsb_repository_holdings_removed_entry_container_identifiers.entry_id"===u||"rcsb_repository_holdings_unreleased_entry_container_identifiers.entry_id"===u||"rcsb_chem_comp_container_identifiers.comp_id"===u||"rcsb_chem_comp_container_identifiers.prd_id"===u){r=!0;var p=Jr(l.__html);N_.handleSearch(u,p)}}}!r&&P_&&13===t&&(N_&&N_.state.menuOpen&&N_.setState({menuOpen:!1}),P_.search())}function bi(e){P_=e}function Ei(e,t){void 0!==e.menuOpen&&(N_&&N_.guid!==t.guid&&N_.setState({menuOpen:!1}),t.setState(e),N_=e.menuOpen?t:null)}function _i(e,t){if(e){if(e.id&&e.id===t.id)return void(t.found=!0);if(!(++t.count<PS))return;_i(e.parentNode,t)}}function wi(e){return{id:e,found:!1,count:0}}function Si(e,t){return"rcsb_accession_info.initial_release_date"===t?e+" - "+(parseInt(e)+4):"rcsb_entry_info.resolution_combined"===t?0===e.indexOf("*-")?"< "+e.replace("*-",""):-1!==e.indexOf("-*")?"> "+e.replace("-*",""):e.replace("-"," - "):e}function Ci(e,t){var r=e.request,n=e.returnType,o=e.searchResults,a=e.tabularReport,i=e.views,s=t.batch,c=t.format,l=t.from,u=t.to,p=o.total_count,d=a.attributes,f=i.report;console.log(XC,"getData: ",s,c,f,d),Ti({attributes:d,batch:s,format:c,report:f,reportRequest:ki(r,s,l,u,p,bE),returnType:n,total_count:p},"/search/data-download")}function Oi(e,t){var r=e.request,n=e.searchResults,o=t.batch,a=t.mode,i=t.from,s=t.to,c=n.total_count;console.log(XC,"getIds: ",o,a,i,s),Ti({batch:o,mode:a,reportRequest:ki(r,o,i,s,c,_E),total_count:c},"/search/data-download/ids")}function ki(e,t,r,n,o,a){return e=Cr(e),e.request_options.pager.start=t?r:0,e.request_options.pager.rows=t?n-r+1:Math.min(o,a),e}function Ti(e,t){var r=document.getElementById("data-form");r.action=t,r.elements.data.value=JSON.stringify(e),r.submit()}function xi(e,t){return Dr(e,t.rows,t.start).join(", ")}function ji(e){window.scrollTo(0,Ai(document.getElementById("tree-item-"+e)))}function Ai(e){var t=0;do{t+=e.offsetTop||0,e=e.offsetParent}while(e);return t-100}function Ii(e){e.s?e.s=!1:e.ch&&e.ch.forEach(function(e){return Ii(e)})}function qi(e){for(var t=""+e;t.length<7;)t="0"+t;return"GO:"+t}function Ri(e){return e=e.trim(),!(e.length<2)&&('"'===e.substring(0,1)&&'"'===e.substring(e.length-1,e.length)&&(console.log(e+" IS QUOTED"),!0))}var Ni,Pi="default"in e?e.default:e,Di="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mi=n,Bi=[],Li=!1,Ui=0,Hi=1024,Fi=void 0!==Di?Di:self,Vi=Fi.MutationObserver||Fi.WebKitMutationObserver;Ni="function"==typeof Vi?function(e){var t=1,r=new Vi(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}(o):a(o),n.requestFlush=Ni,n.makeRequestCallFromTimer=a;var Gi=null,Wi={},Qi=u;u._Y=null,u._Z=null,u._0=i,u.prototype.then=function(e,t){if(this.constructor!==u)return p(this,e,t);var r=new u(i);return d(this,new v(e,t,r)),r};var zi=[ReferenceError,TypeError,RangeError],Yi=!1,Ji=b,Xi=E,Ki={disable:Ji,enable:Xi},Zi=Qi,$i=S(!0),es=S(!1),ts=S(null),rs=S(void 0),ns=S(0),os=S("");Qi.resolve=function(e){if(e instanceof Qi)return e;if(null===e)return ts;if(void 0===e)return rs;if(!0===e)return $i;if(!1===e)return es;if(0===e)return ns;if(""===e)return os;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new Qi(t.bind(e))}catch(e){return new Qi(function(t,r){r(e)})}return S(e)};var as=function(e){return"function"==typeof Array.from?(as=Array.from,Array.from(e)):(as=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};Qi.all=function(e){var t=as(e);return new Qi(function(e,r){function n(a,i){if(i&&("object"==typeof i||"function"==typeof i)){if(i instanceof Qi&&i.then===Qi.prototype.then){for(;3===i._V;)i=i._W;return 1===i._V?n(a,i._W):(2===i._V&&r(i._W),void i.then(function(e){n(a,e)},r))}var s=i.then;if("function"==typeof s){return void new Qi(s.bind(i)).then(function(e){n(a,e)},r)}}t[a]=i,0==--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)n(a,t[a])})},Qi.reject=function(e){return new Qi(function(t,r){r(e)})},Qi.race=function(e){return new Qi(function(t,r){as(e).forEach(function(e){Qi.resolve(e).then(t,r)})})},Qi.prototype.catch=function(e){return this.then(null,e)};var is={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(is.arrayBuffer)var ss=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],cs=ArrayBuffer.isView||function(e){return e&&ss.indexOf(Object.prototype.toString.call(e))>-1};x.prototype.append=function(e,t){e=O(e),t=k(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},x.prototype.delete=function(e){delete this.map[O(e)]},x.prototype.get=function(e){return e=O(e),this.has(e)?this.map[e]:null},x.prototype.has=function(e){return this.map.hasOwnProperty(O(e))},x.prototype.set=function(e,t){this.map[O(e)]=k(t)},x.prototype.forEach=function(e,t){var r=this;for(var n in r.map)r.map.hasOwnProperty(n)&&e.call(t,r.map[n],n,r)},x.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),T(e)},x.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),T(e)},x.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),T(e)},is.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);var ls=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];M.prototype.clone=function(){return new M(this,{body:this._bodyInit})},P.call(M.prototype),P.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},U.error=function(){var e=new U(null,{status:0,statusText:""});return e.type="error",e};var us=[301,302,303,307,308];U.redirect=function(e,t){if(-1===us.indexOf(t))throw new RangeError("Invalid status code");return new U(null,{status:t,headers:{location:e}})};var ps=self.DOMException;try{new ps}catch(e){ps=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},ps.prototype=Object.create(Error.prototype),ps.prototype.constructor=ps}H.polyfill=!0,self.fetch||(self.fetch=H,self.Headers=x,self.Request=M,self.Response=U);var ds=Object.getOwnPropertySymbols,fs=Object.prototype.hasOwnProperty,hs=Object.prototype.propertyIsEnumerable,ms=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,o=arguments,a=F(e),i=1;i<arguments.length;i++){r=Object(o[i]);for(var s in r)fs.call(r,s)&&(a[s]=r[s]);if(ds){n=ds(r);for(var c=0;c<n.length;c++)hs.call(r,n[c])&&(a[n[c]]=r[n[c]])}}return a},ys=function(e){return e&&e.Math==Math&&e},vs=ys("object"==typeof globalThis&&globalThis)||ys("object"==typeof window&&window)||ys("object"==typeof self&&self)||ys("object"==typeof Di&&Di)||Function("return this")(),gs=function(e){try{return!!e()}catch(e){return!0}},bs=!gs(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Es={}.propertyIsEnumerable,_s=Object.getOwnPropertyDescriptor,ws=_s&&!Es.call({1:2},1),Ss=ws?function(e){var t=_s(this,e);return!!t&&t.enumerable}:Es,Cs={f:Ss},Os=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ks={}.toString,Ts=function(e){return ks.call(e).slice(8,-1)},xs="".split,js=gs(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==Ts(e)?xs.call(e,""):Object(e)}:Object,As=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e},Is=function(e){return js(As(e))},qs=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Rs=function(e,t){if(!qs(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!qs(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!qs(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!qs(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},Ns={}.hasOwnProperty,Ps=function(e,t){return Ns.call(e,t)},Ds=vs.document,Ms=qs(Ds)&&qs(Ds.createElement),Bs=function(e){return Ms?Ds.createElement(e):{}},Ls=!bs&&!gs(function(){return 7!=Object.defineProperty(Bs("div"),"a",{get:function(){return 7}}).a}),Us=Object.getOwnPropertyDescriptor,Hs=bs?Us:function(e,t){if(e=Is(e),t=Rs(t,!0),Ls)try{return Us(e,t)}catch(e){}if(Ps(e,t))return Os(!Cs.f.call(e,t),e[t])},Fs={f:Hs},Vs=function(e){if(!qs(e))throw TypeError(String(e)+" is not an object");return e},Gs=Object.defineProperty,Ws=bs?Gs:function(e,t,r){if(Vs(e),t=Rs(t,!0),Vs(r),Ls)try{return Gs(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e},Qs={f:Ws},zs=bs?function(e,t,r){return Qs.f(e,t,Os(1,r))}:function(e,t,r){return e[t]=r,e},Ys=function(e,t){try{zs(vs,e,t)}catch(r){vs[e]=t}return t},Js=vs["__core-js_shared__"]||Ys("__core-js_shared__",{}),Xs=Js,Ks=Function.toString;"function"!=typeof Xs.inspectSource&&(Xs.inspectSource=function(e){return Ks.call(e)});var Zs,$s,ec,tc=Xs.inspectSource,rc=vs.WeakMap,nc="function"==typeof rc&&/native code/.test(tc(rc)),oc=r(function(e){(e.exports=function(e,t){return Xs[e]||(Xs[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})}),ac=0,ic=Math.random(),sc=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++ac+ic).toString(36)},cc=oc("keys"),lc=function(e){return cc[e]||(cc[e]=sc(e))},uc={},pc=vs.WeakMap,dc=function(e){return ec(e)?$s(e):Zs(e,{})},fc=function(e){return function(t){var r;if(!qs(t)||(r=$s(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(nc){var hc=new pc,mc=hc.get,yc=hc.has,vc=hc.set;Zs=function(e,t){return vc.call(hc,e,t),t},$s=function(e){return mc.call(hc,e)||{}},ec=function(e){return yc.call(hc,e)}}else{var gc=lc("state");uc[gc]=!0,Zs=function(e,t){return zs(e,gc,t),t},$s=function(e){return Ps(e,gc)?e[gc]:{}},ec=function(e){return Ps(e,gc)}}var bc,Ec,_c={set:Zs,get:$s,has:ec,enforce:dc,getterFor:fc},wc=r(function(e){var t=_c.get,r=_c.enforce,n=String(String).split("String");(e.exports=function(e,t,o,a){var i=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;if("function"==typeof o&&("string"!=typeof t||Ps(o,"name")||zs(o,"name",t),r(o).source=n.join("string"==typeof t?t:"")),e===vs)return void(s?e[t]=o:Ys(t,o));i?!c&&e[t]&&(s=!0):delete e[t],s?e[t]=o:zs(e,t,o)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||tc(this)})}),Sc=vs,Cc=function(e){return"function"==typeof e?e:void 0},Oc=function(e,t){return arguments.length<2?Cc(Sc[e])||Cc(vs[e]):Sc[e]&&Sc[e][t]||vs[e]&&vs[e][t]},kc=Math.ceil,Tc=Math.floor,xc=function(e){return isNaN(e=+e)?0:(e>0?Tc:kc)(e)},jc=Math.min,Ac=function(e){return e>0?jc(xc(e),9007199254740991):0},Ic=Math.max,qc=Math.min,Rc=function(e,t){var r=xc(e);return r<0?Ic(r+t,0):qc(r,t)},Nc=function(e){return function(t,r,n){var o,a=Is(t),i=Ac(a.length),s=Rc(n,i);if(e&&r!=r){for(;i>s;)if((o=a[s++])!=o)return!0}else for(;i>s;s++)if((e||s in a)&&a[s]===r)return e||s||0;return!e&&-1}},Pc={includes:Nc(!0),indexOf:Nc(!1)},Dc=Pc.indexOf,Mc=function(e,t){var r,n=Is(e),o=0,a=[];for(r in n)!Ps(uc,r)&&Ps(n,r)&&a.push(r);for(;t.length>o;)Ps(n,r=t[o++])&&(~Dc(a,r)||a.push(r));return a},Bc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Lc=Bc.concat("length","prototype"),Uc=Object.getOwnPropertyNames||function(e){return Mc(e,Lc)},Hc={f:Uc},Fc=Object.getOwnPropertySymbols,Vc={f:Fc},Gc=Oc("Reflect","ownKeys")||function(e){var t=Hc.f(Vs(e)),r=Vc.f;return r?t.concat(r(e)):t},Wc=function(e,t){for(var r=Gc(t),n=Qs.f,o=Fs.f,a=0;a<r.length;a++){var i=r[a];Ps(e,i)||n(e,i,o(t,i))}},Qc=/#|\.prototype\./,zc=function(e,t){var r=Jc[Yc(e)];return r==Kc||r!=Xc&&("function"==typeof t?gs(t):!!t)},Yc=zc.normalize=function(e){return String(e).replace(Qc,".").toLowerCase()},Jc=zc.data={},Xc=zc.NATIVE="N",Kc=zc.POLYFILL="P",Zc=zc,$c=Fs.f,el=function(e,t){var r,n,o,a,i,s=e.target,c=e.global,l=e.stat;if(r=c?vs:l?vs[s]||Ys(s,{}):(vs[s]||{}).prototype)for(n in t){if(a=t[n],e.noTargetGet?(i=$c(r,n),o=i&&i.value):o=r[n],!Zc(c?n:s+(l?".":"#")+n,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;Wc(a,o)}(e.sham||o&&o.sham)&&zs(a,"sham",!0),wc(r,n,a,e)}},tl=Array.isArray||function(e){return"Array"==Ts(e)},rl=function(e){return Object(As(e))},nl=function(e,t,r){var n=Rs(t);n in e?Qs.f(e,n,Os(0,r)):e[n]=r},ol=!!Object.getOwnPropertySymbols&&!gs(function(){return!String(Symbol())}),al=ol&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,il=oc("wks"),sl=vs.Symbol,cl=al?sl:sl&&sl.withoutSetter||sc,ll=function(e){return Ps(il,e)||(ol&&Ps(sl,e)?il[e]=sl[e]:il[e]=cl("Symbol."+e)),il[e]},ul=ll("species"),pl=function(e,t){var r;return tl(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!tl(r.prototype)?qs(r)&&null===(r=r[ul])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},dl=Oc("navigator","userAgent")||"",fl=vs.process,hl=fl&&fl.versions,ml=hl&&hl.v8;ml?(bc=ml.split("."),Ec=bc[0]+bc[1]):dl&&(!(bc=dl.match(/Edge\/(\d+)/))||bc[1]>=74)&&(bc=dl.match(/Chrome\/(\d+)/))&&(Ec=bc[1]);var yl=Ec&&+Ec,vl=ll("species"),gl=ll("isConcatSpreadable"),bl=yl>=51||!gs(function(){var e=[];return e[gl]=!1,e.concat()[0]!==e}),El=function(e){return yl>=51||!gs(function(){var t=[],r=t.constructor={};return r[vl]=function(){return{foo:1}},1!==t[e](Boolean).foo})}("concat"),_l=function(e){if(!qs(e))return!1;var t=e[gl];return void 0!==t?!!t:tl(e)};el({target:"Array",proto:!0,forced:!bl||!El},{concat:function(e){var t,r,n,o,a,i=arguments,s=rl(this),c=pl(s,0),l=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?s:i[t],_l(a)){if(o=Ac(a.length),l+o>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,l++)r in a&&nl(c,l,a[r])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");nl(c,l++,a)}return c.length=l,c}});var wl=ll("toStringTag"),Sl={};Sl[wl]="z";var Cl="[object z]"===String(Sl),Ol=ll("toStringTag"),kl="Arguments"==Ts(function(){return arguments}()),Tl=function(e,t){try{return e[t]}catch(e){}},xl=Cl?Ts:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=Tl(t=Object(e),Ol))?r:kl?Ts(t):"Object"==(n=Ts(t))&&"function"==typeof t.callee?"Arguments":n},jl=Cl?{}.toString:function(){return"[object "+xl(this)+"]"};Cl||wc(Object.prototype,"toString",jl,{unsafe:!0});var Al,Il=Object.keys||function(e){return Mc(e,Bc)},ql=bs?Object.defineProperties:function(e,t){Vs(e);for(var r,n=Il(t),o=n.length,a=0;o>a;)Qs.f(e,r=n[a++],t[r]);return e},Rl=Oc("document","documentElement"),Nl=lc("IE_PROTO"),Pl=function(){},Dl=function(e){return"<script>"+e+"<\/script>"},Ml=function(e){e.write(Dl("")),e.close();var t=e.parentWindow.Object;return e=null,t},Bl=function(){var e,t=Bs("iframe");return t.style.display="none",Rl.appendChild(t),t.src=String("javascript:"),e=t.contentWindow.document,e.open(),e.write(Dl("document.F=Object")),e.close(),e.F},Ll=function(){try{Al=document.domain&&new ActiveXObject("htmlfile")}catch(e){}Ll=Al?Ml(Al):Bl();for(var e=Bc.length;e--;)delete Ll.prototype[Bc[e]];return Ll()};uc[Nl]=!0;var Ul=Object.create||function(e,t){var r;return null!==e?(Pl.prototype=Vs(e),r=new Pl,Pl.prototype=null,r[Nl]=e):r=Ll(),void 0===t?r:ql(r,t)
},Hl=Hc.f,Fl={}.toString,Vl="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Gl=function(e){try{return Hl(e)}catch(e){return Vl.slice()}},Wl=function(e){return Vl&&"[object Window]"==Fl.call(e)?Gl(e):Hl(Is(e))},Ql={f:Wl},zl=ll,Yl={f:zl},Jl=Qs.f,Xl=function(e){var t=Sc.Symbol||(Sc.Symbol={});Ps(t,e)||Jl(t,e,{value:Yl.f(e)})},Kl=Qs.f,Zl=ll("toStringTag"),$l=function(e,t,r){e&&!Ps(e=r?e:e.prototype,Zl)&&Kl(e,Zl,{configurable:!0,value:t})},eu=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},tu=function(e,t,r){if(eu(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},ru=[].push,nu=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,a=6==e,i=5==e||a;return function(s,c,l,u){for(var p,d,f=rl(s),h=js(f),m=tu(c,l,3),y=Ac(h.length),v=0,g=u||pl,b=t?g(s,y):r?g(s,0):void 0;y>v;v++)if((i||v in h)&&(p=h[v],d=m(p,v,f),e))if(t)b[v]=d;else if(d)switch(e){case 3:return!0;case 5:return p;case 6:return v;case 2:ru.call(b,p)}else if(o)return!1;return a?-1:n||o?o:b}},ou={forEach:nu(0),map:nu(1),filter:nu(2),some:nu(3),every:nu(4),find:nu(5),findIndex:nu(6)},au=ou.forEach,iu=lc("hidden"),su=ll("toPrimitive"),cu=_c.set,lu=_c.getterFor("Symbol"),uu=Object.prototype,pu=vs.Symbol,du=Oc("JSON","stringify"),fu=Fs.f,hu=Qs.f,mu=Ql.f,yu=Cs.f,vu=oc("symbols"),gu=oc("op-symbols"),bu=oc("string-to-symbol-registry"),Eu=oc("symbol-to-string-registry"),_u=oc("wks"),wu=vs.QObject,Su=!wu||!wu.prototype||!wu.prototype.findChild,Cu=bs&&gs(function(){return 7!=Ul(hu({},"a",{get:function(){return hu(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=fu(uu,t);n&&delete uu[t],hu(e,t,r),n&&e!==uu&&hu(uu,t,n)}:hu,Ou=function(e,t){var r=vu[e]=Ul(pu.prototype);return cu(r,{type:"Symbol",tag:e,description:t}),bs||(r.description=t),r},ku=al?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof pu},Tu=function(e,t,r){e===uu&&Tu(gu,t,r),Vs(e);var n=Rs(t,!0);return Vs(r),Ps(vu,n)?(r.enumerable?(Ps(e,iu)&&e[iu][n]&&(e[iu][n]=!1),r=Ul(r,{enumerable:Os(0,!1)})):(Ps(e,iu)||hu(e,iu,Os(1,{})),e[iu][n]=!0),Cu(e,n,r)):hu(e,n,r)},xu=function(e,t){Vs(e);var r=Is(t),n=Il(r).concat(Ru(r));return au(n,function(t){bs&&!Au.call(r,t)||Tu(e,t,r[t])}),e},ju=function(e,t){return void 0===t?Ul(e):xu(Ul(e),t)},Au=function(e){var t=Rs(e,!0),r=yu.call(this,t);return!(this===uu&&Ps(vu,t)&&!Ps(gu,t))&&(!(r||!Ps(this,t)||!Ps(vu,t)||Ps(this,iu)&&this[iu][t])||r)},Iu=function(e,t){var r=Is(e),n=Rs(t,!0);if(r!==uu||!Ps(vu,n)||Ps(gu,n)){var o=fu(r,n);return!o||!Ps(vu,n)||Ps(r,iu)&&r[iu][n]||(o.enumerable=!0),o}},qu=function(e){var t=mu(Is(e)),r=[];return au(t,function(e){Ps(vu,e)||Ps(uc,e)||r.push(e)}),r},Ru=function(e){var t=e===uu,r=mu(t?gu:Is(e)),n=[];return au(r,function(e){!Ps(vu,e)||t&&!Ps(uu,e)||n.push(vu[e])}),n};if(ol||(pu=function(){if(this instanceof pu)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=sc(e),r=function(e){this===uu&&r.call(gu,e),Ps(this,iu)&&Ps(this[iu],t)&&(this[iu][t]=!1),Cu(this,t,Os(1,e))};return bs&&Su&&Cu(uu,t,{configurable:!0,set:r}),Ou(t,e)},wc(pu.prototype,"toString",function(){return lu(this).tag}),wc(pu,"withoutSetter",function(e){return Ou(sc(e),e)}),Cs.f=Au,Qs.f=Tu,Fs.f=Iu,Hc.f=Ql.f=qu,Vc.f=Ru,Yl.f=function(e){return Ou(ll(e),e)},bs&&(hu(pu.prototype,"description",{configurable:!0,get:function(){return lu(this).description}}),wc(uu,"propertyIsEnumerable",Au,{unsafe:!0}))),el({global:!0,wrap:!0,forced:!ol,sham:!ol},{Symbol:pu}),au(Il(_u),function(e){Xl(e)}),el({target:"Symbol",stat:!0,forced:!ol},{for:function(e){var t=String(e);if(Ps(bu,t))return bu[t];var r=pu(t);return bu[t]=r,Eu[r]=t,r},keyFor:function(e){if(!ku(e))throw TypeError(e+" is not a symbol");if(Ps(Eu,e))return Eu[e]},useSetter:function(){Su=!0},useSimple:function(){Su=!1}}),el({target:"Object",stat:!0,forced:!ol,sham:!bs},{create:ju,defineProperty:Tu,defineProperties:xu,getOwnPropertyDescriptor:Iu}),el({target:"Object",stat:!0,forced:!ol},{getOwnPropertyNames:qu,getOwnPropertySymbols:Ru}),el({target:"Object",stat:!0,forced:gs(function(){Vc.f(1)})},{getOwnPropertySymbols:function(e){return Vc.f(rl(e))}}),du){var Nu=!ol||gs(function(){var e=pu();return"[null]"!=du([e])||"{}"!=du({a:e})||"{}"!=du(Object(e))});el({target:"JSON",stat:!0,forced:Nu},{stringify:function(e,t,r){for(var n,o=arguments,a=[e],i=1;arguments.length>i;)a.push(o[i++]);if(n=t,(qs(t)||void 0!==e)&&!ku(e))return tl(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ku(t))return t}),a[1]=t,du.apply(null,a)}})}pu.prototype[su]||zs(pu.prototype,su,pu.prototype.valueOf),$l(pu,"Symbol"),uc[iu]=!0,Xl("asyncIterator");var Pu=Qs.f,Du=vs.Symbol;if(bs&&"function"==typeof Du&&(!("description"in Du.prototype)||void 0!==Du().description)){var Mu={},Bu=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Bu?new Du(e):void 0===e?Du():Du(e);return""===e&&(Mu[t]=!0),t};Wc(Bu,Du);var Lu=Bu.prototype=Du.prototype;Lu.constructor=Bu;var Uu=Lu.toString,Hu="Symbol(test)"==String(Du("test")),Fu=/^Symbol\((.*)\)[^)]+$/;Pu(Lu,"description",{configurable:!0,get:function(){var e=qs(this)?this.valueOf():this,t=Uu.call(e);if(Ps(Mu,e))return"";var r=Hu?t.slice(7,-1):t.replace(Fu,"$1");return""===r?void 0:r}}),el({global:!0,forced:!0},{Symbol:Bu})}Xl("hasInstance"),Xl("isConcatSpreadable"),Xl("iterator"),Xl("match"),Xl("matchAll"),Xl("replace"),Xl("search"),Xl("species"),Xl("split"),Xl("toPrimitive"),Xl("toStringTag"),Xl("unscopables"),$l(Math,"Math",!0),$l(vs.JSON,"JSON",!0),Xl("asyncDispose"),Xl("dispose"),Xl("observable"),Xl("patternMatch"),Xl("replaceAll");var Vu,Gu,Wu,Qu=function(e){return function(t,r){var n,o,a=String(As(t)),i=xc(r),s=a.length;return i<0||i>=s?e?"":void 0:(n=a.charCodeAt(i),n<55296||n>56319||i+1===s||(o=a.charCodeAt(i+1))<56320||o>57343?e?a.charAt(i):n:e?a.slice(i,i+2):o-56320+(n-55296<<10)+65536)}},zu={codeAt:Qu(!1),charAt:Qu(!0)},Yu=!gs(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Ju=lc("IE_PROTO"),Xu=Object.prototype,Ku=Yu?Object.getPrototypeOf:function(e){return e=rl(e),Ps(e,Ju)?e[Ju]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Xu:null},Zu=ll("iterator"),$u=!1,ep=function(){return this};[].keys&&(Wu=[].keys(),"next"in Wu?(Gu=Ku(Ku(Wu)))!==Object.prototype&&(Vu=Gu):$u=!0),void 0==Vu&&(Vu={}),Ps(Vu,Zu)||zs(Vu,Zu,ep);var tp={IteratorPrototype:Vu,BUGGY_SAFARI_ITERATORS:$u},rp={},np=tp.IteratorPrototype,op=function(){return this},ap=function(e,t,r){var n=t+" Iterator";return e.prototype=Ul(np,{next:Os(1,r)}),$l(e,n,!1),rp[n]=op,e},ip=function(e){if(!qs(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},sp=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return Vs(r),ip(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),cp=tp.IteratorPrototype,lp=tp.BUGGY_SAFARI_ITERATORS,up=ll("iterator"),pp=function(){return this},dp=function(e,t,r,n,o,a,i){ap(r,t,n);var s,c,l,u=function(e){if(e===o&&m)return m;if(!lp&&e in f)return f[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},p=t+" Iterator",d=!1,f=e.prototype,h=f[up]||f["@@iterator"]||o&&f[o],m=!lp&&h||u(o),y="Array"==t?f.entries||h:h;if(y&&(s=Ku(y.call(new e)),cp!==Object.prototype&&s.next&&(Ku(s)!==cp&&(sp?sp(s,cp):"function"!=typeof s[up]&&zs(s,up,pp)),$l(s,p,!0))),"values"==o&&h&&"values"!==h.name&&(d=!0,m=function(){return h.call(this)}),f[up]!==m&&zs(f,up,m),rp[t]=m,o)if(c={values:u("values"),keys:a?m:u("keys"),entries:u("entries")},i)for(l in c)!lp&&!d&&l in f||wc(f,l,c[l]);else el({target:t,proto:!0,forced:lp||d},c);return c},fp=zu.charAt,hp=_c.set,mp=_c.getterFor("String Iterator");dp(String,"String",function(e){hp(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=mp(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=fp(r,n),t.index+=e.length,{value:e,done:!1})});var yp=function(e,t,r,n){try{return n?t(Vs(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&Vs(o.call(e)),t}},vp=ll("iterator"),gp=Array.prototype,bp=function(e){return void 0!==e&&(rp.Array===e||gp[vp]===e)},Ep=ll("iterator"),_p=function(e){if(void 0!=e)return e[Ep]||e["@@iterator"]||rp[xl(e)]},wp=function(e){var t,r,n,o,a,i,s=rl(e),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,p=void 0!==u,d=_p(s),f=0;if(p&&(u=tu(u,l>2?arguments[2]:void 0,2)),void 0==d||c==Array&&bp(d))for(t=Ac(s.length),r=new c(t);t>f;f++)i=p?u(s[f],f):s[f],nl(r,f,i);else for(o=d.call(s),a=o.next,r=new c;!(n=a.call(o)).done;f++)i=p?yp(o,u,[n.value,f],!0):n.value,nl(r,f,i);return r.length=f,r},Sp=ll("iterator"),Cp=function(e,t){if(!t)return!1;var r=!1;try{var n={};n[Sp]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},Op=!Cp(function(e){Array.from(e)});el({target:"Array",stat:!0,forced:Op},{from:wp}),"undefined"==typeof Promise&&(Ki.enable(),self.Promise=Zi),Object.assign=ms;var kp=!gs(function(){return Object.isExtensible(Object.preventExtensions({}))}),Tp=r(function(e){var t=Qs.f,r=sc("meta"),n=0,o=Object.isExtensible||function(){return!0},a=function(e){t(e,r,{value:{objectID:"O"+ ++n,weakData:{}}})},i=function(e,t){if(!qs(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Ps(e,r)){if(!o(e))return"F";if(!t)return"E";a(e)}return e[r].objectID},s=function(e,t){if(!Ps(e,r)){if(!o(e))return!0;if(!t)return!1;a(e)}return e[r].weakData},c=function(e){return kp&&l.REQUIRED&&o(e)&&!Ps(e,r)&&a(e),e},l=e.exports={REQUIRED:!1,fastKey:i,getWeakData:s,onFreeze:c};uc[r]=!0}),xp=r(function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,r,n,o,a){var i,s,c,l,u,p,d,f=tu(r,n,o?2:1);if(a)i=e;else{if("function"!=typeof(s=_p(e)))throw TypeError("Target is not iterable");if(bp(s)){for(c=0,l=Ac(e.length);l>c;c++)if((u=o?f(Vs(d=e[c])[0],d[1]):f(e[c]))&&u instanceof t)return u;return new t(!1)}i=s.call(e)}for(p=i.next;!(d=p.call(i)).done;)if("object"==typeof(u=yp(i,f,d.value,o))&&u&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}}),jp=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},Ap=function(e,t,r){var n,o;return sp&&"function"==typeof(n=t.constructor)&&n!==r&&qs(o=n.prototype)&&o!==r.prototype&&sp(e,o),e},Ip=function(e,t,r){var n=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),a=n?"set":"add",i=vs[e],s=i&&i.prototype,c=i,l={},u=function(e){var t=s[e];wc(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!qs(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!qs(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!qs(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(Zc(e,"function"!=typeof i||!(o||s.forEach&&!gs(function(){(new i).entries().next()}))))c=r.getConstructor(t,e,n,a),Tp.REQUIRED=!0;else if(Zc(e,!0)){var p=new c,d=p[a](o?{}:-0,1)!=p,f=gs(function(){p.has(1)}),h=Cp(function(e){new i(e)}),m=!o&&gs(function(){for(var e=new i,t=5;t--;)e[a](t,t);return!e.has(-0)});h||(c=t(function(t,r){jp(t,c,e);var o=Ap(new i,t,c);return void 0!=r&&xp(r,o[a],o,n),o}),c.prototype=s,s.constructor=c),(f||m)&&(u("delete"),u("has"),n&&u("get")),(m||d)&&u(a),o&&s.clear&&delete s.clear}return l[e]=c,el({global:!0,forced:c!=i},l),$l(c,e),o||r.setStrong(c,e,n),c},qp=function(e,t,r){for(var n in t)wc(e,n,t[n],r);return e},Rp=ll("species"),Np=function(e){var t=Oc(e),r=Qs.f;bs&&t&&!t[Rp]&&r(t,Rp,{configurable:!0,get:function(){return this}})},Pp=Qs.f,Dp=Tp.fastKey,Mp=_c.set,Bp=_c.getterFor,Lp={getConstructor:function(e,t,r,n){var o=e(function(e,a){jp(e,o,t),Mp(e,{type:t,index:Ul(null),first:void 0,last:void 0,size:0}),bs||(e.size=0),void 0!=a&&xp(a,e[n],e,r)}),a=Bp(t),i=function(e,t,r){var n,o,i=a(e),c=s(e,t);return c?c.value=r:(i.last=c={index:o=Dp(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=c),n&&(n.next=c),bs?i.size++:e.size++,"F"!==o&&(i.index[o]=c)),e},s=function(e,t){var r,n=a(e),o=Dp(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return qp(o.prototype,{clear:function(){for(var e=this,t=a(e),r=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;t.first=t.last=void 0,bs?t.size=0:e.size=0},delete:function(e){var t=this,r=a(t),n=s(t,e);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),bs?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=this,n=a(this),o=tu(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(o(t.value,t.key,r);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),qp(o.prototype,r?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),bs&&Pp(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,r){var n=t+" Iterator",o=Bp(t),a=Bp(n);dp(e,t,function(e,t){Mp(this,{type:n,target:e,state:o(e),kind:t,last:void 0})},function(){for(var e=a(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},r?"entries":"values",!r,!0),Np(t)}},Up=(Ip("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Lp),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Hp=ll("unscopables"),Fp=Array.prototype;void 0==Fp[Hp]&&Qs.f(Fp,Hp,{configurable:!0,value:Ul(null)});var Vp=function(e){Fp[Hp][e]=!0},Gp=_c.set,Wp=_c.getterFor("Array Iterator"),Qp=dp(Array,"Array",function(e,t){Gp(this,{type:"Array Iterator",target:Is(e),index:0,kind:t})},function(){var e=Wp(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values");rp.Arguments=rp.Array,Vp("keys"),Vp("values"),Vp("entries");var zp=ll("iterator"),Yp=ll("toStringTag"),Jp=Qp.values;for(var Xp in Up){var Kp=vs[Xp],Zp=Kp&&Kp.prototype;if(Zp){if(Zp[zp]!==Jp)try{zs(Zp,zp,Jp)}catch(e){Zp[zp]=Jp}if(Zp[Yp]||zs(Zp,Yp,Xp),Up[Xp])for(var $p in Qp)if(Zp[$p]!==Qp[$p])try{zs(Zp,$p,Qp[$p])}catch(e){Zp[$p]=Qp[$p]}}}var ed=function(e){var t,r,n,o,a=arguments.length,i=a>1?arguments[1]:void 0;return eu(this),t=void 0!==i,t&&eu(i),void 0==e?new this:(r=[],t?(n=0,o=tu(i,a>2?arguments[2]:void 0,2),xp(e,function(e){r.push(o(e,n++))})):xp(e,r.push,r),new this(r))};el({target:"Map",stat:!0},{from:ed});var td=function(){for(var e=arguments,t=arguments.length,r=new Array(t);t--;)r[t]=e[t];return new this(r)};el({target:"Map",stat:!0},{of:td});var rd=function(){for(var e,t=arguments,r=Vs(this),n=eu(r.delete),o=!0,a=0,i=arguments.length;a<i;a++)e=n.call(r,t[a]),o=o&&e;return!!o};el({target:"Map",proto:!0,real:!0,forced:!1},{deleteAll:function(){return rd.apply(this,arguments)}});var nd=function(e){var t=_p(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Vs(t.call(e))},od=function(e){return Map.prototype.entries.call(e)};el({target:"Map",proto:!0,real:!0,forced:!1},{every:function(e){var t=Vs(this),r=od(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3);return!xp(r,function(e,r){if(!n(r,e,t))return xp.stop()},void 0,!0,!0).stopped}});var ad=ll("species"),id=function(e,t){var r,n=Vs(e).constructor;return void 0===n||void 0==(r=Vs(n)[ad])?t:eu(r)};el({target:"Map",proto:!0,real:!0,forced:!1},{filter:function(e){var t=Vs(this),r=od(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3),o=new(id(t,Oc("Map"))),a=eu(o.set);return xp(r,function(e,r){n(r,e,t)&&a.call(o,e,r)},void 0,!0,!0),o}}),el({target:"Map",proto:!0,real:!0,forced:!1},{find:function(e){var t=Vs(this),r=od(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3);return xp(r,function(e,r){if(n(r,e,t))return xp.stop(r)},void 0,!0,!0).result}}),el({target:"Map",proto:!0,real:!0,forced:!1},{findKey:function(e){var t=Vs(this),r=od(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3);return xp(r,function(e,r){if(n(r,e,t))return xp.stop(e)},void 0,!0,!0).result}}),el({target:"Map",stat:!0},{groupBy:function(e,t){var r=new this;eu(t);var n=eu(r.has),o=eu(r.get),a=eu(r.set);return xp(e,function(e){var i=t(e);n.call(r,i)?o.call(r,i).push(e):a.call(r,i,[e])}),r}});var sd=function(e,t){return e===t||e!=e&&t!=t};el({target:"Map",proto:!0,real:!0,forced:!1},{includes:function(e){return xp(od(Vs(this)),function(t,r){if(sd(r,e))return xp.stop()},void 0,!0,!0).stopped}}),el({target:"Map",stat:!0},{keyBy:function(e,t){var r=new this;eu(t);var n=eu(r.set);return xp(e,function(e){n.call(r,t(e),e)}),r}}),el({target:"Map",proto:!0,real:!0,forced:!1},{keyOf:function(e){return xp(od(Vs(this)),function(t,r){if(r===e)return xp.stop(t)},void 0,!0,!0).result}}),el({target:"Map",proto:!0,real:!0,forced:!1},{mapKeys:function(e){var t=Vs(this),r=od(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3),o=new(id(t,Oc("Map"))),a=eu(o.set);return xp(r,function(e,r){a.call(o,n(r,e,t),r)},void 0,!0,!0),o}}),el({target:"Map",proto:!0,real:!0,forced:!1},{mapValues:function(e){var t=Vs(this),r=od(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3),o=new(id(t,Oc("Map"))),a=eu(o.set);return xp(r,function(e,r){a.call(o,e,n(r,e,t))},void 0,!0,!0),o}}),el({target:"Map",proto:!0,real:!0,forced:!1},{merge:function(e){for(var t=arguments,r=Vs(this),n=eu(r.set),o=0;o<arguments.length;)xp(t[o++],n,r,!0);return r}}),el({target:"Map",proto:!0,real:!0,forced:!1},{reduce:function(e){var t=Vs(this),r=od(t),n=arguments.length<2,o=n?void 0:arguments[1];if(eu(e),xp(r,function(r,a){n?(n=!1,o=a):o=e(o,a,r,t)},void 0,!0,!0),n)throw TypeError("Reduce of empty map with no initial value");return o}}),el({target:"Map",proto:!0,real:!0,forced:!1},{some:function(e){var t=Vs(this),r=od(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3);return xp(r,function(e,r){if(n(r,e,t))return xp.stop()},void 0,!0,!0).stopped}}),el({target:"Map",proto:!0,real:!0,forced:!1},{update:function(e,t){var r=Vs(this),n=arguments.length;eu(t);var o=r.has(e);if(!o&&n<3)throw TypeError("Updating absent value");var a=o?r.get(e):eu(n>2?arguments[2]:void 0)(e,r);return r.set(e,t(a,e,r)),r}});var cd=function(e,t){var r,n=Vs(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof o)throw TypeError("At least one callback required");return n.has(e)?(r=n.get(e),"function"==typeof t&&(r=t(r),n.set(e,r))):"function"==typeof o&&(r=o(),n.set(e,r)),r};el({target:"Map",proto:!0,real:!0,forced:!1},{upsert:cd}),el({target:"Map",proto:!0,real:!0,forced:!1},{updateOrInsert:cd});Ip("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Lp);el({target:"Set",stat:!0},{from:ed}),el({target:"Set",stat:!0},{of:td});var ld=function(){for(var e=arguments,t=Vs(this),r=eu(t.add),n=0,o=arguments.length;n<o;n++)r.call(t,e[n]);return t};el({target:"Set",proto:!0,real:!0,forced:!1},{addAll:function(){return ld.apply(this,arguments)}}),el({target:"Set",proto:!0,real:!0,forced:!1},{deleteAll:function(){return rd.apply(this,arguments)}});var ud=function(e){return Set.prototype.values.call(e)};el({target:"Set",proto:!0,real:!0,forced:!1},{every:function(e){var t=Vs(this),r=ud(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3);return!xp(r,function(e){if(!n(e,e,t))return xp.stop()},void 0,!1,!0).stopped}}),el({target:"Set",proto:!0,real:!0,forced:!1},{difference:function(e){var t=Vs(this),r=new(id(t,Oc("Set")))(t),n=eu(r.delete);return xp(e,function(e){n.call(r,e)}),r}}),el({target:"Set",proto:!0,real:!0,forced:!1},{filter:function(e){var t=Vs(this),r=ud(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3),o=new(id(t,Oc("Set"))),a=eu(o.add);return xp(r,function(e){n(e,e,t)&&a.call(o,e)},void 0,!1,!0),o}}),el({target:"Set",proto:!0,real:!0,forced:!1},{find:function(e){var t=Vs(this),r=ud(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3);return xp(r,function(e){if(n(e,e,t))return xp.stop(e)},void 0,!1,!0).result}}),el({target:"Set",proto:!0,real:!0,forced:!1},{intersection:function(e){var t=Vs(this),r=new(id(t,Oc("Set"))),n=eu(t.has),o=eu(r.add);return xp(e,function(e){n.call(t,e)&&o.call(r,e)}),r}}),el({target:"Set",proto:!0,real:!0,forced:!1},{isDisjointFrom:function(e){var t=Vs(this),r=eu(t.has);return!xp(e,function(e){if(!0===r.call(t,e))return xp.stop()}).stopped}}),el({target:"Set",proto:!0,real:!0,forced:!1},{isSubsetOf:function(e){var t=nd(this),r=Vs(e),n=r.has;return"function"!=typeof n&&(r=new(Oc("Set"))(e),n=eu(r.has)),!xp(t,function(e){if(!1===n.call(r,e))return xp.stop()},void 0,!1,!0).stopped}}),el({target:"Set",proto:!0,real:!0,forced:!1},{isSupersetOf:function(e){var t=Vs(this),r=eu(t.has);return!xp(e,function(e){if(!1===r.call(t,e))return xp.stop()}).stopped}}),el({target:"Set",proto:!0,real:!0,forced:!1},{join:function(e){var t=Vs(this),r=ud(t),n=void 0===e?",":String(e),o=[];return xp(r,o.push,o,!1,!0),o.join(n)}}),el({target:"Set",proto:!0,real:!0,forced:!1},{map:function(e){var t=Vs(this),r=ud(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3),o=new(id(t,Oc("Set"))),a=eu(o.add);return xp(r,function(e){a.call(o,n(e,e,t))},void 0,!1,!0),o}}),el({target:"Set",proto:!0,real:!0,forced:!1},{reduce:function(e){var t=Vs(this),r=ud(t),n=arguments.length<2,o=n?void 0:arguments[1];if(eu(e),xp(r,function(r){n?(n=!1,o=r):o=e(o,r,r,t)},void 0,!1,!0),n)throw TypeError("Reduce of empty set with no initial value");return o}}),el({target:"Set",proto:!0,real:!0,forced:!1},{some:function(e){var t=Vs(this),r=ud(t),n=tu(e,arguments.length>1?arguments[1]:void 0,3);return xp(r,function(e){if(n(e,e,t))return xp.stop()},void 0,!1,!0).stopped}}),el({target:"Set",proto:!0,real:!0,forced:!1},{symmetricDifference:function(e){var t=Vs(this),r=new(id(t,Oc("Set")))(t),n=eu(r.delete),o=eu(r.add);return xp(e,function(e){n.call(r,e)||o.call(r,e)}),r}}),el({target:"Set",proto:!0,real:!0,forced:!1},{union:function(e){var t=Vs(this),r=new(id(t,Oc("Set")))(t);return xp(e,eu(r.add),r),r}});for(var pd=r(function(e){(function(){var t,r,n,o,a,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-a)/1e6},r=process.hrtime,t=function(){var e;return e=r(),1e9*e[0]+e[1]},o=t(),i=1e9*process.uptime(),a=o-i):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(Di)}),dd="undefined"==typeof window?Di:window,fd=["moz","webkit"],hd="AnimationFrame",md=dd["request"+hd],yd=dd["cancel"+hd]||dd["cancelRequest"+hd],vd=0;!md&&vd<fd.length;vd++)md=dd[fd[vd]+"Request"+hd],yd=dd[fd[vd]+"Cancel"+hd]||dd[fd[vd]+"CancelRequest"+hd];if(!md||!yd){var gd=0,bd=0,Ed=[];md=function(e){if(0===Ed.length){var t=pd(),r=Math.max(0,1e3/60-(t-gd));gd=r+t,setTimeout(function(){var e=Ed.slice(0);Ed.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(gd)}catch(e){setTimeout(function(){throw e},0)}},Math.round(r))}return Ed.push({handle:++bd,callback:e,cancelled:!1}),bd},yd=function(e){for(var t=0;t<Ed.length;t++)Ed[t].handle===e&&(Ed[t].cancelled=!0)}}var _d=function(e){return md.call(dd,e)},wd=function(){yd.apply(dd,arguments)},Sd=function(e){e||(e=dd),e.requestAnimationFrame=md,e.cancelAnimationFrame=yd};_d.cancel=wd,(_d.polyfill=Sd)();var Cd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Od=function(){},kd=Cd,Td={};Od=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var xd=V,jd=function(){};jd=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var Ad,Id=function(e,t){function r(e){var t=e&&(E&&e[E]||e[_]);if("function"==typeof t)return t}function n(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function o(e){this.message=e,this.stack=""}function a(e){function r(r,i,s,c,l,u,p){if(c=c||w,u=u||s,p!==Cd){if(t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}if("undefined"!=typeof console){var f=c+":"+s;!n[f]&&a<3&&(jd("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[f]=!0,a++)}}return null==i[s]?r?new o(null===i[s]?"The "+l+" `"+u+"` is marked as required in `"+c+"`, but its value is `null`.":"The "+l+" `"+u+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(i,s,c,l,u)}var n={},a=0,i=r.bind(null,!1);return i.isRequired=r.bind(null,!0),i}function i(e){function t(t,r,n,a,i,s){var c=t[r];if(y(c)!==e)return new o("Invalid "+a+" `"+i+"` of type `"+v(c)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return a(t)}function s(e){function t(t,r,n,a,i){if("function"!=typeof e)return new o("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[r];if(!Array.isArray(s)){return new o("Invalid "+a+" `"+i+"` of type `"+y(s)+"` supplied to `"+n+"`, expected an array.")}for(var c=0;c<s.length;c++){var l=e(s,c,n,a,i+"["+c+"]",Cd);if(l instanceof Error)return l}return null}return a(t)}function c(e){function t(t,r,n,a,i){if(!(t[r]instanceof e)){var s=e.name||w;return new o("Invalid "+a+" `"+i+"` of type `"+b(t[r])+"` supplied to `"+n+"`, expected instance of `"+s+"`.")}return null}return a(t)}function l(e){function t(t,r,a,i,s){for(var c=t[r],l=0;l<e.length;l++)if(n(c,e[l]))return null;return new o("Invalid "+i+" `"+s+"` of value `"+c+"` supplied to `"+a+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?a(t):(jd("Invalid argument supplied to oneOf, expected an instance of array."),G)}function u(e){function t(t,r,n,a,i){if("function"!=typeof e)return new o("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[r],c=y(s);if("object"!==c)return new o("Invalid "+a+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var u=e(s,l,n,a,i+"."+l,Cd);if(u instanceof Error)return u}return null}return a(t)}function p(e){function t(t,r,n,a,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,r,n,a,i,Cd))return null}return new o("Invalid "+a+" `"+i+"` supplied to `"+n+"`.")}if(!Array.isArray(e))return jd("Invalid argument supplied to oneOfType, expected an instance of array."),G;for(var r=0;r<e.length;r++){var n=e[r];if("function"!=typeof n)return jd("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+g(n)+" at index "+r+"."),G}return a(t)}function d(e){function t(t,r,n,a,i){var s=t[r],c=y(s);if("object"!==c)return new o("Invalid "+a+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");for(var l in e){var u=e[l];if(u){var p=u(s,l,n,a,i+"."+l,Cd);if(p)return p}}return null}return a(t)}function f(e){function t(t,r,n,a,i){var s=t[r],c=y(s);if("object"!==c)return new o("Invalid "+a+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");var l=ms({},t[r],e);for(var u in l){var p=e[u];if(!p)return new o("Invalid "+a+" `"+i+"` key `"+u+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=p(s,u,n,a,i+"."+u,Cd);if(d)return d}return null}return a(t)}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||e(t))return!0;var n=r(t);if(!n)return!1;var o,a=n.call(t);if(n!==t.entries){for(;!(o=a.next()).done;)if(!h(o.value))return!1}else for(;!(o=a.next()).done;){var i=o.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function m(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":m(t,e)?"symbol":t}function v(e){if(void 0===e||null===e)return""+e;var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function b(e){return e.constructor&&e.constructor.name?e.constructor.name:w}var E="function"==typeof Symbol&&Symbol.iterator,_="@@iterator",w="<<anonymous>>",S={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),symbol:i("symbol"),any:function(){return a(G)}(),arrayOf:s,element:function(){function t(t,r,n,a,i){var s=t[r];if(!e(s)){return new o("Invalid "+a+" `"+i+"` of type `"+y(s)+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return a(t)}(),instanceOf:c,node:function(){function e(e,t,r,n,a){return h(e[t])?null:new o("Invalid "+n+" `"+a+"` supplied to `"+r+"`, expected a ReactNode.")}return a(e)}(),objectOf:u,oneOf:l,oneOfType:p,shape:d,exact:f};return o.prototype=Error.prototype,S.checkPropTypes=xd,S.PropTypes=S,S},qd=r(function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t};e.exports=Id(r,!0)}),Rd=qd.shape({trySubscribe:qd.func.isRequired,tryUnsubscribe:qd.func.isRequired,notifyNestedSubs:qd.func.isRequired,isSubscribed:qd.func.isRequired}),Nd=qd.shape({subscribe:qd.func.isRequired,dispatch:qd.func.isRequired,getState:qd.func.isRequired}),Pd=!1,Dd=function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],o=n||r+"Subscription",a=function(t){function n(e,o){Q(this,n);var a=z(this,t.call(this,e,o));return a[r]=e.store,a}return Y(n,t),n.prototype.getChildContext=function(){var e;return e={},e[r]=this[r],e[o]=null,e},n.prototype.render=function(){return e.Children.only(this.props.children)},n}(e.Component);return a.prototype.componentWillReceiveProps=function(e){this[r]!==e.store&&J()},a.propTypes={store:Nd.isRequired,children:qd.element.isRequired},a.childContextTypes=(t={},t[r]=Nd.isRequired,t[o]=Rd,t),a}(),Md={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Bd={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ld=Object.defineProperty,Ud=Object.getOwnPropertyNames,Hd=Object.getOwnPropertySymbols,Fd=Object.getOwnPropertyDescriptor,Vd=Object.getPrototypeOf,Gd=Vd&&Vd(Object),Wd=X,Qd=function(e,t,r,n,o,a,i,s){
if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,a,i,s],u=0;c=new Error(t.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},zd=Qd,Yd=null,Jd={notify:function(){}},Xd=function(){function e(t,r,n){K(this,e),this.store=t,this.parentSub=r,this.onStateChange=n,this.unsubscribe=null,this.listeners=Jd}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=Z())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Jd)},e}(),Kd=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=t[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zd=0,$d={},ef=Object.prototype.hasOwnProperty;Ad="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var tf=function(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}(Ad),rf=function(){return Math.random().toString(36).substring(7).split("").join(".")},nf={INIT:"@@redux/INIT"+rf(),REPLACE:"@@redux/REPLACE"+rf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+rf()}};"string"==typeof Ee.name&&"isCrushed"!==Ee.name&&ue('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');var of="object"==typeof global&&global&&global.Object===Object&&global,af="object"==typeof self&&self&&self.Object===Object&&self,sf=of||af||Function("return this")(),cf=sf.Symbol,lf=Object.prototype,uf=lf.hasOwnProperty,pf=lf.toString,df=cf?cf.toStringTag:void 0,ff=Object.prototype,hf=ff.toString,mf="[object Null]",yf="[object Undefined]",vf=cf?cf.toStringTag:void 0,gf=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),bf="[object Object]",Ef=Function.prototype,_f=Object.prototype,wf=Ef.toString,Sf=_f.hasOwnProperty,Cf=wf.call(Object),Of=[Ae,Ie,qe],kf=[Re,Ne],Tf=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=t[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},xf=[Me,Be],jf=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=t[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Af=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,r=void 0===t?ae:t,n=e.mapStateToPropsFactories,o=void 0===n?kf:n,a=e.mapDispatchToPropsFactories,i=void 0===a?Of:a,s=e.mergePropsFactories,c=void 0===s?xf:s,l=e.selectorFactory,u=void 0===l?Ge:l;return function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.pure,l=void 0===s||s,p=a.areStatesEqual,d=void 0===p?ze:p,f=a.areOwnPropsEqual,h=void 0===f?se:f,m=a.areStatePropsEqual,y=void 0===m?se:m,v=a.areMergedPropsEqual,g=void 0===v?se:v,b=We(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=Qe(e,o,"mapStateToProps"),_=Qe(t,i,"mapDispatchToProps"),w=Qe(n,c,"mergeProps");return r(u,jf({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:_,initMergeProps:w,pure:l,areStatesEqual:d,areOwnPropsEqual:h,areStatePropsEqual:y,areMergedPropsEqual:g},b))}}(),If=Ye();If.withExtraArgument=Ye;var qf=Je,Rf=Xe,Nf=Ke,Pf=Array.prototype,Df=Pf.splice,Mf=Ze,Bf=$e,Lf=et,Uf=tt;rt.prototype.clear=qf,rt.prototype.delete=Mf,rt.prototype.get=Bf,rt.prototype.has=Lf,rt.prototype.set=Uf;var Hf=rt,Ff=nt,Vf=ot,Gf=at,Wf=it,Qf="object"==typeof Di&&Di&&Di.Object===Object&&Di,zf=Qf,Yf="object"==typeof self&&self&&self.Object===Object&&self,Jf=zf||Yf||Function("return this")(),Xf=Jf,Kf=Xf.Symbol,Zf=Kf,$f=Object.prototype,eh=$f.hasOwnProperty,th=$f.toString,rh=Zf?Zf.toStringTag:void 0,nh=st,oh=Object.prototype,ah=oh.toString,ih=ct,sh="[object Null]",ch="[object Undefined]",lh=Zf?Zf.toStringTag:void 0,uh=lt,ph=ut,dh="[object AsyncFunction]",fh="[object Function]",hh="[object GeneratorFunction]",mh="[object Proxy]",yh=pt,vh=Xf["__core-js_shared__"],gh=vh,bh=function(){var e=/[^.]+$/.exec(gh&&gh.keys&&gh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Eh=dt,_h=Function.prototype,wh=_h.toString,Sh=ft,Ch=/[\\^$.*+?()[\]{}|]/g,Oh=/^\[object .+?Constructor\]$/,kh=Function.prototype,Th=Object.prototype,xh=kh.toString,jh=Th.hasOwnProperty,Ah=RegExp("^"+xh.call(jh).replace(Ch,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ih=ht,qh=mt,Rh=yt,Nh=Rh(Xf,"Map"),Ph=Nh,Dh=Rh(Object,"create"),Mh=Dh,Bh=vt,Lh=gt,Uh="__lodash_hash_undefined__",Hh=Object.prototype,Fh=Hh.hasOwnProperty,Vh=bt,Gh=Object.prototype,Wh=Gh.hasOwnProperty,Qh=Et,zh="__lodash_hash_undefined__",Yh=_t;wt.prototype.clear=Bh,wt.prototype.delete=Lh,wt.prototype.get=Vh,wt.prototype.has=Qh,wt.prototype.set=Yh;var Jh=wt,Xh=St,Kh=Ct,Zh=Ot,$h=kt,em=Tt,tm=xt,rm=jt;At.prototype.clear=Xh,At.prototype.delete=$h,At.prototype.get=em,At.prototype.has=tm,At.prototype.set=rm;var nm=At,om=200,am=It;qt.prototype.clear=Ff,qt.prototype.delete=Vf,qt.prototype.get=Gf,qt.prototype.has=Wf,qt.prototype.set=am;var im=qt,sm=Rt,cm=function(){try{var e=Rh(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),lm=cm,um=Nt,pm=Object.prototype,dm=pm.hasOwnProperty,fm=Pt,hm=Dt,mm=Mt,ym=Bt,vm="[object Arguments]",gm=Lt,bm=Object.prototype,Em=bm.hasOwnProperty,_m=bm.propertyIsEnumerable,wm=gm(function(){return arguments}())?gm:function(e){return ym(e)&&Em.call(e,"callee")&&!_m.call(e,"callee")},Sm=wm,Cm=Array.isArray,Om=Cm,km=Ut,Tm=r(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===r,a=o?Xf.Buffer:void 0,i=a?a.isBuffer:void 0,s=i||km;e.exports=s}),xm=9007199254740991,jm=/^(?:0|[1-9]\d*)$/,Am=Ht,Im=9007199254740991,qm=Ft,Rm={};Rm["[object Float32Array]"]=Rm["[object Float64Array]"]=Rm["[object Int8Array]"]=Rm["[object Int16Array]"]=Rm["[object Int32Array]"]=Rm["[object Uint8Array]"]=Rm["[object Uint8ClampedArray]"]=Rm["[object Uint16Array]"]=Rm["[object Uint32Array]"]=!0,Rm["[object Arguments]"]=Rm["[object Array]"]=Rm["[object ArrayBuffer]"]=Rm["[object Boolean]"]=Rm["[object DataView]"]=Rm["[object Date]"]=Rm["[object Error]"]=Rm["[object Function]"]=Rm["[object Map]"]=Rm["[object Number]"]=Rm["[object Object]"]=Rm["[object RegExp]"]=Rm["[object Set]"]=Rm["[object String]"]=Rm["[object WeakMap]"]=!1;var Nm=Vt,Pm=Gt,Dm=r(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===r,a=o&&zf.process,i=function(){try{var e=n&&n.require&&n.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}),Mm=Dm&&Dm.isTypedArray,Bm=Mm?Pm(Mm):Nm,Lm=Bm,Um=Object.prototype,Hm=Um.hasOwnProperty,Fm=Wt,Vm=Object.prototype,Gm=Qt,Wm=zt,Qm=Wm(Object.keys,Object),zm=Qm,Ym=Object.prototype,Jm=Ym.hasOwnProperty,Xm=Yt,Km=Jt,Zm=Xt,$m=Kt,ey=Zt,ty=Object.prototype,ry=ty.hasOwnProperty,ny=$t,oy=er,ay=tr,iy=r(function(e,t){function r(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}var n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===n,i=a?Xf.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=r}),sy=rr,cy=nr,ly=or,uy=Object.prototype,py=uy.propertyIsEnumerable,dy=Object.getOwnPropertySymbols,fy=dy?function(e){return null==e?[]:(e=Object(e),cy(dy(e),function(t){return py.call(e,t)}))}:ly,hy=fy,my=ar,yy=ir,vy=Wm(Object.getPrototypeOf,Object),gy=vy,by=Object.getOwnPropertySymbols,Ey=by?function(e){for(var t=[];e;)yy(t,hy(e)),e=gy(e);return t}:ly,_y=Ey,wy=sr,Sy=cr,Cy=lr,Oy=ur,ky=Rh(Xf,"DataView"),Ty=ky,xy=Rh(Xf,"Promise"),jy=xy,Ay=Rh(Xf,"Set"),Iy=Ay,qy=Rh(Xf,"WeakMap"),Ry=qy,Ny=Sh(Ty),Py=Sh(Ph),Dy=Sh(jy),My=Sh(Iy),By=Sh(Ry),Ly=uh;(Ty&&"[object DataView]"!=Ly(new Ty(new ArrayBuffer(1)))||Ph&&"[object Map]"!=Ly(new Ph)||jy&&"[object Promise]"!=Ly(jy.resolve())||Iy&&"[object Set]"!=Ly(new Iy)||Ry&&"[object WeakMap]"!=Ly(new Ry))&&(Ly=function(e){var t=uh(e),r="[object Object]"==t?e.constructor:void 0,n=r?Sh(r):"";if(n)switch(n){case Ny:return"[object DataView]";case Py:return"[object Map]";case Dy:return"[object Promise]";case My:return"[object Set]";case By:return"[object WeakMap]"}return t});var Uy=Ly,Hy=Object.prototype,Fy=Hy.hasOwnProperty,Vy=pr,Gy=Xf.Uint8Array,Wy=Gy,Qy=dr,zy=fr,Yy=/\w*$/,Jy=hr,Xy=Zf?Zf.prototype:void 0,Ky=Xy?Xy.valueOf:void 0,Zy=mr,$y=yr,ev="[object Boolean]",tv="[object Date]",rv="[object Map]",nv="[object Number]",ov="[object RegExp]",av="[object Set]",iv="[object String]",sv="[object Symbol]",cv="[object ArrayBuffer]",lv="[object DataView]",uv="[object Float32Array]",pv="[object Float64Array]",dv="[object Int8Array]",fv="[object Int16Array]",hv="[object Int32Array]",mv="[object Uint8Array]",yv="[object Uint8ClampedArray]",vv="[object Uint16Array]",gv="[object Uint32Array]",bv=vr,Ev=Object.create,_v=function(){function e(){}return function(t){if(!ph(t))return{};if(Ev)return Ev(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),wv=_v,Sv=gr,Cv="[object Map]",Ov=br,kv=Dm&&Dm.isMap,Tv=kv?Pm(kv):Ov,xv=Tv,jv="[object Set]",Av=Er,Iv=Dm&&Dm.isSet,qv=Iv?Pm(Iv):Av,Rv=qv,Nv=1,Pv=2,Dv=4,Mv="[object Arguments]",Bv="[object Function]",Lv="[object GeneratorFunction]",Uv="[object Object]",Hv={};Hv[Mv]=Hv["[object Array]"]=Hv["[object ArrayBuffer]"]=Hv["[object DataView]"]=Hv["[object Boolean]"]=Hv["[object Date]"]=Hv["[object Float32Array]"]=Hv["[object Float64Array]"]=Hv["[object Int8Array]"]=Hv["[object Int16Array]"]=Hv["[object Int32Array]"]=Hv["[object Map]"]=Hv["[object Number]"]=Hv[Uv]=Hv["[object RegExp]"]=Hv["[object Set]"]=Hv["[object String]"]=Hv["[object Symbol]"]=Hv["[object Uint8Array]"]=Hv["[object Uint8ClampedArray]"]=Hv["[object Uint16Array]"]=Hv["[object Uint32Array]"]=!0,Hv["[object Error]"]=Hv[Bv]=Hv["[object WeakMap]"]=!1;var Fv=_r,Vv=1,Gv=4,Wv=wr,Qv="util",zv=0,Yv=/^[0-9]*$/,Jv=/^[0-9e.-]*$/i,Xv={pdb_protein_sequence:/^[ARNDBCEQZGHILKMFPSTWYVX]+$/,pdb_dna_sequence:/^[ACTG]+$/,pdb_rna_sequence:/^[ACUG]+$/},Kv={pdb_protein_sequence:"ARNDBCEQZGHILKMFPSTWYVX",pdb_dna_sequence:"ACTG",pdb_rna_sequence:"ACUG"},Zv=["pdb_dna_sequence","pdb_rna_sequence","pdb_protein_sequence"],$v=Zv.length,eg='You may need to enter a different sequence, or select a different "Target" value. Allowable characters are: \n\n',tg="common/query",rg=" = ",ng="common/process-path",og=r(function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?r.push(t.charAt(o>>>6*(3-a)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}};e.exports=r}()}),ag={utf8:{stringToBytes:function(e){return ag.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(ag.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}},ig=ag,sg=function(e){return null!=e&&(Xn(e)||Kn(e)||!!e._isBuffer)},cg=r(function(e){!function(){var t=og,r=ig.utf8,n=sg,o=ig.bin,a=function(e,i){e.constructor==String?e=i&&"binary"===i.encoding?o.stringToBytes(e):r.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,p=-1732584194,d=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;for(var h=a._ff,m=a._gg,y=a._hh,v=a._ii,f=0;f<s.length;f+=16){var g=l,b=u,E=p,_=d;l=h(l,u,p,d,s[f+0],7,-680876936),d=h(d,l,u,p,s[f+1],12,-389564586),p=h(p,d,l,u,s[f+2],17,606105819),u=h(u,p,d,l,s[f+3],22,-1044525330),l=h(l,u,p,d,s[f+4],7,-176418897),d=h(d,l,u,p,s[f+5],12,1200080426),p=h(p,d,l,u,s[f+6],17,-1473231341),u=h(u,p,d,l,s[f+7],22,-45705983),l=h(l,u,p,d,s[f+8],7,1770035416),d=h(d,l,u,p,s[f+9],12,-1958414417),p=h(p,d,l,u,s[f+10],17,-42063),u=h(u,p,d,l,s[f+11],22,-1990404162),l=h(l,u,p,d,s[f+12],7,1804603682),d=h(d,l,u,p,s[f+13],12,-40341101),p=h(p,d,l,u,s[f+14],17,-1502002290),u=h(u,p,d,l,s[f+15],22,1236535329),l=m(l,u,p,d,s[f+1],5,-165796510),d=m(d,l,u,p,s[f+6],9,-1069501632),p=m(p,d,l,u,s[f+11],14,643717713),u=m(u,p,d,l,s[f+0],20,-373897302),l=m(l,u,p,d,s[f+5],5,-701558691),d=m(d,l,u,p,s[f+10],9,38016083),p=m(p,d,l,u,s[f+15],14,-660478335),u=m(u,p,d,l,s[f+4],20,-405537848),l=m(l,u,p,d,s[f+9],5,568446438),d=m(d,l,u,p,s[f+14],9,-1019803690),p=m(p,d,l,u,s[f+3],14,-187363961),u=m(u,p,d,l,s[f+8],20,1163531501),l=m(l,u,p,d,s[f+13],5,-1444681467),d=m(d,l,u,p,s[f+2],9,-51403784),p=m(p,d,l,u,s[f+7],14,1735328473),u=m(u,p,d,l,s[f+12],20,-1926607734),l=y(l,u,p,d,s[f+5],4,-378558),d=y(d,l,u,p,s[f+8],11,-2022574463),p=y(p,d,l,u,s[f+11],16,1839030562),u=y(u,p,d,l,s[f+14],23,-35309556),l=y(l,u,p,d,s[f+1],4,-1530992060),d=y(d,l,u,p,s[f+4],11,1272893353),p=y(p,d,l,u,s[f+7],16,-155497632),u=y(u,p,d,l,s[f+10],23,-1094730640),l=y(l,u,p,d,s[f+13],4,681279174),d=y(d,l,u,p,s[f+0],11,-358537222),p=y(p,d,l,u,s[f+3],16,-722521979),u=y(u,p,d,l,s[f+6],23,76029189),l=y(l,u,p,d,s[f+9],4,-640364487),d=y(d,l,u,p,s[f+12],11,-421815835),p=y(p,d,l,u,s[f+15],16,530742520),u=y(u,p,d,l,s[f+2],23,-995338651),l=v(l,u,p,d,s[f+0],6,-198630844),d=v(d,l,u,p,s[f+7],10,1126891415),p=v(p,d,l,u,s[f+14],15,-1416354905),u=v(u,p,d,l,s[f+5],21,-57434055),l=v(l,u,p,d,s[f+12],6,1700485571),d=v(d,l,u,p,s[f+3],10,-1894986606),p=v(p,d,l,u,s[f+10],15,-1051523),u=v(u,p,d,l,s[f+1],21,-2054922799),l=v(l,u,p,d,s[f+8],6,1873313359),d=v(d,l,u,p,s[f+15],10,-30611744),p=v(p,d,l,u,s[f+6],15,-1560198380),u=v(u,p,d,l,s[f+13],21,1309151649),l=v(l,u,p,d,s[f+4],6,-145523070),d=v(d,l,u,p,s[f+11],10,-1120210379),p=v(p,d,l,u,s[f+2],15,718787259),u=v(u,p,d,l,s[f+9],21,-343485551),l=l+g>>>0,u=u+b>>>0,p=p+E>>>0,d=d+_>>>0}return t.endian([l,u,p,d])};a._ff=function(e,t,r,n,o,a,i){var s=e+(t&r|~t&n)+(o>>>0)+i;return(s<<a|s>>>32-a)+t},a._gg=function(e,t,r,n,o,a,i){var s=e+(t&n|r&~n)+(o>>>0)+i;return(s<<a|s>>>32-a)+t},a._hh=function(e,t,r,n,o,a,i){var s=e+(t^r^n)+(o>>>0)+i;return(s<<a|s>>>32-a)+t},a._ii=function(e,t,r,n,o,a,i){var s=e+(r^(t|~n))+(o>>>0)+i;return(s<<a|s>>>32-a)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,r){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(a(e,r));return r&&r.asBytes?n:r&&r.asString?o.bytesToString(n):t.bytesToHex(n)}}()}),lg="actions/helpers/refinements-to-request",ug="actions/helpers/query-builder-to-request",pg=["attribute","attribute_nested","attribute_nested_value","count","from","id","inputs","not","operator","to"],dg="actions/search",fg=!0,hg="actions/urls",mg="/search",yg="actions/process-data",vg={dataLoading:!0},gg={countLoading:!0},bg="actions/misc",Eg=function(e){return e},_g=function(e){return{getData:function(t,r){return e(Bo(t,r))},pageResults:function(t){return e(Lo(t))},perPageData:function(t){return e(Uo(t))},sortData:function(t){return e(Ho(t))},dispatchAction:function(t,r){return e(Vo(t,r))},setControl:function(t,r){return e(Wo(t,r))},setItemChecked:function(t,r){return e(Qo(t,r))},setSelectAll:function(t){return e(Yo(t))},saveTreeData:function(t,r){return e(Go(t,r))},setViews:function(t,r,n){return e(zo(t,r))},addGroup:function(t){return e(Jo(t))},addInput:function(t){return e(Xo(t))},addRule:function(t){return e(Ko(t))},deleteInput:function(t,r){return e($o(t,r))},deleteRule:function(t,r){return e(ea(t,r))},deleteGroup:function(t,r){return e(Zo(t,r))},setBooleanOperator:function(t){return e(ra(t))},setAttribute:function(t,r){return e(ta(t,r))},setNot:function(t){return e(na(t))},setOperator:function(t,r){return e(oa(t,r))},setValue:function(t,r,n){return e(aa(t,r,n))},clearRefinement:function(t){return e(sa(t))},clearRefinements:function(){return e(ca())},setRefinement:function(t,r,n){return e(la(t,r,n))},attributeValueSearch:function(t,r,n){return e(bo(t,r,n))},countSearch:function(t){return e(Eo(t))},editSearch:function(t){return e(_o(t))},prevNextSearch:function(t){return e(wo(t))},queryBuilderSearch:function(){return e(So())},refinementsSearch:function(){return e(Co())},requestSearch:function(t,r){return e(Oo(t,r))},serviceCountSearch:function(t){return e(ko(t))},urlSearch:function(){return e(To())},popState:function(t){return e(xo(t))},pushState:function(t){return e(jo(t))}}},wg=function(){return{}},Sg={},Cg="/search/gql",Og="/search/html/help",kg="/search/data",Tg="TAB_SEARCH",xg="TAB_TREE_BROWSER",jg="TAB_MYPDB",Ag="TAB_HELP",Ig=[Tg,"TAB_HISTORY",xg,jg,Ag],qg={TAB_SEARCH:"Search",TAB_HISTORY:"History",TAB_TREE_BROWSER:"Browse Annotations",TAB_MYPDB:"MyPDB",TAB_HELP:"Help"},Rg="SUMMARY",Ng="REPORT",Pg=[Rg,"GALLERY","COMPACT",Ng],Dg={GALLERY:"Gallery",SUMMARY:"Summary",COMPACT:"Compact",REPORT:"Tabular Report"},Mg="CLEAR_REFINEMENT",Bg="CLEAR_REFINEMENTS",Lg="SET_REQUEST_PAGER",Ug="SET_ALL_CHECKED",Hg="SET_BOOLEAN",Fg="SET_CONTAINER_WIDTH",Vg="SET_CONTROL",Gg="SET_CW",Wg="SET_HELP",Qg="SET_ITEM_CHECKED",zg="SET_MAX_GROUPS",Yg="SET_MSG",Jg="SET_PAGER",Xg="SET_REFINEMENT",Kg="SET_REQUEST",Zg="SET_REQUEST_HTML",$g="SET_DATA_RESULTS",eb="SET_RETURN_TYPE",tb="SET_SEARCH_RESULTS",rb="SET_SELECT_ALL",nb="SET_SORT",ob="SET_URLS_PROPS",ab="SET_VIEW",ib="URLS_ADD",sb="QB_CHEMICAL_SET_PROPS",cb="QB_INIT",lb="QB_RESET_COUNTS",ub="QB_SEQUENCE_SET_PROPS",pb="QB_SEQUENCE_MOTIF_SET_PROPS",db="QB_SERVICE_SET_OPEN",fb="QB_SET_PROPS",hb="QB_STRUCTURE_SET_PROPS",mb="QB_TEXT_ADD_GROUP",yb="QB_TEXT_ADD_INPUT",vb="QB_TEXT_ADD_RULE",gb="QB_TEXT_DELETE_INPUT",bb="QB_TEXT_DELETE_GROUP",Eb="QB_TEXT_DELETE_RULE",_b="QB_TEXT_SET_ATTRIBUTE",wb="QB_TEXT_SET_GROUP_BOOL",Sb="QB_TEXT_SET_NOT",Cb="QB_TEXT_SET_OPERATOR",Ob="QB_TEXT_SET_RULE_PROPERTY",kb="QB_TEXT_SET_VALUE",Tb="SET_TREE",xb="SET_HISTORY",jb="SET_HISTORY_ID",Ab="HISTORY_ADD",Ib="HISTORY_REMOVE",qb="HISTORY_REMOVE_ALL",Rb="SET_CUSTOM_REPORT_ATTRIBUTE",Nb="SET_CUSTOM_REPORT_ATTRIBUTES",Pb="SET_PREDEFINED_ATTRIBUTES",Db="SET_REPORT_PROPS",Mb="REQ_ALL_IDS",Bb="REQ_GQL_DATA",Lb="REQ_SEARCH",Ub="REQ_COUNT",Hb={exact_match:"equals",contains_words:"contains words",contains_phrase:"contains phrase",exists:"exists",in:"in",equals:"=",greater:">",greater_or_equal:">=",less:"<",less_or_equal:"<=",range:"range (upper excl.)",range_closed:"range (upper incl.)"},Fb={angstroms:"",angstroms_cubed_per_dalton:"/Da",angstroms_squared:"",kelvins:"K",kilodaltons:"kDa",megahertz:"MHz",daltons:"Da",degrees:"",nanomole:"nM",per_mole:"M",kilojoule_per_mole:"kJ/mol"},Vb="chemical",Gb="input-group",Wb="nested-attribute",Qb="query-builder",zb="refinements",Yb="rule",Jb="sequence",Xb="seqmotif",Kb="structure",Zb="text",$b=[{key:"score desc",value:" Score"},{key:"rcsb_accession_info.initial_release_date desc",value:" Release Date: Newest to Oldest"},{key:"rcsb_accession_info.initial_release_date asc",value:" Release Date: Oldest to Newest"},{key:"rcsb_entry_container_identifiers.entry_id asc",value:" PDB ID: A to Z"},{key:"rcsb_entry_container_identifiers.entry_id desc",value:" PDB ID: Z to A"},{key:"rcsb_entry_info.resolution_combined asc",value:" Resolution: Best to Worst"},{key:"rcsb_entry_info.resolution_combined desc",value:" Resolution: Worst to Best"}],eE=["text","sequence","seqmotif","structure","chemical"],tE={chemical:"Chemical",sequence:"Sequence",seqmotif:"Sequence Motif",structure:"Structure Similarity",text:"Attribute"},rE=[{key:"pdb_protein_sequence",value:"Protein"},{key:"pdb_dna_sequence",value:"DNA"},{key:"pdb_rna_sequence",value:"RNA"}],nE=rE[0].key,oE=1e6,aE=0,iE=[{key:"simple",value:"Simple"},{key:"prosite",value:"PROSITE"},{key:"regex",value:"Regex"}],sE=iE[0].key,cE=[{key:"assembly_id",value:"Assembly ID"},{key:"asym_id",value:"Chain ID"}],lE=cE[0].key,uE=[{key:"formula",value:"Formula"},{key:"descriptor",value:"Descriptor"}],pE=[{key:"SMILES",value:"SMILES"},{key:"InChI",value:"InChI"}],dE=[{key:"graph-relaxed",value:"Graph Relaxed"},{key:"graph-relaxed-stereo",value:"Graph Relaxed Stereo"},{key:"graph-strict",value:"Graph Strict"},{key:"fingerprint-similarity",value:"Fingerprint Similarity"}],fE=uE[0].key,hE=pE[0].key,mE=dE[0].key,yE="btn btn-default btn-sm",vE="btn btn-default btn-xs",gE=[{key:"entry",core:"entry",value:"Structures",name:"Structure"},{key:"polymer_entity",core:"polymer_entities",value:"Polymer Entities",name:"Polymer Entity"},{key:"assembly",core:"assemblies",value:"Assemblies",name:"Assembly"},{key:"non_polymer_entity",core:"nonpolymer_entities",value:"Non-polymer Entities",name:"Non-polymer Entity"}],bE=5e3,EE="Search",_E=25e3,wE=50,SE=20,CE=2,OE="rcsb_pdb_2b1e729e-a9ff-4003-8a34-c74cf1937824",kE=[25,50,100],TE="search_summary",xE="-------------------------------------------------------------------------------- ",jE="session",AE=100,IE=gE[0].key,qE="combined",RE=" AND ",NE=" OR ",PE="XS",DE="SM",ME="LG",BE={"Content-Type":"application/json"},LE={method:"GET",headers:BE},UE={method:"POST",headers:BE},HE=Object.assign({},UE,{credentials:"include"}),FE={advancedSearchNoQuery:'Use the <strong>Advanced Search Query Builder</strong> tool to create composite boolean queries. See the <a onclick="help()">Help</a> page for more detailed information.',countLoading:"Loading count data...",downloadData:"Your query returned more than "+bE+" records. To download the entire data set in CSV or JSON format, you will be required to download the data as a series of batch files, each containing "+bE+' rows. \n\nTo download data in a single file you may wish to further refine your query to limit the number of records returned. \n\nClick "OK" to proceed with the batch download, otherwise click "Cancel".',downloadMsg:'For large data sets you may find it more convenient to use the <a href="/pages/webservices" target="_blank">Search and Data APIs.',dataError:"There was an error loading the data.",dataLoading:"Loading data...",emptyQuery:"Please enter search criteria by selecting one or more fields and entering or selecting corresponding values.",idsData:"Your query returned more than "+_E+" ids. To download the entire data set, you will be required to download the data as a series of batch files, each containing "+_E+' ids. \n\nTo download IDs in a single file you may wish to further refine your query to limit the number of IDs returned. \n\nClick "OK" to proceed with the batch download, otherwise click "Cancel".',noMyPdbQueries:"You have no saved queries.",noQuery:'Use the <strong>Search Bar</strong> at the top of the page to run a Basic Search query or use the <strong>Advanced Search Query Builder</strong> tool below to create composite boolean queries. See the <a onclick="help()">Help</a> page for more detailed information.',noResults:"No results were found matching the current query.",noSearchHistory:"Currently there is no search history.",noTabularResults:"There are no Search results to display. Use Basic Search or Advanced Search to run a query. The results may then be displayed in the Tabular Reports tab.",okToProceed:'\n\nClick "OK" to proceed, otherwise click "Cancel".'},VE="MSG_ERROR",GE="MSG_NO_QUERY",WE="MSG_NO_RESULTS",QE='<p>Click the &nbsp;<span class="glyphicon glyphicon-search" style="color:#fff;"></span>&nbsp; button to run the query.</p><p>When the &nbsp;<span class="glyphicon glyphicon-search" style="color:#0f0;"></span>&nbsp; icon is green, it indicates that the query may also be run by pressing the "Enter" key.</p>',zE={chemicalSearch:"Search ligands bound to macromolecules in the PDB by Chemical Formula, SMILES String, or InChI.",chemicalType:"The type of chemical search to be executed.",chemicalMatchSubset:"Find formulas satisfying only a subset of the query conditions.",chemicalDescriptorType:"Type of chemical descriptor (SMILES or InChI).",chemicalMatchType:"Qualitative graph matching or fingerprint comparison criteria.",displayResultsAs:"Select the type of items to be returned in the search results. The same query may be used to return Structures, Polymer Entities, Non-polymer Entities, or Assemblies.",history:"<p>Search History displays upto "+wE+' searches, beginning with the most recent. The Search History will persist only for as long as the current browser tab remains open.</p><p>To permanently save a search query, after logging in to MyPDB, click the "Save to MyPDB" button.</p>',sequenceEvalue:"Enter a value for E-Value Cutoff using either decimal or scientific notation, for example: 0.000003 or 3E-6. Hits with an E-Value above the cutoff value are filtered out.",sequenceIdentity:"Hits with sequence identity below the cutoff value are filtered out.",sequenceMotifMode:"<p>Specify the format of the sequence motif.</p><p>Use PROSITE pattern notation (e.g., C-x(2,4)-C-x(3)-[LIVMFYWC]-x(8)-H-x(3,5)-H) or REGEX to express complex patterns.</p><p>Simple motifs can use X/x as wildcard character (e.g., GxxxG). </p>",sequenceMotifTarget:"Identifies a specific search scope.",sequenceTarget:"Identifies a specific search scope.",queryBuilder:"<p>Use the Query Builder tool to build a new query or to modify an existing query.</p>"+QE,refinements:'<p>Use the Refinements panel to filter the search results by selecting one or more values from the refinement categories. Selected values within a refinement category will be joined by a logical "OR" boolean operator. Refinement categories will be joined by a boolean "AND" operator.</p><p>For example, selecting two values from the "EXPERIMENTAL METHOD" category would result in the query ... AND EXPERIMENTAL METHOD = ("X-RAY DIFFRACTION" or "SOLUTION NMR") ...</p>'+QE,sequenceSearch:'<p>Search protein and nucleic acid sequences using the mmseqs2 method to find similar protein or nucleic acid chains in the PDB Archive.</p><p>To view the Sequence Identity, E-Value, and Region information in the search results, you must select "Polymer Entities" from the "Display Results as" dropdown.</p>',seqmotifSearch:'<p>Search for small sequence motifs in protein and nucleic acid sequences.</p><p>Enter a sequence motif in PROSITE, Regex or Simple format.</p><p>To view the Sequence Motif Matching Region information in the search results, you must select "Polymer Entities" from the "Display Results as" dropdown. </p>',structureMatchScore:"<p>Probability (in percentage) that the structure match is similar to the query (0-100).</p>",structureSearch:'<p>Search protein structure shapes by using BioZernike descriptors as described in Guzenko et al 2020. The search will find structures whose volumes are globally similar to the query structure.</p><p>To view the Structure Match Score in the search results, you must select "Assemblies" from the "Display Results as" dropdown.</p>',textSearch:'<p>Use Attribute Search to search specific fields in the database, or to perform a full-text search against all searchable fields. </p><p>The interface allows for the creation of composite boolean queries by combining and grouping fields using boolean "AND", "OR", and "NOT" operators.</p>'},YE={chemicalFormula:'C12 H28 N4 O. Note that a Chemical Formula Search is case-sensitive. For example: "NIC4" (Nitrogen, Iodine, Carbon) and "NiC4" (Nickel, Carbon), will yield different results.',chemicalSMILES:"CC(=O)NCCCNCCCCNCCCN",chemicalInChI:"InChI=1S/C12H28N4O/c1-12(17)16-11-5-10-15-8-3-2-7-14-9-4-6-13/h14-15H,2-11,13H2,1H3,(H,16,17)",identityCutoff:"0-100",searchBar:"Enter search terms or PDB ID(s)",sequenceSearch:"MTTQAPTFTQPLQSVVVLEG. Enter a sequence containing a minimum of "+SE+" residues, OR enter a PDB ID in the text box below and select from the sequence list. The second option is useful for finding sequences that are similar to a sequence from a given structure and chain.",sequenceMotifSearch:"C-x(2,4)-C-x(3)-[LIVMFYWC]-x(8)-H-x(3,5)-H",searchChemicalFormula:"Molecular formula",searchChemicalDescriptor:"SMILES or InChI chemical descriptor.",searchEntryId:"1MBN",textSearch:"Enter search term(s)",treeSearchBar:"Enter a word or phrase to search the tree"},JE=[{id:"overview",name:"Overview"},{id:"basic-search",name:"Basic Search"},{id:"advanced-search",name:"Advanced Search"},{id:"attribute-search",name:"Attribute Search"},{id:"sequence-search",name:"Sequence Search"},{id:"sequence-motif-search",name:"Sequence Motif Search"},{id:"structure-search",name:"Structure Search"},{id:"chemical-search",name:"Chemical Search"}],XE={documentation:"Documentation",login:"Sign In",queries:"Search Queries",account:"Account Settings"},KE=[{id:"google",name:"Google"},{id:"facebook",name:"Facebook"},{id:"orcid",name:"ORCID"}],ZE={goFooter:"<i><strong>Note:</strong> Not all PDB IDs/chains have been mapped to GO terms.</i>",goHeader:'<p style="font-size:12px;"><i><strong>Note:</strong> to search by GO ID it is only necessary to enter the numeric portion of the ID, for example, to search for <strong>"GO:0007610"</strong>, enter <strong>"761"</strong>.</i></p>',headers:{atc:'<p>The <a href="http://www.whocc.no/atc/structure_and_principles/" target="_blank">Anatomical Therapeutic Chemical (ATC) </a> Classification System is used for the classification of drugs. It is controlled by the <a href="http://www.whocc.no/" target="_blank">WHO Collaborating Centre</a> for Drug Statistics Methodology.<br /><i>ATC names are only listed when there are corresponding PDB entries.</i></p><p>Here you can <strong>browse</strong> an ATC name, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific ATC code.<p>',biological_process:'<p>Vocabulary terms describing biological processes developed by the <a href="http://www.geneontology.org/" target="_blank">Gene Ontology Consortium (GO)</a> have been mapped to PDB entities by <a href="http://www.ebi.ac.uk/pdbe/docs/sifts/" target="_blank">SIFTS</a>.</p><p>Browse this Biological Process tree by selecting a GO term, or enter a GO term in the search box to identify the corresponding PDB entities.</p>',
cath:'<p><a href="http://www.cathdb.info/" target="_blank">CATH</a> is a novel hierarchical classification of protein domain structures, which clusters proteins at four major levels, Class(C), Architecture(A), Topology(T) and Homologous superfamily (H). Class, derived from secondary structure content, is assigned for more than 90% of protein structures automatically. Architecture, which describes the gross orientation of secondary structures, independent of connectivities, is currently assigned manually. The topology level clusters structures according to their toplogical connections and numbers of secondary structures. The homologous superfamilies cluster proteins with highly similar structures and functions. The assignments of structures to toplogy families and homologous superfamilies are made by sequence and structure comparisons.</p>',cellular_component:'<p>Vocabulary terms describing cellular component locations developed by the <a href="http://www.geneontology.org/" target="_blank">Gene Ontology Consortium (GO)</a> have been mapped to PDB entities by <a href="http://www.ebi.ac.uk/pdbe/docs/sifts/" target="_blank">SIFTS</a>.</p><p>Browse this Cellular Component tree by selecting a GO term, or enter a GO term in the search box to identify the corresponding PDB entities.</p>',ec:'<p>The PDB assigns EC (Enzyme Commission) numbers to structures and chains in the archive. These assignments are based on UniProtKB/GenBank/KEGG/author specified mapping of the enzyme to EC numbers. Enzyme Classification is based on the recommendations of the Nomenclature Committee of the International Union of Biochemistry and Molecular Biology (<a class="static" href="http://www.chem.qmul.ac.uk/iupac/jcbn/" target="_blank">IUBMB</a>). It describes each enzyme for which an EC number has been provided (<a class="static" href="http://www.expasy.ch/enzyme/" target="_blank">EC</a>).</p><p>Here you can <strong>browse</strong> an EC name, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific associated structures. In addition to searching for an enzyme in the tree by term, you can search for the enzyme by either partial or full EC number.</p>',genome_location:'<p>The genome browser is a hierarchical representation of structures from genomes of various organisms. RCSB PDB has mapped the structures to the chromosomal loci based on UniProtKB/GenBank accession numbers associated with the structures and the loci. The genomes represented are a subset of the genomes in the NCBI genome database and whose curated sequences for genetic loci are archived at <a class="static" href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?db=gene" target="_blank">Entrez Gene</a>. The top level in the hierarchy is the organism\'s  genome. Each genome expands into chromosomes which in turn expand into a list of loci on the chromosomes. Each locus is a link to retrieve structures associated with that locus.</p><p>Here you can <strong>browse</strong> by Gene name, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific associated structures. Genes may be <strong>searched</strong> using their <strong>names</strong>.</p>',membrane:'<p>Transmembrane proteins in the PDB are identified using the <a href="http://blanco.biomol.uci.edu/mpstruc/" target="_blank">mpstruc database</a> (Stephen White, UC Irvine), sequence clustering, and data derived from UniProt. <a href="/pages/help/advancedsearch/mpstruc">Details are available</a>.</p>',mesh:'<a href="http://www.nlm.nih.gov/mesh/" target="_blank">MeSH (Medical Subject Headings)</a> are used to classify publications indexed by the National Library of Medicine (NLM). MeSH is a hierarchical set of keywords applied to each publication by a human annotator. The majority of PDB structures have associated a primary citation that is listed on the Structure Summary page. That citation includes an abstract and keywords. The keywords are in fact MeSH terms. Thus by browsing the MeSH tree you are finding all structures at a given level of the tree that have an abstract which include the selected MeSH term as a keyword.',molecular_function:'<p>Vocabulary terms describing molecular function developed by the <a href="http://www.geneontology.org/" target="_blank">Gene Ontology Consortium (GO)</a> have been mapped to PDB entities by <a href="http://www.ebi.ac.uk/pdbe/docs/sifts/" target="_blank">SIFTS</a>.</p><p>Browse this Molecular Function tree by selecting a GO term, or enter a GO term in the search box to identify the corresponding PDB entities.</p>',protein_modification:'<p>Browse protein residue modifications in the PDB archive using the protein modification ontology (<a href="http://www.ebi.ac.uk/ols/ontologies/mod" target="_blank">PSI-MOD</a>) from         the Proteomics Standards Initiative (<a href="http://www.psidev.info/MOD" target="_blank">PSI</a>). Here you can <strong>browse</strong> the PSI-MOD Protein Modifications, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific associated structures.</p><p>Please cite:<br />BioJava-ModFinder: Identification of protein modifications in 3D structures from the Protein Data Bank (2017) Bioinformatics, https://doi.org/10.1093/bioinformatics/btx101</p>',scop:'<p>Nearly all proteins have structural similarities with other proteins and, in some of these cases, share a common evolutionary origin. The <a  href="http://scop.mrc-lmb.cam.ac.uk/scop/" target="_blank">SCOP</a> database, created by manual inspection and abetted by a battery of automated methods, aims to provide a detailed and comprehensive description of the structural and evolutionary relationships between all proteins whose structure is known. As such, it provides a broad survey of all known protein folds, detailed information about the close relatives of any particular protein, and a framework for future research and classification.</p><p>Here you can <strong>browse</strong> by SCOP structural classifications (version 1.75 <a href="http://scop.mrc-lmb.cam.ac.uk/scop/" target="_blank"><span class="iconSet-main icon-external" title="Link out to SCOP">&nbsp;</span></a>).</p>',symmetry:"<p>Protein symmetry is calculated for all protein complexes in the PDB, and updated weekly.</p>",taxonomy:"<p>The Source Organism browser is a hierarchical representation of all organisms in the NCBI Taxonomy database (Taxonomy). All organisms which have structures in the PDB are listed as active links in the browser. These organisms are the source of the individual naturally-occurring polypeptides. The PDB source organism assignment is based on author/UniProtKB specified mapping of polypeptides.</p><p>Here you can browse by source organism, view the number of associated PDB structures, and search for the specific associated structures.</p>",transporter_classification:'<p>Browse membrane transport proteins in the PDB archive using the Transporter Classification (TC) system from the Transporter Classification Database (<a href="http://www.tcdb.org" target="_blank">www.tcdb.org</a>).</p><p>Here you can <strong>browse</strong> the TCDB superfamilies, <strong>view</strong> the number of associated PDB structures, and <strong>search</strong> for the specific associated structures.</p>'}},$E={},e_={custom_report:"Custom",entry_id:"PDB ID",evalue_cutoff:"E-Value Cutoff",identity_cutoff:"Identity Cutoff",target:"Target",pattern_type:"Mode",relaxed_shape_match:"Relaxed",shape_match:"Shape Match",strict_shape_match:"Strict",descriptor_type:"Descriptor Type",match_subset:"Match Subset",match_type:"Match Type",query_type:"Query Type"},t_={},r_={},n_="reducers/helpers/get-query-builder",o_="reducers/helpers/history",a_="reducers/reducers",i_={booleans:Qa,containerWidth:za,control:Ya,customReport:Ja,cw:Xa,help:Ka,history:Za,msg:$a,pager:ei,queryBuilder:ti,request:ri,requestHtml:ni,dataResults:oi,searchResults:ai,returnType:ii,selectAll:si,sort:ci,tabularReport:li,trees:ui,urls:pi,views:di},s_=function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];void 0===e[o]&&ue('No reducer provided for key "'+o+'"'),"function"==typeof e[o]&&(r[o]=e[o])}var a,i=Object.keys(r);a={};var s;try{fe(r)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;var n=de(e,r,t,a);n&&ue(n);for(var o=!1,c={},l=0;l<i.length;l++){var u=i[l],p=r[u],d=e[u],f=p(d,t);if(void 0===f){var h=pe(u,t);throw new Error(h)}c[u]=f,o=o||f!==d}return o?c:e}}(i_),c_="rgba(0, 0, 0, 0.02)",l_="rgba(0, 0, 0, 0.06)",u_="rgba(0, 0, 0, 0.08)",p_="rgba(0, 0, 0, 0.25)",d_="rgba(0, 0, 0, 0.50)",f_="rgb(94, 105, 115)",h_="rgb(255, 255, 255)",m_="1px solid rgba(0, 0, 0, 0.04)",y_="1px solid "+u_,v_="1px solid rgba(0, 0, 0, 0.10)",g_="1px solid rgba(0, 0, 0, 0.20)",b_={color:p_,cursor:"not-allowed"},E_={display:"inline-block",verticalAlign:"top"},__=Object.assign({},E_,{width:"50%"}),w_=Object.assign({},E_,{width:"50%",textAlign:"right"}),S_={border:g_,color:"rgba(0, 0, 0, 0.80)",cursor:"pointer",display:"inline-block",fontWeight:"normal",fontSize:12,padding:"0 8px",userSelect:"none",whiteSpace:"nowrap",lineHeight:"26.5px",verticalAlign:"top"},C_=Object.assign({},S_,{borderRight:"none"}),O_=Object.assign({},S_,b_),k_=Object.assign({},C_,b_),T_=Object.assign({},S_,{border:"none",backgroundColor:"rgb(50, 88, 128)",color:h_,lineHeight:"28px",width:28,textAlign:"center"}),x_=Object.assign({},T_,{color:"rgb(51, 255, 51)"}),j_=Object.assign({},S_,{padding:"0 5px",lineHeight:"21.5px"}),A_=Object.assign({},j_,{borderRight:"none"}),I_=(Object.assign({},j_,b_),Object.assign({},A_,b_),{border:g_,height:28,borderRadius:0,backgroundColor:"#fff",width:"auto"}),q_={backgroundColor:"rgba(0, 0, 0, 0.03)",border:v_,marginBottom:10,padding:4},R_={style:{fontSize:12,border:v_,backgroundColor:c_},toggle:{paddingRight:5},headerStyle:{padding:5},label:{whiteSpace:"nowrap",lineHeight:"28px",marginRight:5},service:{marginRight:5,marginBottom:5,position:"relative"},serviceTab:{padding:"4px 4px 2px",backgroundColor:"rgb(244, 244, 244)",borderTop:v_,borderLeft:v_,borderRight:v_,display:"inline-block",width:180,marginLeft:50},serviceTable:{width:"100%"},serviceTableBody:{width:"100%"},serviceLabel:{paddingRight:5},serviceOperator:{width:50,textAlign:"right",fontWeight:"bold",marginTop:4,paddingRight:5,lineHeight:"28px"},serviceBody:{padding:5,backgroundColor:"rgb(244, 244, 244)",border:v_,marginTop:-1},logicalOperator:{textAlign:"right",width:75,lineHeight:"28px",fontWeight:"bold",userSelect:"none",paddingRight:5},footerStyle:{paddingLeft:5,paddingRight:5,paddingBottom:3,textAlign:"right"},inputTextStyle:{height:28,border:g_},textareaStyle:{width:"100%",height:"38px",resize:"vertical",border:g_,marginBottom:2}};[R_.inputTextStyle,R_.label,R_.logicalOperator,R_.serviceLabel,R_.toggle].forEach(function(e){Object.assign(e,E_)});var N_,P_,D_={tbl:{fontSize:12},th:{padding:4,fontWeight:"bold"},thNowrap:{padding:4,fontWeight:"bold",whiteSpace:"nowrap"},thDeleteAll:{padding:"6px 4px 2px"},thLine:{padding:"0 4px",fontWeight:"bold",lineHeight:"28px"},thLineNowrap:{padding:"0 4px",fontWeight:"bold",lineHeight:"28px",whiteSpace:"nowrap"},thLineDeleteAll:{paddingBottom:2},trEven:{backgroundColor:c_,borderTop:v_},trOdd:{backgroundColor:h_,borderTop:v_},trSelected:{color:"#fff",backgroundColor:"rgba(51, 122, 183, 0.75)",borderTop:v_},td:{padding:4},tdNowrap:{padding:4,whiteSpace:"nowrap"},tdCenter:{padding:4,textAlign:"center"},tdRequest:{padding:4,width:"100%",cursor:"pointer"},tdRight:{padding:4,textAlign:"right"},tdDateTime:{padding:4,whiteSpace:"nowrap"}},M_=(Pi.createElement("span",{className:"glyphicon-calendar"}),Pi.createElement("span",{className:"glyphicon glyphicon-ok"})),B_=Pi.createElement("span",{className:"glyphicon glyphicon-chevron-right"}),L_=Pi.createElement("span",{className:"glyphicon glyphicon-download-alt"}),U_=Pi.createElement("span",{className:"glyphicon glyphicon-minus"}),H_=Pi.createElement("span",{className:"glyphicon glyphicon-new-window"}),F_=Pi.createElement("span",{className:"glyphicon glyphicon-plus"}),V_=Pi.createElement("span",{className:"glyphicon glyphicon-remove"}),G_=Pi.createElement("span",{className:"glyphicon glyphicon-search"}),W_=Pi.createElement("span",{className:"glyphicon glyphicon-stop"}),Q_=Pi.createElement("span",{className:"glyphicon glyphicon-triangle-top"}),z_=Pi.createElement("span",{className:"glyphicon glyphicon-triangle-bottom"}),Y_=Pi.createElement("span",{className:"glyphicon glyphicon-triangle-left"}),J_=Pi.createElement("span",{className:"glyphicon glyphicon-triangle-right"}),X_=Pi.createElement("span",{className:"fa fa-cloud-upload"}),K_=Pi.createElement("span",{className:"fa fa-edit"}),Z_=Pi.createElement("span",{className:"fa fa-save"}),$_=Pi.createElement("span",{className:"fa fa-times"}),ew=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e,t,r,n=this.props,o=n.w,a=n.h;return o&&(e=o,r="inline-block"),a&&(t=a),Pi.createElement("div",{style:{width:e,height:t,display:r}})},t}(e.Component),tw=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){return Pi.createElement("div",{style:{width:10,display:"inline-block",textAlign:"center",color:p_}},"|")},t}(e.Component),rw=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.border,r=e.height,n=e.header,o=e.id,a=e.onChange,i=e.options,s=e.value;t=t||"none",r=r||28;var c={border:t,height:r,borderRadius:0,backgroundColor:"#fff",width:"auto"};return Pi.createElement("select",{onChange:a,value:s,id:o,style:c},n&&Pi.createElement("option",{value:""},n),i.map(function(e){var t,r,n=typeof e;return"string"===n||"number"===n?(t=e,r=e.length>60?e.substring(0,60)+"...":e):(t=e.key,r=e.value),Pi.createElement("option",{key:t,value:t},r)}))},t}(e.Component),nw=function(e){function t(t){e.call(this,t),this.handleOnChange=this.handleOnChange.bind(this),this.handleSearch=this.handleSearch.bind(this);var r=fi(this.props.request);this.state={str:r}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=fi(this.props.request);this.setState({str:e})},t.prototype.componentDidUpdate=function(e){if(fi(this.props.request)!==fi(e.request)){var t=fi(this.props.request);this.setState({str:t})}},t.prototype.handleOnChange=function(e){var t=e.target.value;this.setState({str:t})},t.prototype.handleSearch=function(){this.props.editSearch(this.state.str)},t.prototype.render=function(){var e=this.state.str,t=e?e.split("\n").length+2:2;return e?Pi.createElement("div",null,Pi.createElement("div",{id:"edit-query"},Pi.createElement("div",null,"Edit Request"),Pi.createElement("textarea",{rows:t,id:"edit-query-text",value:e,onChange:this.handleOnChange}),Pi.createElement("a",{className:yE,onClick:this.handleSearch},"Search")),Pi.createElement(ew,{h:5})):null},t}(e.Component),ow=Af(Eg,_g)(nw),aw=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props.format,t=["treeData"];return Pi.createElement("div",null,"html"===e?Pi.createElement("div",{dangerouslySetInnerHTML:{__html:Yr(this.props,0,t)}}):Pi.createElement("pre",{id:"state"},hi(this.props,t)))},t}(e.Component),iw=Af(Eg,wg)(aw),sw=function(e){function t(t){var r=this;e.call(this,t),["setFormat","setView"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={format:"html"}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setFormat=function(e){this.setState({format:e.target.value})},t.prototype.setView=function(e){var t=this.props.views.dev===e?null:e;this.props.dispatchAction(ab,{dev:t})},t.prototype.render=function(){var e=this,t=this.props,r=t.booleans,n=t.containerWidth,o=t.cw,a=t.queryBuilder,i=t.request,s=t.dataResults,c=t.urls,l=t.views,u=this.state.format,p={padding:2,display:"inline-block",border:"1px solid #ddd"},d="https://127.0.0.1:8443"===Sg.referer,f=d,h=d,m=l.dev;return Pi.createElement("div",{id:"dev-tools"},Pi.createElement("div",{className:"text-right"},"Dev Tools: ",Pi.createElement(ew,{w:5}),Pi.createElement("a",{href:"/search/tests"},"tests"),Pi.createElement(ew,{w:5}),"Schema: ",Pi.createElement("a",{href:"http://search-dev.rcsb.org/rcsbsearch/v1/metadata/schema",target:"_blank",rel:"noopener noreferrer"},"dev"),Pi.createElement(tw,null),Pi.createElement("a",{href:"http://search-staging.rcsb.org/rcsbsearch/v1/metadata/schema",target:"_blank",rel:"noopener noreferrer"},"staging"),Pi.createElement(ew,{w:5}),Pi.createElement(tw,null),Pi.createElement("a",{href:"http://search.rcsb.org/rcsbsearch/v1/metadata/schema",target:"_blank",rel:"noopener noreferrer"},"prod"),Pi.createElement(ew,{w:5}),Pi.createElement("a",{className:vE,onClick:function(){return e.setView("editRequest")}},"editRequest"),Pi.createElement(ew,{w:5}),"Objects: ",Pi.createElement("div",{className:"btn-group"},Pi.createElement("a",{className:vE,onClick:function(){return e.setView("qb")}},"qb"),Pi.createElement("a",{className:vE,onClick:function(){return e.setView("request")}},"request"),Pi.createElement("a",{className:vE,onClick:function(){return e.setView("dataResults")}},"dataResults"),Pi.createElement("a",{className:vE,onClick:function(){return e.setView("state")}},"state")),Pi.createElement(ew,{w:5}),"Data: ",Pi.createElement("div",{className:"btn-group"},Pi.createElement("a",{className:vE,href:"/search/dev/schemaMetadata/"+u,target:"_blank",rel:"noopener noreferrer"},"schemaMetadata"),Pi.createElement("a",{className:vE,href:"/search/dev/selectorItems/"+u,target:"_blank",rel:"noopener noreferrer"},"selectorItems"),Pi.createElement("a",{className:vE,href:"/search/dev/attributeNames/"+u,target:"_blank",rel:"noopener noreferrer"},"attributeNames")),Pi.createElement(ew,{w:5}),"Format: ",Pi.createElement(ew,{w:5}),Pi.createElement("input",{type:"radio",name:"format",value:"text",onClick:this.setFormat,checked:"text"===this.state.format})," text ",Pi.createElement(ew,{w:5}),Pi.createElement("input",{type:"radio",name:"format",value:"html",onClick:this.setFormat,checked:"html"===this.state.format})," html ",Pi.createElement(ew,{w:5}),Pi.createElement("div",{style:p},o),Pi.createElement(ew,{w:2}),Pi.createElement("div",{style:p},n)),Pi.createElement(ew,{h:5}),"editRequest"===m&&Pi.createElement(ow,null),"qb"===m&&a&&Pi.createElement("pre",null,Zr(a)),"request"===m&&i&&Pi.createElement("pre",null,Zr(i)),"dataResults"===m&&"html"===u&&Pi.createElement("div",{dangerouslySetInnerHTML:{__html:Yr(s,0,[])}}),"dataResults"===m&&"text"===u&&Pi.createElement("pre",null,Zr(s)),"state"===m&&Pi.createElement(iw,{format:u}),Pi.createElement(ew,{h:5}),Pi.createElement("table",null,Pi.createElement("tr",null,Pi.createElement("td",null,d&&Pi.createElement("table",{className:"generic-table"},Pi.createElement("tr",null,Pi.createElement("th",{colSpan:"6"},"urls")),Pi.createElement("tr",null,Pi.createElement("th",null,"i"),Pi.createElement("th",null,"value"),Pi.createElement("th",null,"type"),Pi.createElement("th",null,"view"),Pi.createElement("th",null,"id"),Pi.createElement("th",null,"src")),c.arr.map(function(e,t){return Pi.createElement("tr",{key:"id"+t},Pi.createElement("td",null,e.index),Pi.createElement("td",{className:"break"},e.value),Pi.createElement("td",null,e.type),Pi.createElement("td",null,e.view),Pi.createElement("td",null,e.id),Pi.createElement("td",null,e.src))}),Pi.createElement("tr",null,Pi.createElement("td",{colSpan:"2"},"index"),Pi.createElement("td",null,c.index)),Pi.createElement("tr",null,Pi.createElement("td",{colSpan:"2"},"history_index"),Pi.createElement("td",null,c.history_index)))),Pi.createElement("td",null,""),Pi.createElement("td",null,f&&Pi.createElement("table",{className:"generic-table"},Pi.createElement("tr",null,Pi.createElement("th",{colSpan:"2"},"views")),Pi.createElement("tr",null,Pi.createElement("th",null,"view"),Pi.createElement("th",null,"id")),Object.keys(l).map(function(e){return Pi.createElement("tr",{key:e},Pi.createElement("td",null,e),Pi.createElement("td",null,l[e]))}))),Pi.createElement("td",null,""),Pi.createElement("td",null,h&&Pi.createElement("table",{className:"generic-table"},Pi.createElement("tr",null,Pi.createElement("th",{colSpan:"2"},"booleans")),Pi.createElement("tr",null,Pi.createElement("th",null,"key"),Pi.createElement("th",null,"value")),Object.keys(r).map(function(e){return Pi.createElement("tr",{key:e},Pi.createElement("td",null,e),Pi.createElement("td",null,r[e]?"true":"false"))}))))),Pi.createElement(ew,{h:5}))},t}(e.Component),cw=Af(Eg,_g)(sw),lw={width:"100%"},uw={borderBottom:m_},pw={textAlign:"right",padding:10},dw=Object.assign({},pw,{color:d_}),fw={fontSize:10,color:d_,padding:"12px 0 0 10px"},hw=Object.assign({},fw,{color:l_}),mw=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.currentId,r=e.getHtml;return Pi.createElement("div",null,Pi.createElement("table",{style:lw},JE.map(function(e){var n=e.id,o=e.name,a=e.type,i=t===n?hw:fw;return Pi.createElement("tr",{style:uw,key:n,className:"search-help-menu"},t===n?Pi.createElement("td",{style:dw},o):Pi.createElement("td",{style:pw},Pi.createElement("a",{className:"no-underline",onClick:function(){return r(n,a)}},o)),Pi.createElement("td",{style:i},B_))})))},t}(e.Component),yw={marginTop:15,fontSize:"12px"},vw={padding:"2px 2px 2px 20px",borderBottom:"1px solid #ddd"},gw={padding:2,borderBottom:"1px solid #ccc",fontWeight:"bold",backgroundColor:u_},bw=Object.assign({},E_,{width:"80%"}),Ew=Object.assign({},E_,{textAlign:"right",width:"20%"}),_w={paddingLeft:15},ww={textAlign:"right",marginBottom:5},Sw=function(e){function t(t){var r=this;e.call(this,t),["setDetails","setAll"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={items:Cr(selectorItems),all:!1}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setDetails=function(e){for(var t=this,r=Cr(this.state.items),n=0;n<r.length;n++){if(e.attribute===r[n].attribute){r[n].open=!e.open,console.log("item FOUND="+e.attribute);break}t.setState({items:r})}},t.prototype.setAll=function(){var e=!this.state.all;this.setState({all:e})},t.prototype.render=function(){var e=this;console.log("components/help/SearchAttributes: render");var t=this.props,r=(t.help,t.views),n=(r.help,this.state),o=n.items,a=n.all,i=o.map(function(t){var r;if(t.open||a){var n=metadata[t.attribute];if(n){var o=n.attribute,i=n.description,s=n.type,c=n.min,l=n.max,u=n.enumeration,p=n.examples,d=n.is_iterable,f=0===c?""+c:c;r=Pi.createElement("table",{className:"help-attribute-details"},Pi.createElement("tr",null,Pi.createElement("td",null,"Attribute"),Pi.createElement("td",null,o)),Pi.createElement("tr",null,Pi.createElement("td",null,"Description"),Pi.createElement("td",null,i)),Pi.createElement("tr",null,Pi.createElement("td",null,"Data Type"),Pi.createElement("td",null,s)),f&&Pi.createElement("tr",null,Pi.createElement("td",null,"Minimum Value"),Pi.createElement("td",null,f)),l&&Pi.createElement("tr",null,Pi.createElement("td",null,"Maximum Value"),Pi.createElement("td",null,l)),u&&Pi.createElement("tr",null,Pi.createElement("td",null,"Enumeration"),Pi.createElement("td",null,u.join(", "))),!u&&p&&Pi.createElement("tr",null,Pi.createElement("td",null,"Examples"),Pi.createElement("td",null,p.join(", "))),d&&Pi.createElement("tr",null,Pi.createElement("td",null,"Iterable"),Pi.createElement("td",null,"yes")))}}return"header"===t.type?Pi.createElement("div",{style:gw},t.name):Pi.createElement("div",{style:vw},Pi.createElement("div",null,Pi.createElement("div",{style:bw},t.name),Pi.createElement("div",{style:Ew},Pi.createElement("div",{style:j_,className:"qb-btn",onClick:function(){return e.setDetails(t)}},"Details"))),Pi.createElement("div",{style:_w},r))});return Pi.createElement("div",{style:yw},Pi.createElement("div",{style:ww},Pi.createElement("div",{style:S_,className:"qb-btn",onClick:this.setAll},"Show all details")),i)},t}(e.Component),Cw=Af(Eg,_g)(Sw),Ow="components/Help",kw={borderLeft:y_},Tw={marginTop:15},xw=function(e){function t(t){var r=this;e.call(this,t),["getHtml","getHtmlCallback"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props,t=e.views,r=t.help?t.help:JE[0].id;this.getHtml(r)},t.prototype.getHtml=function(e){console.log(Ow+": getHtml: id="+e);var t=this.props,r=t.dispatchAction,n=t.help;((0,t.pushState)({path:"/search/help/"+e,src:Ow+": getHtml",view:"help",id:e}),r(ab,{help:e}),n[e])||Pr(Og+"/"+e,this.getHtmlCallback)},t.prototype.getHtmlCallback=function(e,t){var r=this.props,n=r.dispatchAction,o=r.views,a=o.help;console.log(Ow+": getHtmlCallback: id="+a),n(Wg,{id:a,html:e})},t.prototype.render=function(){var e=this.props,t=e.help,r=e.views,n=r.help;return console.log(Ow+": render: id="+n),Pi.createElement("div",{className:"row",id:"search-help-content"},Pi.createElement("div",{className:"col-md-3 col-xs-12"},Pi.createElement(mw,{currentId:n,getHtml:this.getHtml})),Pi.createElement("div",{className:"col-md-9 col-xs-12",style:kw},Pi.createElement("div",{className:"help-page",style:Tw},Pi.createElement("h3",null,e_[n]),Pi.createElement("br",null),n&&t[n]&&Pi.createElement("div",null,Pi.createElement("div",{style:Tw,dangerouslySetInnerHTML:{__html:t[n]}}),"attribute-search"===n&&Pi.createElement(Cw,null)))))},t}(e.Component),jw=Af(Eg,_g)(xw),Aw=-2e3,Iw=20,qw="5px solid "+f_,Rw="5px solid rgba(0, 0, 0, 0)",Nw={fontSize:14,fontWeight:"normal",color:f_,position:"relative",display:"inline-block",lineHeight:"14px",whiteSpace:"normal"},Pw=function(e){function t(t){var r=this;e.call(this,t),["mouseOut","mouseOver","init"].forEach(function(e){return r[e]=r[e].bind(r)});var n=t.marginTop,o=t.marginLeft,a=t.marginRight,i=t.pos;this.el,this.left,this.wrapper={position:"absolute",width:240,left:Aw,zIndex:1e6},this.contentDiv={backgroundColor:f_,color:"#fff",borderRadius:4,padding:"4px 8px",fontSize:12,zIndex:1e6},this.arrowDiv={textAlign:"center",height:10,zIndex:1e6},this.arrow={borderTop:qw,borderRight:Rw,borderBottom:Rw,borderLeft:Rw,display:"inline-block",verticalAlign:"top"},this.initialized=!1,"above-right"===i?(this.arrowDiv.textAlign="left",this.arrowDiv.paddingLeft=Iw):"right-below"===i&&(Object.assign(this.wrapper,{width:250}),Object.assign(this.contentDiv,{width:240,display:"inline-block"}),Object.assign(this.arrowDiv,{width:10,display:"inline-block",verticalAlign:"top",paddingTop:Iw}),Object.assign(this.arrow,{borderTop:Rw,borderRight:qw})),this.iconStyle={marginTop:n,marginLeft:o,marginRight:a}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.initialized||setTimeout(this.init,500)},t.prototype.mouseOut=function(){this.el&&(this.el.style.left=Aw+"px")},t.prototype.mouseOver=function(){this.el&&(this.el.style.left=this.left)},t.prototype.init=function(){var e=this.props,t=e.name,r=e.pos;this.el=document.getElementById(t+"Tooltip");var n=document.getElementById(t+"Icon");this.el&&n&&("above-right"===r?(this.left="-"+(Iw-1)+"px",this.el.style.top="-"+this.el.offsetHeight+"px"):"right-below"===r?(this.left=n.offsetWidth+"px",this.el.style.top="-"+(Iw-n.offsetHeight/2+1)+"px"):(this.left=(n.offsetWidth-this.el.offsetWidth)/2+"px",this.el.style.top="-"+this.el.offsetHeight+"px"),this.initialized=!0)},t.prototype.render=function(){var e=this.props,t=e.name,r=e.pos,n=t.indexOf("_"),o=-1===n?t:t.substring(0,n),a=zE[o];return Pi.createElement("div",{style:Nw},Pi.createElement("span",{style:this.iconStyle,id:t+"Icon",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,className:"fa fa-question-circle"}),"right-below"===r?Pi.createElement("div",{style:this.wrapper,id:t+"Tooltip"},Pi.createElement("div",{style:this.arrowDiv},Pi.createElement("div",{style:this.arrow})),Pi.createElement("div",{style:this.contentDiv,dangerouslySetInnerHTML:{__html:a}})):Pi.createElement("div",{style:this.wrapper,id:t+"Tooltip"},Pi.createElement("div",{style:this.contentDiv,dangerouslySetInnerHTML:{__html:a}}),Pi.createElement("div",{style:this.arrowDiv},Pi.createElement("div",{style:this.arrow}))))},t}(e.Component),Dw="/mypdb/save",Mw="components/History",Bw={width:"100%"},Lw={whiteSpace:"nowrap",paddingRight:10},Uw=Object.assign({},j_),Hw=Object.assign({},Uw,{border:"1px solidrgba(0, 0, 0, 0.60)"}),Fw=function(e){function t(t){var r=this;e.call(this,t),["deleteAllHistory","saveToMypdb"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.deleteAllHistory=function(){confirm('Click "OK" to delete all queries in Search History. This action cannot be undone.')&&this.props.dispatchAction(qb)},t.prototype.saveToMypdb=function(e){mi(e)},t.prototype.render=function(){var e=this,t=this.props,r=t.booleans,n=t.history,o=t.dispatchAction,a=t.requestSearch,i=n.map,s=n.ids,c=r.hasMypdb,l=D_;return Pi.createElement("div",null,Pi.createElement("table",{style:Bw},Pi.createElement("tr",null,Pi.createElement("td",{style:Lw},Pi.createElement("h4",null,"Search History")),Pi.createElement("td",null,Pi.createElement(Pw,{name:"history"})),Pi.createElement("td",{style:{width:"100%"}}),s.length>0&&!c&&Pi.createElement("td",null,Pi.createElement("div",{style:S_,onClick:function(){return o(ab,{tab:jg})}},"MyPDB Login")))),Pi.createElement(ew,{h:20}),s.length>0?Pi.createElement("div",null,Pi.createElement("table",{style:l.tbl},Pi.createElement("tr",null,Pi.createElement("th",null),Pi.createElement("th",{style:l.th},"Query"),Pi.createElement("th",{style:l.thNowrap},"Result Type"),Pi.createElement("th",{style:l.th},"Count"),Pi.createElement("th",{style:l.th},"Last run"),c&&Pi.createElement("th",{style:l.th},"Save to MyPDB"),Pi.createElement("th",{style:l.thDeleteAll},Pi.createElement("div",{style:S_,className:"stBtn",onClick:this.deleteAllHistory},"Delete All"))),s.map(function(t,r){var s,u,p=i[t],d=p.count,f=p.last_run,h=p.html,m=p.request,y=(p.took,r_[m.return_type].name);n.id===t?(s=l.trSelected,u=Hw):(s=r%2==0?l.trEven:l.trOdd,u=Uw);var v=xr(f);return Pi.createElement("tr",{style:s,key:t},Pi.createElement("td",{style:l.td,onClick:function(){return a(m,Mw)}},Pi.createElement("div",{style:x_},G_)),Pi.createElement("td",{style:l.tdRequest,onClick:function(){return a(m,Mw)},dangerouslySetInnerHTML:{__html:h}}),Pi.createElement("td",{style:l.tdNowrap,onClick:function(){return a(m,Mw)}},y),Pi.createElement("td",{style:l.tdRight},d),Pi.createElement("td",{style:l.tdDateTime},v),c&&Pi.createElement("td",{style:l.tdCenter},Pi.createElement("div",{style:u,className:"stBtn",onClick:function(){return e.saveToMypdb(p)}},X_)),Pi.createElement("td",{style:l.tdCenter},Pi.createElement("div",{style:u,className:"stBtn",onClick:function(){return o(Ib,{id:t})}},$_)))}))):Pi.createElement("p",null,Pi.createElement("i",null,FE.noSearchHistory)))},t}(e.Component),Vw=Af(Eg,_g)(Fw),Gw=r(function(e,t){!function(t){if(e.exports=t(),!!0){var r=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=r,n}}}(function(){function e(){for(var e=arguments,t=0,r={};t<arguments.length;t++){var n=e[t];for(var o in n)r[o]=n[o]}return r}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(n){function o(){}function a(t,r,a){if("undefined"!=typeof document){
a=e({path:"/"},o.defaults,a),"number"==typeof a.expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(r);/^[\{\[]/.test(i)&&(r=i)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+r+s}}function i(e,r){if("undefined"!=typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(n.read||n)(c,l)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,r){a(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}return r(function(){})})}),Ww="components/mypdb/Account",Qw={marginBottom:30},zw={verticalAlign:"middle"},Yw={fontWeight:"bold",padding:"5px 10px",borderBottom:v_},Jw={padding:"5px 10px",borderBottom:v_},Xw={padding:"1px 10px"},Kw={border:"none",width:250,padding:"0 5px",backgroundColor:l_,lineHeight:"28px"},Zw=function(e){function t(t){var r=this;e.call(this,t),["editEmail","saveEmail","saveEmailCallback","setEmail"].forEach(function(e){return r[e]=r[e].bind(r)});var n=this.props.data,o=n.email,a=n.notification;zr(Ww,{email:o,notification:a},"props in constructor"),a||(a="monthly"),this.state={editEmail:!1,email:o,notification:a}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.editEmail=function(){this.setState({editEmail:!0})},t.prototype.saveEmail=function(){var e=Cr(HE),t=this.state.email;e.body=JSON.stringify({email:t}),Tr("/mypdb/update-email",e,this.saveEmailCallback)},t.prototype.saveEmailCallback=function(e,t){t?console.log(t):console.log(e),this.setState({editEmail:!1})},t.prototype.setEmail=function(e){var t=e.target.value;this.setState({email:t})},t.prototype.render=function(){var e=this.props,t=e.data,r=e.deleteAccount,n=e.deleteAll,o=t.id,a=t.queries,i=t.provider,s=t.name,c=t.created,l=t.updated,u=a?a.length:0,p=1===u?"query":"queries",d=this.state,f=d.editEmail,h=d.email;d.notification;return zr(Ww,this.state,"state in render"),Pi.createElement("div",null,Pi.createElement("table",{style:Qw},Pi.createElement("tr",null,Pi.createElement("td",{style:Yw},"Name"),Pi.createElement("td",{style:Jw},s)),Pi.createElement("tr",{style:zw},Pi.createElement("td",{style:Yw},"Notification Email"),f?Pi.createElement("td",{style:Jw},Pi.createElement("input",{type:"text",style:Kw,value:h,onChange:this.setEmail})):Pi.createElement("td",{style:Jw},h),f?Pi.createElement("td",{style:Xw},Pi.createElement("div",{style:S_,className:"qb-btn",onClick:this.saveEmail},Z_,"Save")):Pi.createElement("td",{style:Xw},Pi.createElement("div",{style:S_,className:"qb-btn",onClick:this.editEmail},K_,"Edit"))),Pi.createElement("tr",null,Pi.createElement("td",{style:Yw},"Provider"),Pi.createElement("td",{style:Jw},e_[i].name)),Pi.createElement("tr",null,Pi.createElement("td",{style:Yw},"Provider ID"),Pi.createElement("td",{style:Jw},o)),Pi.createElement("tr",null,Pi.createElement("td",{style:Yw},"Account Created"),Pi.createElement("td",{style:Jw},xr(c))),Pi.createElement("tr",null,Pi.createElement("td",{style:Yw},"Last Update"),Pi.createElement("td",{style:Jw},xr(l)))),u>0?Pi.createElement("p",null,"You have ",u," saved ",p,"."):Pi.createElement("p",null,FE.noMyPdbQueries),Pi.createElement("div",null,Pi.createElement("div",{style:S_},"Download Account Data"),Pi.createElement(ew,{w:2}),u>0&&Pi.createElement("div",{style:S_,onClick:n},"Delete All Queries"),u>0&&Pi.createElement(ew,{w:2}),Pi.createElement("div",{style:S_,onClick:r},"Delete Account")))},t}(e.Component),$w=Af(Eg,_g)(Zw),eS=function(e){function t(t){var r=this;e.call(this,t),["getHtml","setHtml"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.getHtml("mypdb-documentation")},t.prototype.getHtml=function(e){Pr(Og+"/"+e,this.setHtml)},t.prototype.setHtml=function(e,t){this.setState({html:e})},t.prototype.render=function(){var e=this.state.html;return e?Pi.createElement("div",{dangerouslySetInnerHTML:{__html:e}}):null},t}(e.Component),tS=Af(Eg,_g)(eS),rS={width:"100%",marginBottom:10},nS={textAlign:"right"},oS={textAlign:"right",fontStyle:"italic",fontSize:12,paddingTop:10},aS={display:"inline-block",width:30,color:"#ccc",textAlign:"center"},iS=Pi.createElement("div",{style:aS},"|"),sS=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e,t,r=this.props,n=r.booleans,o=r.data,a=r.logout,i=r.setMypdbView,s=r.views,c=n.hasMypdb,l=s.mypdb,u=XE[l];return c&&o&&(e=e_[o.provider].name,t=o.name),Pi.createElement("table",{style:rS},Pi.createElement("tr",null,Pi.createElement("td",null,Pi.createElement("h4",null,u)),Pi.createElement("td",{style:nS},Pi.createElement("a",{onClick:function(){return i("documentation")}},"Documentation"),iS,c&&o&&Pi.createElement("span",null,Pi.createElement("a",{onClick:function(){return i("queries")}},"Saved Queries"),iS,Pi.createElement("a",{onClick:function(){return i("account")}},"Account Settings"),iS,Pi.createElement("a",{onClick:a},"Sign out")),!c&&Pi.createElement("span",null,Pi.createElement("a",{onClick:function(){return i("login")}},"Sign In")))),c&&o&&Pi.createElement("tr",null,Pi.createElement("td",null),Pi.createElement("td",{style:oS},"Signed in via ",e," as ",t)))},t}(e.Component),cS=Af(Eg,_g)(sS),lS={textAlign:"center",lineHeight:"36px"},uS={padding:10,textAlign:"center"},pS={border:"1px solid rgba(0, 0, 0, 0.10)",padding:10,borderRadius:4,width:225,display:"inline-block",textAlign:"left"},dS={width:36,height:36,lineHeight:"36px",display:"inline-block",textAlign:"center",marginRight:10},fS=function(e){function t(t){var r=this;e.call(this,t),["getHtml","setHtml"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.getHtml()},t.prototype.getHtml=function(){Pr(Og+"/mypdb-notice",this.setHtml)},t.prototype.setHtml=function(e,t){this.setState({html:e})},t.prototype.render=function(){var e=this.state.html;return Pi.createElement("div",null,Pi.createElement("div",{style:lS},"Sign in to MyPDB to save searches, run previously saved searches, or change your account settings."),e&&Pi.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),KE.map(function(e){return Pi.createElement("div",{style:uS,key:e.id},Pi.createElement("div",{style:pS,href:"/auth/"+e.id},Pi.createElement("div",{style:dS},Pi.createElement("a",{href:"/auth/"+e.id},Pi.createElement("img",{src:"//cdn.rcsb.org/rcsb-pdb/logos/"+e.id+".png"}))),Pi.createElement("a",{href:"/auth/"+e.id},"Sign in with ",e.name)))}))},t}(e.Component),hS=Af(Eg,_g)(fS),mS=function(e){function t(t){var r=this;e.call(this,t),["saveNotify","saveNotifyCallback"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.saveNotify=function(e,t){var r=e.target.checked,n=Cr(HE);n.body=JSON.stringify({notify:r,queryId:t}),Tr("/mypdb/update-notify",n,this.saveNotifyCallback)},t.prototype.saveNotifyCallback=function(e,t){if(t)console.log(t);else{for(var r=e.queryId,n=e.notify,o=this.props,a=o.data,i=0,s=a.queries.length;i<s;i++){var c=a.queries[i];if(c.id===r){c.notify=n;break}}this.setState({data:a})}},t.prototype.render=function(){var e=this,t=this.props,r=t.data,n=t.deleteAll,o=t.deleteQuery,a=t.requestSearch;if(r){var i=D_;return Pi.createElement("div",null,r.queries&&r.queries.length>0?Pi.createElement("table",{style:i.tbl},Pi.createElement("tr",null,Pi.createElement("th",null),Pi.createElement("th",{style:i.thLine},"Query"),Pi.createElement("th",{style:i.thLineNowrap},"Result Type"),Pi.createElement("th",{style:i.thLine},"Count"),Pi.createElement("th",{style:i.thLine},"Saved"),Pi.createElement("th",{style:i.thLine},"Notify"),Pi.createElement("th",{style:i.thLineDeleteAll},Pi.createElement("div",{style:S_,onClick:n},"Delete All"))),r.queries.map(function(t,r){var n=t.id,s=t.count,c=t.html,l=t.notify,u=t.request,p=t.saved,d=r%2==0?i.trEven:i.trOdd;if(r_[u.return_type])return Pi.createElement("tr",{style:d,key:n},Pi.createElement("td",{style:i.td,onClick:function(){return a(u,"mypdb")}},Pi.createElement("div",{style:x_},G_)),Pi.createElement("td",{style:i.tdRequest,onClick:function(){return a(u,"mypdb")},dangerouslySetInnerHTML:{__html:c}}),Pi.createElement("td",{style:i.tdNowrap,onClick:function(){return a(u,"mypdb")}},r_[u.return_type].name),Pi.createElement("td",{style:i.tdRight},s),Pi.createElement("td",{style:i.tdDateTime},xr(p)),Pi.createElement("td",{style:i.tdCenter},Pi.createElement("input",{type:"checkbox",checked:l,onClick:function(t){return e.saveNotify(t,n)}})),Pi.createElement("td",{style:i.tdCenter},Pi.createElement("div",{style:j_,onClick:function(){return o(t.id)}},$_)))})):Pi.createElement("div",{style:q_},FE.noMyPdbQueries))}return null},t}(e.Component),yS=Af(Eg,_g)(mS),vS="components/mypdb/MyPdb",gS=function(e){function t(t){var r=this;e.call(this,t),["deleteAccount","deleteAll","deleteQuery","loadData","logout","setData","setLoading","setMypdbView"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){console.log(vS,"componentDidMount: view============================"+this.props.views.mypdb),this.props.booleans.hasMypdb&&this.loadData()},t.prototype.deleteAccount=function(){confirm('Click "OK" to delete your account. Any saved queries will also be deleted. This action cannot be undone. \n\nYou will be able to create a new account from the "Sign In" screen at any time.')&&(this.setLoading(!0),Tr("/mypdb/delete-account",HE,this.logout))},t.prototype.deleteAll=function(){confirm('Click "OK" to delete all saved queries. This action cannot be undone.')&&(this.setLoading(!0),Tr("/mypdb/delete-all",HE,this.setData))},t.prototype.deleteQuery=function(e){this.setLoading(!0);var t=Cr(HE);t.body=JSON.stringify({id:e}),Tr("/mypdb/delete",t,this.setData)},t.prototype.loadData=function(){this.setLoading(!0),Tr("/mypdb/data",HE,this.setData)},t.prototype.logout=function(){Gw.remove(OE),this.props.dispatchAction(Hg,{hasMypdb:!1}),this.props.dispatchAction(ab,{mypdb:"login"})},t.prototype.setData=function(e,t){console.log(vS+": setData(): typeof data="+typeof e+": err="+t);var r=this.props,n=r.dispatchAction;r.views;"login"===this.props.views.mypdb&&n(ab,{mypdb:"queries"}),this.setState({data:e,err:t}),this.setLoading(!1)},t.prototype.setLoading=function(e){this.props.dispatchAction(Hg,{dataLoading:e})},t.prototype.setMypdbView=function(e){console.log(vS,"setMypdbView: view="+e),this.props.dispatchAction(ab,{mypdb:e})},t.prototype.render=function(){var e=this.props,t=e.views,r=t.mypdb,n=this.state,o=n.data,a=n.err;return Pi.createElement("div",null,Pi.createElement(cS,{data:o,logout:this.logout,setMypdbView:this.setMypdbView}),a&&Pi.createElement("div",null,"err"),"documentation"===r&&Pi.createElement(tS,{data:o,logout:this.logout,setMypdbView:this.setMypdbView}),"login"===r&&Pi.createElement(hS,{setMypdbView:this.setMypdbView}),"queries"===r&&Pi.createElement(yS,{data:o,deleteAll:this.deleteAll,deleteQuery:this.deleteQuery,logout:this.logout,setMypdbView:this.setMypdbView}),"account"===r&&Pi.createElement($w,{data:o,deleteAll:this.deleteAll,deleteAccount:this.deleteAccount,logout:this.logout,setMypdbView:this.setMypdbView}))},t}(e.Component),bS=Af(Eg,_g)(gS),ES=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.clear,r=e.count,n=e.handleCount;return Pi.createElement("div",{style:E_},void 0===r||-1===r?Pi.createElement("div",{style:C_,className:"qb-btn",onClick:n},"Count"):Pi.createElement("div",{style:C_,className:"qb-btn"},r),Pi.createElement("div",{style:S_,className:"qb-btn",onClick:t},"Clear"))},t}(e.Component),_S=Object.assign({},R_.serviceTab,{borderBottom:"1px solid rgba(0, 0, 0, 0.15)"}),wS=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.open,r=e.service,n=e.serviceToggle,o=t?Q_:z_,a=t?R_.serviceTab:_S;return Pi.createElement("div",{style:a},Pi.createElement("div",{style:R_.toggle,onClick:n},o),Pi.createElement("div",{style:R_.serviceLabel},tE[r]),Pi.createElement(Pw,{name:r+"Search",pos:"above-right"}))},t}(e.Component),SS="components/query-builder/Chemical",CS="chemical",OS=Object.assign({},E_,{marginRight:10}),kS=Object.assign({},__,{width:"75%"}),TS=Object.assign({},w_,{width:"25%"}),xS={display:"inline-block",marginRight:8,marginTop:4},jS=function(e){function t(t){var r=this;e.call(this,t),["clear","handleCount","handleSetProp","serviceToggle"].forEach(function(e){return r[e]=r[e].bind(r)}),this.id=CS}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clear=function(){this.props.dispatchAction(sb,jr(CS))},t.prototype.handleCount=function(){this.props.serviceCountSearch(CS)},t.prototype.handleSetProp=function(e){var t=e.target,r=t.id,n=t.value,o=t.checked;console.log(SS,"handleSetProp",r,n,o);var a={count:-1};n=n.trim(),a[r]="match_subset"===r?!o:n,this.props.dispatchAction(sb,a)},t.prototype.serviceToggle=function(){this.props.dispatchAction(db,{service:CS})},t.prototype.render=function(){var e=this.props.queryBuilder.services.chemical,t=e.count,r=e.showAnd,n=e.open,o=e.value,a=e.type,i=e.match_subset,s=e.descriptor_type,c=e.match_type,l=r?"AND":null;console.log(SS,"render: match_subset=",i,typeof i);var u,p=Pi.createElement("div",{style:R_.serviceOperator},l);"formula"===a?u=YE.chemicalFormula:"descriptor"===a&&(u="SMILES"===s?YE.chemicalSMILES:YE.chemicalInChI);var d=Pi.createElement("textarea",{id:"value",style:R_.textareaStyle,value:o,onChange:this.handleSetProp,placeholder:u,autoComplete:"off"}),f=Pi.createElement("div",{style:OS},Pi.createElement("div",{style:R_.label},e_.query_type),Pi.createElement(Pw,{name:CS+"Type",pos:"above-right",marginRight:5}),Pi.createElement(rw,{id:"type",options:uE,value:a,onChange:this.handleSetProp,border:g_})),h=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:xS},Pi.createElement("input",{type:"checkbox",id:"match_subset",onClick:this.handleSetProp,checked:i})),Pi.createElement("div",{style:R_.label},e_.match_subset),Pi.createElement(Pw,{name:CS+"MatchSubset",pos:"above-right",marginRight:5})),m=Pi.createElement("div",{style:OS},Pi.createElement("div",{style:R_.label},e_.descriptor_type),Pi.createElement(Pw,{name:CS+"DescriptorType",pos:"above-right",marginRight:5}),Pi.createElement(rw,{id:"descriptor_type",options:pE,value:s,onChange:this.handleSetProp,border:g_})),y=Pi.createElement("div",{style:OS},Pi.createElement("div",{style:R_.label},e_.match_type),Pi.createElement(Pw,{name:CS+"MatchType",pos:"above-right",marginRight:5}),Pi.createElement(rw,{id:"match_type",options:dE,value:c,onChange:this.handleSetProp,border:g_}));return Pi.createElement("div",{style:R_.service},Pi.createElement(wS,{open:n,service:CS,serviceToggle:this.serviceToggle}),n&&Pi.createElement("table",{style:R_.serviceTable},Pi.createElement("tr",null,Pi.createElement("td",null,p),Pi.createElement("td",{style:R_.serviceTableBody},Pi.createElement("div",{style:R_.serviceBody},d,Pi.createElement("div",{style:kS},f,"formula"===a&&h,"descriptor"===a&&Pi.createElement("span",null,m,y)),Pi.createElement("div",{style:TS},Pi.createElement(ES,{clear:this.clear,count:t,handleCount:this.handleCount})))))))},t}(e.Component),AS=Af(Eg,_g)(jS),IS=Object.assign({},E_,{marginRight:10}),qS=function(e){function t(t){var r=this;e.call(this,t),["handleClick","setReturnType"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleClick=function(e){var t=this.props,r=t.countSearch,n=t.dispatchAction,o=t.queryBuilderSearch;"clear"===e?n(cb):"count"===e?r():"search"===e&&o()},t.prototype.setReturnType=function(e){var t=e.target.value,r=this.props,n=r.dispatchAction;n(lb),n(eb,{returnType:t})},t.prototype.render=function(){var e=this,t=this.props,r=t.control,n=(t.cw,t.queryBuilder),o=t.returnType,a=n.count,i="QUERY_BUILDER"===r?x_:T_;1===a?r_[o].name:r_[o].value;return Pi.createElement("div",{style:R_.footerStyle},Pi.createElement("div",{style:R_.label},"Display Results as"),Pi.createElement(Pw,{name:"displayResultsAs",pos:"above-right",marginTop:7,marginLeft:5,marginRight:10}),Pi.createElement("div",{style:IS},Pi.createElement(rw,{options:gE,onChange:this.setReturnType,value:o,border:g_,height:28})),void 0===a||-1===a?Pi.createElement("div",{style:C_,className:"qb-btn",onClick:function(){return e.handleClick("count")}},"Count"):Pi.createElement("div",{style:C_,className:"qb-btn"},a),Pi.createElement("div",{style:S_,className:"qb-btn",onClick:function(){return e.handleClick("clear")}},"Clear"),Pi.createElement(ew,{w:4}),Pi.createElement("div",{style:i,onClick:function(){return e.handleClick("search")}},Pi.createElement("span",{className:"glyphicon glyphicon-search"})))},t}(e.Component),RS=Af(Eg,_g)(qS),NS=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.menuIndex,r=e.menuItems,n=e.menuStyle,o=e.handleMenuSelect;return Pi.createElement("div",{className:"input-menu",style:n},r&&r.map(function(e,r){var n=r===t?"selected":null;return Pi.createElement("div",{className:n,id:"menu"+r,key:"i"+r,onClick:function(){return o(e)},dangerouslySetInnerHTML:{__html:e}})}))},t}(e.Component),PS=10,DS=Object.assign({},R_.inputTextStyle,{width:60}),MS=Object.assign({},__,{width:"75%"}),BS=Object.assign({},w_,{width:"25%"}),LS={overflowX:"hidden",maxWidth:500},US=function(e){function t(t){var r=this;e.call(this,t),["clear","handleChange","handleCount","handleMenuSelect","handleEntryIdClick","retrieveSequences","retrieveSequencesCallback","serviceToggle"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state=jr("menu-state"),this.guid=Nr(),this.name="sequence"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clear=function(){this.props.dispatchAction(ub,jr("sequence")),Ei({menuOpen:!1},this)},t.prototype.handleChange=function(e){var t=e.target,r=t.id,n=t.value;if(n=n.trim(),"sequence"===r)n=n.toUpperCase().replace(/\n| /g,""),this.props.dispatchAction(ub,{count:-1,value:n});else if("sequence_entry_id"===r){var o=n.toUpperCase();this.props.dispatchAction(ub,{count:-1,entry_id:o}),4===o.length&&this.retrieveSequences(o)}else if("target"===r){var a=n;this.props.dispatchAction(ub,{count:-1,target:a})}else"evalue_cutoff"===r?(n=n.toLowerCase(),rn(n)&&this.props.dispatchAction(ub,{count:-1,evalue_cutoff:n})):"identity_cutoff"===r&&tn(n)&&this.props.dispatchAction(ub,{count:-1,identity_cutoff:n})},t.prototype.handleCount=function(){this.props.serviceCountSearch("sequence")},t.prototype.handleMenuSelect=function(e){if(console.log(e),e=e.substring(e.indexOf(":")+2),cn(e)){var t=ln(e);t&&this.props.dispatchAction(ub,{count:-1,target:t,value:e})}Ei({menuOpen:!1},this)},t.prototype.handleEntryIdClick=function(e){var t=e.target,r=t.value,n=r.trim();this.props.dispatchAction(ub,{count:-1,entry_id:n}),4===n.length&&(this.state.menuItems?Ei({menuOpen:!0},this):this.retrieveSequences(n))},t.prototype.retrieveSequences=function(e){console.log("components/query-builder/Sequence","retrieveSequences: entry_id="+e),4===e.length?Tr("/search/sequence/"+e,LE,this.retrieveSequencesCallback):alert("Please enter a valid PDB ID")},t.prototype.retrieveSequencesCallback=function(e){if(e&&e.length>0)Ei({menuItems:e,menuIndex:0,menuOpen:!0},this);else{var t=Ir("sequence-entry-id").value;console.log("No Chain IDs or sequences were returned for PDB ID "+t),this.setState({msg:"No Chain IDs or Sequences were returned for PDB ID "+t})}},t.prototype.serviceToggle=function(){this.props.dispatchAction(db,{service:"sequence"})},t.prototype.render=function(){var e=this.props.queryBuilder.services.sequence,t=e.count,r=e.entry_id,n=e.evalue_cutoff,o=e.showAnd,a=e.identity_cutoff,i=e.open,s=e.target,c=e.value,l=this.state,u=l.menuItems,p=l.menuIndex,d=l.menuOpen,f=o?"AND":null;r||(r=""),c||(c="");var h=Pi.createElement("div",{style:R_.serviceOperator},f),m=Pi.createElement("textarea",{id:"sequence",style:R_.textareaStyle,value:c,onChange:this.handleChange,placeholder:YE.sequenceSearch,autoComplete:"off"}),y=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:R_.label},e_.entry_id),Pi.createElement("div",{id:"menu-container-"+this.guid,style:E_,className:"input-menu-container"},Pi.createElement("input",{style:DS,type:"text",id:"sequence_entry_id",value:r,onChange:this.handleChange,onClick:this.handleEntryIdClick,placeholder:YE.searchEntryId,autoComplete:"off"}),d&&Pi.createElement(NS,{menuItems:u,menuIndex:p,handleMenuSelect:this.handleMenuSelect,menuStyle:LS})),Pi.createElement(ew,{w:10})),v=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:R_.label},"Target"),Pi.createElement(rw,{id:"target",options:rE,onChange:this.handleChange,value:s,border:g_,height:28}),Pi.createElement(Pw,{name:"sequenceTarget",marginTop:6,marginLeft:5,marginRight:10})),g=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:R_.label},e_.evalue_cutoff),Pi.createElement("input",{style:DS,type:"text",id:"evalue_cutoff",value:n,onChange:this.handleChange,autoComplete:"off"}),Pi.createElement(Pw,{name:"sequenceEvalue",marginTop:6,marginLeft:5,marginRight:10})),b=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:R_.label},e_.identity_cutoff),Pi.createElement("input",{style:DS,type:"text",id:"identity_cutoff",value:a,onChange:this.handleChange,autoComplete:"off"}),Pi.createElement("div",{style:R_.label},Pi.createElement("i",null,"% (Integer only)")),Pi.createElement(Pw,{name:"sequenceIdentity",marginTop:6}));return Pi.createElement("div",{style:R_.service},Pi.createElement(wS,{open:i,service:"sequence",serviceToggle:this.serviceToggle}),i&&Pi.createElement("table",{style:R_.serviceTable},Pi.createElement("tr",null,Pi.createElement("td",null,h),Pi.createElement("td",{style:R_.serviceTableBody},Pi.createElement("div",{style:R_.serviceBody},Pi.createElement("div",null,m),Pi.createElement("div",{style:MS},y,v,g,b),Pi.createElement("div",{style:BS},Pi.createElement(ES,{clear:this.clear,count:t,handleCount:this.handleCount})))))))},t}(e.Component),HS=Af(Eg,_g)(US),FS=Object.assign({},R_.inputTextStyle,{width:"100%",marginBottom:4}),VS=Object.assign({},__,{width:"75%"}),GS=Object.assign({},w_,{width:"25%"}),WS=function(e){function t(t){var r=this;e.call(this,t),["clear","handleChange","handleCount","serviceToggle"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clear=function(){this.props.dispatchAction(pb,jr("seqmotif"))},t.prototype.handleChange=function(e){var t=e.target,r=t.id,n=t.value;n=n.trim(),zr("components/query-builder/SequenceMotif",{id:r,value:n}),"sequence-motif"===r?this.props.dispatchAction(pb,{count:-1,value:n}):"pattern_type"===r?this.props.dispatchAction(pb,{count:-1,pattern_type:n}):"target"===r&&this.props.dispatchAction(pb,{count:-1,target:n})},t.prototype.handleCount=function(){this.props.serviceCountSearch("seqmotif")},t.prototype.serviceToggle=function(){this.props.dispatchAction(db,{service:"seqmotif"})},t.prototype.render=function(){var e=this.props.queryBuilder.services.seqmotif,t=e.count,r=e.pattern_type,n=e.open,o=e.showAnd,a=e.target,i=e.value,s=o?"AND":null;i||(i="");var c=Pi.createElement("input",{style:FS,type:"text",id:"sequence-motif",value:i,onChange:this.handleChange,onClick:this.handleSequenceMotifClick,placeholder:YE.sequenceMotifSearch,autoComplete:"off"}),l=Pi.createElement("div",{style:R_.serviceOperator},s),u=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:R_.label},e_.target),Pi.createElement(rw,{id:"target",options:rE,onChange:this.handleChange,value:a,border:g_,height:28}),Pi.createElement(Pw,{name:"sequenceMotifTarget",marginTop:6,marginLeft:5,marginRight:10})),p=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:R_.label},e_.pattern_type),Pi.createElement(rw,{id:"pattern_type",options:iE,onChange:this.handleChange,value:r,border:g_,height:28}),Pi.createElement(Pw,{name:"sequenceMotifMode",marginTop:6,marginLeft:5}));return Pi.createElement("div",{style:R_.service},Pi.createElement(wS,{open:n,service:"seqmotif",serviceToggle:this.serviceToggle}),n&&Pi.createElement("table",{style:R_.serviceTable},Pi.createElement("tr",null,Pi.createElement("td",null,l),Pi.createElement("td",{style:R_.serviceTableBody},Pi.createElement("div",{style:R_.serviceBody},Pi.createElement("div",null,c),Pi.createElement("div",{style:VS},u,p),Pi.createElement("div",{style:GS},Pi.createElement(ES,{clear:this.clear,count:t,handleCount:this.handleCount})))))))},t}(e.Component),QS=Af(Eg,_g)(WS),zS="components/query-builder/Structure",YS=Object.assign({},__,{width:"75%"}),JS=Object.assign({},w_,{width:"25%"}),XS=Object.assign({},R_.inputTextStyle,{width:60,marginRight:10,paddingLeft:4}),KS={display:"inline-block",marginRight:8,marginTop:4},ZS={display:"inline-block",marginRight:2},$S={display:"inline-block",marginRight:10},eC=function(e){function t(t){var r=this;e.call(this,t),["clear","handleCount","handleEntryIdChange","handleSetProperty","handleSetValue","retrieveData","retrieveDataCallback","serviceToggle","handleSetOperator"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props.queryBuilder.services.structure.entry_id;e&&this.retrieveData(e)},t.prototype.clear=function(){this.props.dispatchAction(hb,jr("structure"))},t.prototype.handleCount=function(){this.props.serviceCountSearch("structure")},t.prototype.handleEntryIdChange=function(e){var t=e.target,r=t.value,n=r.trim().toUpperCase();n.length>4&&(n=n.substring(0,4)),this.props.dispatchAction(hb,{entry_id:n,count:-1}),4===n.length?this.retrieveData(n):(this.props.dispatchAction(hb,Object.assign(jr("structure"),{entry_id:n})),this.setState({assembly_ids:null,chains:null}))},t.prototype.handleSetOperator=function(e){var t=e.target.value;this.props.dispatchAction(hb,{operator:t,count:-1})},t.prototype.handleSetProperty=function(e){var t=e.target.value;console.log(zS,"handleSetProperty",t);var r=this.state,n=r.assembly_ids,o=r.chains,a="assembly_id"===t?n[0]:o[0].asym_id;this.props.dispatchAction(hb,{property:t,value:a,count:-1})},t.prototype.handleSetValue=function(e){var t=e.target.value;console.log(zS,"handleSetValue",t),this.props.dispatchAction(hb,{value:t,count:-1})},t.prototype.retrieveData=function(e){console.log(zS,"retrieveData: entry_id="+e),Tr("/search/structure/"+e,LE,this.retrieveDataCallback)},t.prototype.retrieveDataCallback=function(e){zr(zS,e,"data");var t=e.assembly_ids,r=e.chains;this.setState({assembly_ids:t,chains:r});var n=this.props.queryBuilder.services.structure.value;if(!n){n=t[0],this.props.dispatchAction(hb,{property:"assembly_id",value:n,count:-1})}},t.prototype.serviceToggle=function(){this.props.dispatchAction(db,{service:"structure"})},t.prototype.render=function(){var e=this.props.queryBuilder.services.structure,t=e.count,r=e.entry_id,n=e.showAnd,o=e.open,a=e.operator,i=e.property,s=e.value,c=n?"AND":null,l=Pi.createElement("div",{style:R_.serviceOperator},c),u=this.state,p=u.assembly_ids,d=u.chains,f=[],h=[];p&&d&&(p.forEach(function(e){return f.push(e)}),d.forEach(function(e){return h.push({key:e.asym_id,value:e.auth_asym_id})})),r||(r=""),s||(s=""),i||(i=lE);var m=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:R_.label},e_.entry_id),Pi.createElement("input",{style:XS,type:"text",value:r,onChange:this.handleEntryIdChange,placeholder:YE.searchEntryId,autoComplete:"off"}),p&&d&&Pi.createElement("span",null,Pi.createElement("div",{style:ZS},Pi.createElement(rw,{options:cE,value:i,onChange:this.handleSetProperty,border:g_})),Pi.createElement("div",{style:$S},Pi.createElement(rw,{options:"assembly_id"===i?f:h,value:s,onChange:this.handleSetValue,border:g_})))),y=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:KS},Pi.createElement("input",{type:"radio",name:"operator",value:"strict_shape_match",onClick:this.handleSetOperator,checked:"strict_shape_match"===a})),Pi.createElement("div",{style:R_.label},e_.strict_shape_match),Pi.createElement("div",{style:KS},Pi.createElement("input",{type:"radio",name:"operator",value:"relaxed_shape_match",onClick:this.handleSetOperator,checked:"relaxed_shape_match"===a})),Pi.createElement("div",{style:R_.label},e_.relaxed_shape_match));return Pi.createElement("div",{style:R_.service},Pi.createElement(wS,{open:o,service:"structure",serviceToggle:this.serviceToggle}),o&&Pi.createElement("table",{style:R_.serviceTable},Pi.createElement("tr",null,Pi.createElement("td",null,l),Pi.createElement("td",{style:R_.serviceTableBody},Pi.createElement("div",{style:R_.serviceBody},Pi.createElement("div",{style:YS},m,y),Pi.createElement("div",{style:JS},Pi.createElement(ES,{clear:this.clear,count:t,handleCount:this.handleCount})))))))},t}(e.Component),tC=Af(Eg,_g)(eC),rC="components/query-builder/DateInput",nC={border:"none",width:275,height:"26px",paddingLeft:4},oC=function(e){function t(t){e.call(this,t),this.id=Nr()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){console.log(rC,"componentDidMount"),setDatePicker(this.id,"input")},t.prototype.componentWillUnmount=function(){console.log(rC,"componentWillUnmount",this.id),removeDatePicker(this.id)},t.prototype.render=function(){var e=this.props,t=e.rule,r=e.fo,n=t.inputs[0],o=n.guid,a=n.value,i=r.placeholder;return Pi.createElement("tr",null,Pi.createElement("td",{className:"calendar-input"},Pi.createElement("div",{id:this.id},Pi.createElement("div",{className:"input-group date"},Pi.createElement("input",{type:"text",style:nC,value:a,id:o,name:t.id,placeholder:i,autoComplete:"off",readOnly:!0}),Pi.createElement("span",{className:"input-group-addon"},Q_)))))},t}(e.Component),aC=Af(Eg,wg)(oC),iC="components/query-builder/DateRange",sC={border:"none",width:75,height:"26px",paddingLeft:4},cC=function(e){function t(t){e.call(this,t),this.id=Nr()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){console.log(iC,"componentDidMount"),setDatePicker(this.id,"range")},t.prototype.componentWillUnmount=function(){console.log(iC,"componentWillUnmount",this.id),removeDatePicker(this.id)},t.prototype.render=function(){var e=this.props,t=e.rule,r=e.fo,n=t.to,o=t.from,a=r.min,i=r.max;return Pi.createElement("tr",null,Pi.createElement("td",null,Pi.createElement("div",{id:this.id},Pi.createElement("div",{className:"input-daterange input-group",id:"datepicker"
},Pi.createElement("input",{type:"text",style:sC,name:"start",id:"start"+t.id,value:o,placeholder:a,autoComplete:"off",readOnly:!0}),Pi.createElement("span",{className:"input-group-addon input-group-addon-to",id:t.id},"to"),Pi.createElement("input",{type:"text",style:sC,name:"end",id:"end"+t.id,value:n,placeholder:i,autoComplete:"off",readOnly:!0})))))},t}(e.Component),lC=Af(Eg,wg)(cC),uC={border:"none",minWidth:240,height:"26px",paddingLeft:4},pC={width:"100%"},dC=function(e){function t(t){var r=this;e.call(this,t),["handleInputChange","handleInputChangeCallback","handleInputClick","handleMenuSelect"].forEach(function(e){return r[e]=r[e].bind(r)}),this.fo=t.fo,this.attribute_nested_value=t.attribute_nested_value,this.guid=Nr(),this.name="suggester",this.state=jr("menu-state"),this.baseUrl="/search/suggester/"+this.fo.attribute}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleInputChange=function(e){var t=e.target,r=t.value;if(this.setValue(r),r.length>=1){r=encodeURIComponent(r);var n=this.baseUrl+"/"+r;this.attribute_nested_value&&(n+="/"+this.attribute_nested_value),Tr(n,LE,this.handleInputChangeCallback)}else Ei(jr("menu-state"),this)},t.prototype.handleInputChangeCallback=function(e){console.log("components/query-builder/Suggester","handleInputChangeCallback: menuItems.length="+e.length),e&&e.length>0?Ei({menuItems:e,menuIndex:0,menuOpen:!0},this):Ei(jr("menu-state"),this)},t.prototype.handleInputClick=function(e){var t=e.target,r=t.value;r=r.trim(),r.length>=1&&this.state.menuItems&&Ei({menuOpen:!0},this)},t.prototype.handleMenuSelect=function(e){console.log(e),this.setValue(e),Ei({menuOpen:!1},this)},t.prototype.setValue=function(e){e=Jr(e);var t=this.props,r=t.guid;(0,t.handleSetMenuValue)(r,e)},t.prototype.render=function(){var e=this,t=this.props,r=t.fo,n=t.value,o=this.state,a=o.menuIndex,i=o.menuItems,s=o.menuOpen;return Pi.createElement("div",{id:"menu-container-"+this.guid,className:"input-menu-container"},Pi.createElement("input",{type:"text",style:uC,className:"input-menu-text",onClick:function(t){return e.handleInputClick(t)},onChange:this.handleInputChange,placeholder:r.placeholder,autoComplete:"off",spellCheck:"false",value:n}),s&&Pi.createElement(NS,{menuItems:i,menuIndex:a,handleMenuSelect:this.handleMenuSelect,menuStyle:pC}))},t}(e.Component),fC={border:"none",minWidth:240,height:"26px",paddingLeft:4},hC=Object.assign({},fC,{width:75,minWidth:75}),mC={border:"none",lineHeight:"28px",userSelect:"none",padding:"0 4px"},yC=function(e){function t(t){var r=this;e.call(this,t),["handleAddValue","handleDeleteInput","handleSetMenuValue","handleSetValue"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleAddValue=function(){var e=this.props,t=e.rule;(0,e.addInput)(t)},t.prototype.handleDeleteInput=function(e){var t=this.props,r=t.rule;(0,t.deleteInput)(r,e)},t.prototype.handleSetMenuValue=function(e,t){var r=this.props,n=r.rule;(0,r.setValue)(n.id,e,t)},t.prototype.handleSetValue=function(e){var t=this.props,r=t.rule,n=t.setValue,o=e.target,a=o.id,i=o.value;n(r.id,a,i)},t.prototype.render=function(){var e=this,t=this.props,r=t.rule,n=t.fo,o=r.attribute_nested_value,a=r.operator,i=Qr(a);if(Vr(n))return i?Pi.createElement(lC,{rule:r,fo:n}):Pi.createElement(aC,{rule:r,fo:n});var s,c,l=this.props,u=l.i,p=l.input,d=l.inputsLen,f=r.to,h=r.from,m=n.attribute,y=n.enumeration,v=n.input_type,g=n.is_iterable,b=n.placeholder,E=n.rcsb_units,_=n.type,w=p.guid,S=p.value;"rcsb_binding_affinity.value"!==m&&(c=n.max,s=n.min),E&&console.log("rcsb_units="+E);var C=("string"===_||y)&&!g&&"pdbx_database_status.pdb_format_compatible"!==m,O=E?Pi.createElement("td",{style:mC},Fb[E]):null;return Pi.createElement("tr",null,"text"===v&&!i&&Pi.createElement("td",null,Pi.createElement("input",{style:fC,type:"text",value:S,id:w,onChange:this.handleSetValue,placeholder:b,autoComplete:"off"})),i&&Pi.createElement("tbody",null,Pi.createElement("td",null,Pi.createElement("input",{style:hC,type:"text",value:h,id:"from",onChange:this.handleSetValue,placeholder:s,autoComplete:"off"})),Pi.createElement("td",{style:mC},Pi.createElement("i",null,"to")),Pi.createElement("td",null,Pi.createElement("input",{style:hC,type:"text",value:f,id:"to",onChange:this.handleSetValue,placeholder:c,autoComplete:"off"}))),"select"===v&&Pi.createElement("td",null,Pi.createElement(rw,{header:"-- Select value --",options:y,value:S,id:w,onChange:this.handleSetValue,height:26})),"suggester"===v&&Pi.createElement("td",null,Pi.createElement(dC,{fo:n,guid:w,handleSetMenuValue:this.handleSetMenuValue,value:S,attribute_nested_value:o})),O,d>1&&Pi.createElement("td",{className:"input-remove",onClick:function(){return e.handleDeleteInput(w)}},V_),C&&u===d-1&&Pi.createElement("td",{className:"input-add",onClick:this.handleAddValue},"Add"),C&&u!==d-1&&Pi.createElement("td",{className:"input-or"},"OR"))},t}(e.Component),vC=Af(Eg,_g)(yC),gC={width:15,textAlign:"center"},bC={position:"relative",width:15,borderLeft:v_},EC={position:"absolute",top:8,left:3},_C={position:"absolute",top:13,left:3},wC=Object.assign({},E_,{fontSize:10,color:"rgba(51, 122, 183, 0.8)",width:16,textAlign:"center",padding:0}),SC=function(e){function t(t){var r=this;e.call(this,t),["handleClick","handleClickAll","handleMenuSelect","handleHeaderClick","getDefaultState"].forEach(function(e){return r[e]=r[e].bind(r)}),this.guid=Nr(),this.name="selector",this.state=this.getDefaultState()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.attribute,n=this.state,o=n.menuItems;if(r)for(var a=0,i=o.length;a<i;a++){var s=o[a];if("item"===s.type&&s.attribute===r){e.setState({header_index:s.header_index});break}}},t.prototype.handleMenuSelect=function(e){zr("components/query-builder/Selector",e),this.props.setAttribute(e),Ei({menuOpen:!1},this)},t.prototype.handleClick=function(){Ei({menuOpen:!this.state.menuOpen},this)},t.prototype.handleClickAll=function(){var e=!this.state.menuAll;Ei({menuAll:e,menuOpen:e},this)},t.prototype.handleHeaderClick=function(e){e===this.state.header_index?this.setState({header_index:-1}):this.setState({header_index:e})},t.prototype.getDefaultState=function(){return{menuAll:!1,menuIndex:-1,menuItems:selectorItems,menuOpen:!1,header_index:-1}},t.prototype.render=function(){var e,t=this,r=this.props,n=r.attribute,o=r.attribute_nested,a=r.attribute_nested_value;n&&(e=metadata[n].display_name,o&&(e+=" - "+a));var i=this.state,s=i.menuAll,c=i.menuIndex,l=i.menuItems,u=i.menuOpen,p=i.header_index,d=u?Q_:z_,f=s&&u?"glyphicon glyphicon-triangle-top":"glyphicon glyphicon-triangle-bottom";return Pi.createElement("div",{id:"menu-container-"+this.guid,className:"selector-menu-container"},Pi.createElement("div",{className:"selector-attribute"},Pi.createElement("table",{className:"attr"},Pi.createElement("tr",null,Pi.createElement("td",{onClick:this.handleClick},e||Pi.createElement("i",null,"-- Select field --")),Pi.createElement("td",{style:gC,onClick:this.handleClick},d),Pi.createElement("td",{style:bC,onClick:this.handleClickAll},Pi.createElement("span",{style:EC,className:f}),Pi.createElement("span",{style:_C,className:f}))))),u&&Pi.createElement("div",{className:"selector-menu"},l.map(function(e,r){if("header"===e.type){var o=e.name,i=e.index,l=s?null:p===i?Q_:z_;return Pi.createElement("div",{key:"h"+i},Pi.createElement("div",{onClick:function(){return t.handleHeaderClick(e.index)},className:"selector-header-item"},Pi.createElement("table",null,Pi.createElement("tr",null,Pi.createElement("td",null,o),Pi.createElement("td",null,l)))))}if((s||e.header_index===p||-1===e.header_index)&&("item"===e.type||"item-nested"===e.type)){var u="item-nested"===e.type?e.attribute===n&&e.attribute_nested_value===a?M_:null:e.attribute===n?M_:null,d=r===c?"selector-item-selected":"selector-item";return Pi.createElement("div",{id:"menu"+r,key:"i"+r,className:d,onClick:function(){return t.handleMenuSelect(e)}},Pi.createElement("div",{style:wC},u),e.name)}})))},t}(e.Component),CC="components/query-builder/Rule",OC=Object.assign({},E_,{textAlign:"center",height:28,lineHeight:"28px",fontWeight:"bold",userSelect:"none",padding:"0 4px"}),kC={paddingBottom:2,borderBottom:v_,marginBottom:4},TC=Object.assign({},E_,{marginRight:2}),xC={marginBottom:2,marginRight:2},jC=Object.assign({},E_,xC),AC=function(e){function t(t){var r=this;e.call(this,t),["handleCount","handleRemoveRule","handleSetAttribute","handleSetNot","handleSetOperator","handleSetType"].forEach(function(e){return r[e]=r[e].bind(r)}),this.guid=Nr()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleCount=function(){var e=this.props,t=e.rule;(0,e.countSearch)(t)},t.prototype.handleRemoveRule=function(){var e=this.props,t=e.rule,r=e.group;(0,e.deleteRule)(r.id,t.id)},t.prototype.handleSetAttribute=function(e){var t=this.props,r=t.rule;(0,t.setAttribute)(r.id,e)},t.prototype.handleSetNot=function(){var e=this.props,t=e.rule;(0,e.setNot)(t.id)},t.prototype.handleSetOperator=function(e){console.log(CC,"handleSetOperator",e.target.value);var t=this.props,r=t.rule;(0,t.setOperator)(r.id,e.target.value)},t.prototype.handleSetType=function(e){console.log(CC,"handleSetType",e.target.value)},t.prototype.render=function(){var e=this.props,t=e.cw,r=e.rule,n=e.group,o=e.index,a=r.attribute,i=r.attribute_nested,s=r.attribute_nested_value,c=r.count,l=r.not,u=r.operator,p=r.inputs,d=n.logical_operator,f=t===DE||t===PE,h=f?xC:jC,m=Cr(h);delete m.marginRight;var y,v,g,b,E,_,w=Pi.createElement("div",{style:R_.logicalOperator},o>0&&Pi.createElement("strong",null,d.toUpperCase())),S=Pi.createElement("div",{style:h},Pi.createElement(SC,{setAttribute:this.handleSetAttribute,attribute:a,attribute_nested:i,attribute_nested_value:s})),C=E_;if(a){var O=Rr(a);if(O){var k=O.input_type,T=(O.is_iterable,O.operators);l&&(y=Pi.createElement("div",{style:OC},"NOT"));var x;if(T&&T.length>0&&(x=[],T.forEach(function(e){return x.push({key:e,value:Hb[e]})})),x&&"full_text"!==a&&("date"===k||"select"===k||"text"===k||"suggester"===k&&x.length>0)&&(v=Pi.createElement("div",{style:TC},Pi.createElement(rw,{options:x,value:u,onChange:this.handleSetOperator,border:g_}))),"exists"!==u){var j=p.length;j>0&&(g=Pi.createElement("div",{style:E_},Pi.createElement("table",{className:"qb-rule-inputs"},p.map(function(e,t){return Pi.createElement(vC,{key:e.guid,rule:r,fo:O,input:e,i:t,inputsLen:j})}))))}b=y||v||g?Pi.createElement("div",{style:h},y,v,g):null;var A=l?U_:F_;"full_text"!==a&&(E=Pi.createElement("div",{style:C_,className:"qb-btn",onClick:this.handleSetNot},A," NOT")),_=void 0===c||-1===c?Pi.createElement("div",{style:C_,className:"qb-btn",onClick:this.handleCount},"Count"):Pi.createElement("div",{style:C_},c)}else console.error(CC,": fo NOT FOUND for "+a)}var I=Pi.createElement("div",{style:S_,className:"qb-btn",onClick:this.handleRemoveRule},V_),q=Pi.createElement("div",{style:m},E,_,I);return Pi.createElement("div",{id:"rule-"+this.guid,style:f?kC:null},Pi.createElement("div",{style:E_},w),Pi.createElement("div",{style:C},S,b,q,void 0))},t}(e.Component),IC=Af(Eg,_g)(AC),qC={display:"inline-block"},RC=Object.assign({},qC,{border:v_,padding:"4px 4px 2px 4px",backgroundColor:"rgba(0, 0, 0, 0.04)",marginBottom:4}),NC=function(e){function t(t){e.call(this,t),this.handleClick=this.handleClick.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleClick=function(e){var t=this.props,r=t.handleTextClick,n=t.group,o=t.parentGroup,a=o?o.id:null;r(n.id,a,e)},t.prototype.render=function(){var e=this,r=this.props,n=r.group,o=r.parentGroup,a=r.handleTextClick,i=r.index,s=n.is_root,c=n.items,l=s?qC:RC,u=s?S_:C_,p=s?"Add Group":"Add Subgroup";return Pi.createElement("div",{id:"group-is-root-"+s},!s&&Pi.createElement("div",{style:R_.logicalOperator},i>0&&Pi.createElement("span",null,o.logical_operator.toUpperCase())),Pi.createElement("div",{style:l},c.map(function(e,r){return"group"===e.type?Pi.createElement(t,{key:e.id,group:e,parentGroup:n,handleTextClick:a,index:r}):Pi.createElement(IC,{key:e.id,rule:e,group:n,index:r,guid:e.id})}),Pi.createElement("div",{style:R_.logicalOperator,onClick:function(){return e.handleClick("and-or")}},c.length>1&&Pi.createElement("div",{style:S_,className:"qb-btn"},"AND / OR")),!s&&Pi.createElement("div",{style:C_,className:"qb-btn",onClick:function(){return e.handleClick("addRule")}},"Add Field"),Pi.createElement("div",{style:u,className:"qb-btn",onClick:function(){return e.handleClick("addGroup")}},p),!s&&Pi.createElement("div",{style:S_,className:"qb-btn",onClick:function(){return e.handleClick("deleteGroup")}},"Remove Group")))},t}(e.Component),PC="components/query-builder/Text",DC=function(e){function t(t){var r=this;e.call(this,t),["handleCount","handleTextClick","serviceToggle"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.serviceToggle=function(){this.props.dispatchAction(db,{service:"text"})},t.prototype.handleCount=function(){console.log(PC,"handleCount"),this.props.serviceCountSearch("text")},t.prototype.handleTextClick=function(e,t,r){console.log(PC,"handleTextClick",r);var n=this.props,o=n.setBooleanOperator,a=n.addRule,i=n.addGroup,s=n.deleteGroup;"and-or"===r?o(e):"addRule"===r?a(e):"addGroup"===r?i(e):"deleteGroup"===r&&s(t,e)},t.prototype.render=function(){var e=this.props,t=e.queryBuilder,r=e.returnType,n=t.services.text,o=n.root,a=n.open;return Pi.createElement("div",{style:R_.service},Pi.createElement(wS,{open:a,service:"text",serviceToggle:this.serviceToggle}),a&&o&&Pi.createElement("table",{style:R_.serviceTable},Pi.createElement("tr",null,Pi.createElement("td",null,Pi.createElement("div",{style:R_.serviceOperator})),Pi.createElement("td",{style:R_.serviceTableBody},Pi.createElement("div",{style:R_.serviceBody},Pi.createElement("div",null,Pi.createElement(NC,{group:o,handleTextClick:this.handleTextClick,returnType:r})))))))},t}(e.Component),MC=Af(Eg,_g)(DC),BC="components/query-builder/QueryBuilder",LC="query-builder",UC=LC+"-component",HC=Object.assign({},R_.toggle,{paddingTop:4}),FC=function(e){function t(t){var r=this;e.call(this,t),["search","setControl","toggle","unsetControl"].forEach(function(e){return r[e]=r[e].bind(r)}),this.name=LC,this.component_id=UC}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.search=function(){this.props.queryBuilderSearch()},t.prototype.setControl=function(){console.log(BC,"setControl"),this.props.setControl("QUERY_BUILDER",BC),bi(this)},t.prototype.toggle=function(){var e=this.props,t=e.dispatchAction,r=e.queryBuilder,n=r&&r.open;console.log(BC,"open="+n),n?t(fb,{open:!1}):r?t(fb,{open:!0}):t(cb)},t.prototype.unsetControl=function(){console.log(BC,"unsetControl"),this.props.setControl(null,BC)},t.prototype.render=function(){var e=this.props,t=e.queryBuilder,r=t&&t.open,n=r?Q_:z_;return Pi.createElement("div",{id:this.component_id,style:R_.style,onClick:this.setControl},Pi.createElement("div",{style:R_.headerStyle},Pi.createElement("div",{style:HC,onClick:this.toggle},n),Pi.createElement("div",{style:E_,className:"lead"},"Advanced Search Query Builder"),Pi.createElement(Pw,{name:"queryBuilder",marginTop:6,marginLeft:5})),r&&Pi.createElement("div",null,Pi.createElement(MC,null),Pi.createElement(HS,null),Pi.createElement(QS,null),Pi.createElement(tC,null),Pi.createElement(AS,null),Pi.createElement(RS,null)))},t}(e.Component),VC=Af(Eg,_g)(FC),GC=function(e){function t(t){e.call(this,t),this.handleClick=this.handleClick.bind(this),this.handleClear=this.handleClear.bind(this),this.handleClickMore=this.handleClickMore.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleClear=function(){var e=this.props,t=e.refinement;(0,e.clearRefinement)(t)},t.prototype.handleClick=function(e){var t=this.props,r=t.refinement,n=t.clickRefinement,o=e.target;n(r,o.value,o.checked)},t.prototype.handleClickMore=function(){var e=this.props,t=e.refinement;(0,e.clickMore)(t)},t.prototype.render=function(){for(var e=this,t=this.props.refinement,r=t.attribute,n=t.groups,o=t.maxGroups,a=Ar(r),i=n.length,s=!1,c=0;c<n.length;c++){if(n[c].checked){s=!0;break}if(s)break}for(var l=[],u=Math.min(o,i),p=0;p<u;p++){var d=n[p],f=d.population,h=d.checked,m=d.label,y=Si(m,r);l.push(Pi.createElement("tr",{key:m},Pi.createElement("td",null,Pi.createElement("input",{className:"checkBoxRefinement",type:"checkbox",value:m,onClick:e.handleClick,checked:h})),Pi.createElement("td",null,Pi.createElement("span",{dangerouslySetInnerHTML:{__html:y+" ("+f+")"}}))))}return Pi.createElement("div",{className:"refinement"},Pi.createElement("div",{className:"refinement-title"},Pi.createElement("table",null,Pi.createElement("tr",null,Pi.createElement("td",null,Pi.createElement("h5",{dangerouslySetInnerHTML:{__html:a}})),Pi.createElement("td",null,Pi.createElement("button",{className:vE,onClick:this.handleClear,disabled:!s},"Clear"))))),Pi.createElement(ew,{h:10}),Pi.createElement("table",{className:"refinement"},l.map(function(e){return e})),i>o&&Pi.createElement("div",{className:"more",onClick:this.handleClickMore},"More..."))},t}(e.Component),WC="components/Refinements",QC="refinements",zC=QC+"-component",YC=function(e){function t(t){var r=this;e.call(this,t),["clearRefinement","clickMore","clickRefinement","search","setControl","unsetControl"].forEach(function(e){return r[e]=r[e].bind(r)}),this.name=QC,this.component_id=zC}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){console.log(WC,"componentDidMount")},t.prototype.clickRefinement=function(e,t,r){var n=this.props,o=n.booleans,a=n.setRefinement;o.dataLoading||a(e,t,r)},t.prototype.clearRefinement=function(e){this.props.clearRefinement(e)},t.prototype.clickMore=function(e){(0,this.props.dispatchAction)(zg,{refinement:e})},t.prototype.search=function(){console.log(WC,"search()"),this.props.refinementsSearch()},t.prototype.setControl=function(){console.log(WC,"setControl"),this.props.setControl("REFINEMENTS",WC),bi(this)},t.prototype.unsetControl=function(){console.log(WC,"unsetControl"),this.props.setControl(null,WC)},t.prototype.render=function(){var e=this,t=this.props,r=t.control,n=t.searchResults,o=t.clearRefinements,a=n.drilldown,i=!1;if(a)for(var s=0;s<a.length;s++)for(var c=0;c<a[s].groups.length;c++){if(a[s].groups[c].checked){i=!0;break}if(i)break}var l="glyphicon glyphicon-search search-btn";"REFINEMENTS"===r&&(l+=" search-control");var u=Pi.createElement("td",null,Pi.createElement("a",{className:yE,onClick:function(){return o()},disabled:!i},"Clear All")),p=Pi.createElement("td",null,Pi.createElement("a",{className:"btn btn-primary btn-sm btn-search",onClick:this.search},Pi.createElement("span",{className:l})));return Pi.createElement("div",{id:this.component_id,onClick:this.setControl},Pi.createElement("div",{id:"refinements-header"},Pi.createElement("table",null,Pi.createElement("tr",null,Pi.createElement("td",{className:"lead"},"Refinements"),Pi.createElement("td",null,Pi.createElement(Pw,{name:"refinements",pos:"right-below"})),u,p))),a&&Pi.createElement("div",{id:"refinements-body"},a.map(function(t){return Pi.createElement(GC,{key:t.attribute,refinement:t,clickRefinement:e.clickRefinement,clearRefinement:e.clearRefinement,clickMore:e.clickMore})})),Pi.createElement("div",{id:"refinements-footer"},Pi.createElement("table",null,Pi.createElement("tr",null,u,p))))},t}(e.Component),JC=Af(Eg,_g)(YC),XC="common/data-download",KC="components/Functions",ZC={border:y_,backgroundColor:u_,padding:4,fontSize:12},$C=Object.assign({},E_,{marginRight:5}),eO=Object.assign({},E_,{marginLeft:5,lineHeight:"28px"}),tO=Object.assign({},E_,{marginLeft:15,marginRight:5,lineHeight:"28px"}),rO=function(e){function t(t){var r=this;e.call(this,t),["handleDataDownload","handleDownloadSelectedFiles","handleIds","handleSelectAll","handleSort","handleTabularReport","setReportProps"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setReportProps=function(e){this.props.dispatchAction(Db,e)},t.prototype.handleDataDownload=function(e){var t=e.target.id.replace("data-download-",""),r=this.props.searchResults.total_count;console.log(KC,"handleDataDownload: format="+t),r<=bE?(this.setReportProps(jr("tabular-report")),Ci(this.props,{batch:!1,format:t})):confirm(FE.downloadData)?this.setReportProps({batch:!0,format:t,clicked:[]}):this.setReportProps(jr("tabular-report"))},t.prototype.handleDownloadSelectedFiles=function(){console.log(KC,"handleDownloadSelectedFiles");var e=this.props,t=e.pager,r=e.searchResults,n=[];r.result_set.slice(t.start,t.end_num).forEach(function(e){e.checked&&n.push(e.identifier.substring(0,4))});var o=n.length>0?n.join(","):null;o?window.open("/downloads?ids="+o,"_blank"):console.log(KC,"handleDownloadSelectedFiles: idStr is null")},t.prototype.handleIds=function(e){var t=e.target.id.replace("ids-",""),r=this.props.searchResults.total_count;console.log(KC,"handleIds: mode="+t),r<=_E?(this.setReportProps(jr("tabular-report")),Oi(this.props,{batch:!1,mode:t})):confirm(FE.idsData)?this.setReportProps({batch:!0,mode:t,clicked:[]}):this.setReportProps(jr("tabular-report"))},t.prototype.handleSelectAll=function(e){this.props.setSelectAll(e.target.checked)},t.prototype.handleSort=function(e){var t=Lr(e.target.value);this.props.sortData(t)},t.prototype.handleTabularReport=function(e){var t=e.target.value;if(console.log(KC,"handleTabularReport: report="+t),""!==t){var r=e_[t];"create_custom_report"!==t&&Xr("Tabular Reports",r),this.setReportProps(jr("tabular-report")),this.props.setViews(Ng,t)}},t.prototype.render=function(){var e,t,r,n,o,a,i,s,c,l,u,p=this.props,d=p.cw,f=p.searchResults,h=p.setViews,m=p.selectAll,y=p.sort,v=p.tabularReport,g=p.views,b=f.result_set,E=Kr(y),_=g.report,w=g.search;if(v&&v.attributes&&v.attributes.length>0&&(e=v.attributes),e&&console.log(KC,"attributes.length="+e.length),b){w===Ng?t=Pi.createElement("div",{style:S_,className:"srch-btn",onClick:function(){return h("search",TE)}},"Back to Search Results"):s=Pg.map(function(e,t){var r=t<Pg.length-2?C_:S_,n=e===w?"srch-btn-selected":"srch-btn";if(e!==Ng)return Pi.createElement("div",{style:r,className:n,onClick:function(){return h(e,TE)}},Dg[e])});var S=Pi.createElement("div",{style:$C},s,t),C=w===Ng?Pi.createElement("div",{style:tO},"Tabular Report"):null,O=e?"Create/Modify Custom Report":"Create Custom Report",k=Pi.createElement("div",{style:$C},Pi.createElement("select",{onChange:this.handleTabularReport,value:_,style:I_},w!==Ng&&Pi.createElement("option",{value:""},"-- Tabular Report --"),Pi.createElement("option",{value:"pdb_ids"},"PDB IDs"),v&&v.attributes&&Pi.createElement("option",{value:"custom_report"},"Custom Report"),Pi.createElement("option",{value:"create_custom_report"},O),tabularReportGroups.map(function(e){return Pi.createElement("optgroup",{key:e.name,label:e.name},e.reports.map(function(e){return Pi.createElement("option",{key:e.id,value:e.id},e.name)}))})));"create_custom_report"!==_&&(u=Pi.createElement("div",{style:$C},Pi.createElement(rw,{options:$b,value:E,onChange:this.handleSort,border:g_}))),w===Ng?"pdb_ids"===_?(a=Pi.createElement("div",{style:C_,className:"srch-btn",onClick:this.handleIds,id:"ids-download"},"Download IDs ",L_),o=Pi.createElement("div",{style:C_,className:"srch-btn",onClick:this.handleIds,id:"ids-display"},"Display IDs ",H_)):"create_custom_report"!==_&&(r=Pi.createElement("div",{style:C_,className:"srch-btn",onClick:this.handleDataDownload,id:"data-download-csv"},"CSV ",L_),i=Pi.createElement("div",{style:S_,className:"srch-btn",onClick:this.handleDataDownload,id:"data-download-json"},"JSON ",L_)):(n=Pi.createElement("div",{style:S_,className:"srch-btn",onClick:this.handleDownloadSelectedFiles},"Download Selected Files"),l=Pi.createElement("div",{style:eO},"Select All"),c=Pi.createElement("div",{style:eO},Pi.createElement("input",{type:"checkbox",onClick:this.handleSelectAll,checked:m})));var T=d===ME?Object.assign({},E_,{width:"72%"}):null,x=d===ME?Object.assign({},E_,{textAlign:"right",width:"28%"}):{textAlign:"right",paddingTop:2};return Pi.createElement("div",{style:ZC},Pi.createElement("div",{style:T},S,C,k,u,r,i,a,o),Pi.createElement("div",{style:x},void 0,n,l,c))}return null},t}(e.Component),nO=Af(Eg,_g)(rO),oO={padding:4,border:y_,backgroundColor:c_,fontSize:12},aO=Object.assign({},E_,{lineHeight:"27.5px"}),iO=Object.assign({},aO,{padding:"0 30px"}),sO=E_,cO=function(e){function t(t){e.call(this,t),this.handlePerPage=this.handlePerPage.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handlePerPage=function(e){var t=parseInt(e.target.value);this.props.perPageData(t)},t.prototype.render=function(){var e=this.props,t=e.cw,r=e.booleans,n=e.pageResults,o=e.pager,a=e.request;if(!r.dataLoading&&o){var i=o.end_num,s=o.page,c=o.rows,l=o.start_num,u=o.total_count,p=o.total_pages,d=r_[a.return_type],f=1===u?d.name:d.value,h=1===s,m=s===p,y=u>c,v=t===ME?Object.assign({},E_,{width:"66%"}):null,g=t===ME?Object.assign({},E_,{textAlign:"right",width:"34%",lineHeight:"27.5px"}):{textAlign:"right",paddingTop:2};return Pi.createElement("div",{style:oO},Pi.createElement("div",{style:v},Pi.createElement("div",{style:aO},"Displaying ",l," to ",i," of ",Pi.createElement("span",null,u," ",Pi.createElement("strong",null,f))),Pi.createElement("div",{style:iO},"Page ",s," of ",p),y&&Pi.createElement("div",{style:sO},h?Pi.createElement("div",{style:k_,className:"srch-btn"}," Previous"):Pi.createElement("div",{style:C_,className:"srch-btn",onClick:function(){return n("prev")}}," Previous"),m?Pi.createElement("div",{style:O_,className:"srch-btn"},"Next "):Pi.createElement("div",{style:S_,className:"srch-btn",onClick:function(){return n("next")}},"Next "))),Pi.createElement("div",{style:g},"Display ",Pi.createElement(rw,{options:kE,value:c,onChange:this.handlePerPage,border:g_})," per page"))}return null},t}(e.Component),lO=Af(Eg,_g)(cO),uO=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.attributeValueSearch,r=e.checked,n=e.cw,o=e.handleItemChecked,a=e.item,i=e.searchView,s=a.data,c=a.sequence_match,l=a.seqmotif_match,u=a.structure_match;if(s){var p=s.audit_author,d=s.assembly,f=s.entity,h=s.entryId,m=s.exptl,y=s.identifier,v=s.imgSrc,g=s.initial_release_date,b=s.macromoleculeCount,E=s.name,_=s.publication,w=s.return_type,S=s.sspHref,C=s.title,O=Pi.createElement("a",{href:S},Pi.createElement("img",{className:"img-responsive gallery-item-img",src:v})),k=Pi.createElement("input",{type:"checkbox",value:y,onClick:o,checked:r});if("GALLERY"===i){var T=n===PE?{width:"33.33%"}:{width:"25%"};return Pi.createElement("td",{className:"gallery-item",style:T},Pi.createElement("div",null,Pi.createElement("div",null,k," ",y),O))}return"COMPACT"===i?Pi.createElement("tr",null,Pi.createElement("td",null,Pi.createElement("a",{href:S},E)),Pi.createElement("td",null,C),Pi.createElement("td",{style:{whiteSpace:"nowrap"}},g&&Pi.createElement("div",null,g)),Pi.createElement("td",null,k)):Pi.createElement("div",{className:"row results-item",key:y},Pi.createElement("div",{className:"col-md-3 col-xs-12"},O,"non_polymer_entity"!==w&&Pi.createElement("div",{className:"view-button-3d"},Pi.createElement("a",{className:"btn btn-default btn-xs",type:"button",href:"/3d-view/"+h},Pi.createElement("i",{className:"fa fa-cube"},""),"3D View"))),Pi.createElement("div",{className:"col-md-9 col-xs-12 results-item-info"},Pi.createElement("table",{className:"results-item-header"},Pi.createElement("tr",null,Pi.createElement("td",null,Pi.createElement("h3",null,Pi.createElement("a",{href:S},E))),Pi.createElement("td",{className:"text-right"},Pi.createElement("div",{className:"btn-group btn-group-xs"},Pi.createElement("a",{className:"btn btn-default",type:"button",href:"http://files.rcsb.org/download/"+h+".cif.gz",rel:"noopener noreferrer",target:"_blank"},"Download File"),Pi.createElement("a",{className:"btn btn-default",type:"button",href:"http://files.rcsb.org/view/"+h+".cif",rel:"noopener noreferrer",target:"_blank"},"View File")),Pi.createElement(ew,{w:10}),k))),Pi.createElement(ew,{h:10}),Pi.createElement("h4",null,Pi.createElement("a",{href:S},C)),Pi.createElement(ew,{h:5}),p&&Pi.createElement("p",null,p.map(function(e,r){var n=r<p.length-1?", ":"";return Pi.createElement("span",{key:e.name},Pi.createElement("a",{onClick:function(){return t("audit_author.name",e.name)}},e.name),n)})),_&&Pi.createElement("p",{dangerouslySetInnerHTML:{__html:_}}),Pi.createElement("table",{className:"results-item-data"},g&&Pi.createElement("tr",null,Pi.createElement("td",null,"Released"),Pi.createElement("td",null,g)),m&&Pi.createElement("tr",null,Pi.createElement("td",null,"Method"),Pi.createElement("td",null,m.map(function(e){return Pi.createElement("div",{key:e.method},e.method+(e.resolution?" "+e.resolution+" ":""))}))),"entry"===w&&Pi.createElement("tbody",null,s.organisms&&Pi.createElement("tr",null,Pi.createElement("td",null,"Organisms"),Pi.createElement("td",null,s.organisms.map(function(e){return Pi.createElement("div",{key:e},Pi.createElement("a",{onClick:function(){return t("rcsb_entity_source_organism.ncbi_scientific_name",e)}},e))}))),b>0&&Pi.createElement("tr",null,Pi.createElement("td",null,"Macromolecule"),b>5&&Pi.createElement("td",null,s.polymer_entity_count_protein>0&&Pi.createElement("div",null,"Unique protein chains: ",s.polymer_entity_count_protein),s.polymer_entity_count_nucleic_acid>0&&Pi.createElement("div",null,"Unique nucleic acid chains: ",s.polymer_entity_count_nucleic_acid),s.polymer_entity_count_nucleic_acid_hybrid>0&&Pi.createElement("div",null,"Unique nucleic acid hybrid chains: ",s.polymer_entity_count_nucleic_acid_hybrid)),b<=5&&Pi.createElement("td",null,s.proteinChains&&s.proteinChains.map(function(e,r){return Pi.createElement("div",{key:"m"+r},Pi.createElement("a",{onClick:function(){return t("rcsb_polymer_entity.pdbx_description",e)}},e," ")," (protein)")}),s.nucleicAcidChains&&s.nucleicAcidChains.map(function(e,r){return Pi.createElement("div",{key:"m"+r},Pi.createElement("a",{onClick:function(){return t("rcsb_polymer_entity.pdbx_description",e)}},e)," (nucleic acid)")}),s.hybridChains&&s.hybridChains.map(function(e,r){return Pi.createElement("div",{key:"m"+r},Pi.createElement("a",{onClick:function(){return t("rcsb_polymer_entity.pdbx_description",e)}},e)," (hybrid)")}))),s.ligands&&Pi.createElement("tr",null,Pi.createElement("td",null,"Unique Ligands"),Pi.createElement("td",null,s.ligands.map(function(e,t){var r=t<s.ligands.length-1?", ":"";return Pi.createElement("span",{key:e},Pi.createElement("a",{href:"/ligand/"+e},e),r)}))),s.branched_monosaccharides&&Pi.createElement("tr",null,Pi.createElement("td",null,"Unique branched monosaccharides"),Pi.createElement("td",null,s.branched_monosaccharides.map(function(e,t){var r=t<s.branched_monosaccharides.length-1?", ":"";return Pi.createElement("span",{key:e},e,r)})))),"polymer_entity"===w&&Pi.createElement("tbody",null,f.organisms&&Pi.createElement("tr",null,Pi.createElement("td",null,"Organism"),Pi.createElement("td",null,f.organisms.map(function(e){return Pi.createElement("div",{key:e},Pi.createElement("a",{onClick:function(){return t("rcsb_entity_source_organism.ncbi_scientific_name",e)}},e))
}))),f.pdbx_description&&Pi.createElement("tr",null,Pi.createElement("td",null,"Macromolecule"),Pi.createElement("td",null,Pi.createElement("a",{onClick:function(){return t("rcsb_polymer_entity.pdbx_description",f.pdbx_description)}},f.pdbx_description)))),"non_polymer_entity"===w&&Pi.createElement("tbody",null,Pi.createElement("tr",null,Pi.createElement("td",null,"Chemical ID"),Pi.createElement("td",null,Pi.createElement("a",{href:"/ligand/"+f.chem_comp_id},f.chem_comp_id))),Pi.createElement("tr",null,Pi.createElement("td",null,"Formula"),Pi.createElement("td",null,f.chem_comp_formula))),"assembly"===w&&d.symmetry&&Pi.createElement("tbody",null,Pi.createElement("tr",null,Pi.createElement("td",null,d.symmetry.kind,": "),Pi.createElement("td",null,d.symmetry.type," - ",d.symmetry.symbol)),d.oligomeric_count&&Pi.createElement("tr",null,Pi.createElement("td",null,"Oligomeric Count"),Pi.createElement("td",null,d.oligomeric_count))),Pi.createElement("tbody",null,c&&Pi.createElement("tr",null,Pi.createElement("td",null,"Sequence Match"),Pi.createElement("td",null,c.map(function(e){return Pi.createElement("div",{key:e.region},"Sequence Identity: ",e.sequence_identity,", E-Value: ",e.evalue,", Region: ",e.region)}))),l&&Pi.createElement("tr",null,Pi.createElement("td",null,"Sequence Motif Match"),Pi.createElement("td",null,"Regions: ",l)),u&&Pi.createElement("tr",null,Pi.createElement("td",null,"Structure Match Score ",Pi.createElement(Pw,{name:"structureMatchScore_"+y,marginLeft:5})),Pi.createElement("td",null,u))))))}return Pi.createElement("div",{className:"row results-item",key:a.identifier},Pi.createElement("div",{className:"err-msg"},Pi.createElement("strong",null,"MISSING DATA FOR ",a.identifier)))},t}(e.Component),pO="5px solid rgba(0, 0, 0, 0)",dO={position:"absolute",width:240,left:"-2000px",zIndex:1e6},fO={backgroundColor:"#444",color:"#fff",borderRadius:4,padding:"4px 8px",fontSize:12,zIndex:1e6},hO={textAlign:"center",height:10,zIndex:1e6},mO={borderTop:"5px solid #444",borderRight:pO,borderBottom:pO,borderLeft:pO,display:"inline-block",verticalAlign:"top"},yO=function(e){function t(t){e.call(this,t),this.id=t.parentId+"-tooltip",this.contentId=t.parentId+"-tooltip-content"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){return Pi.createElement("div",{style:dO,id:this.id},Pi.createElement("div",{style:fO,id:this.contentId}),Pi.createElement("div",{style:hO},Pi.createElement("div",{style:mO})))},t}(e.Component),vO={fontSize:14,fontWeight:"normal",color:d_},gO=Object.assign({},E_,{lineHeight:"14px"}),bO=function(e){function t(t){var r=this;e.call(this,t),["mouseOut","mouseOver"].forEach(function(e){return r[e]=r[e].bind(r)});var n=t.marginTop,o=t.marginLeft,a=t.marginRight,i=t.parentId,s=t.text;this.text=s,this.parentId=i,this.infoIconStyle=Object.assign({},gO,{marginTop:n,marginLeft:o,marginRight:a})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.tooltip=Ir(this.parentId+"-tooltip"),this.content=Ir(this.parentId+"-tooltip-content")},t.prototype.mouseOut=function(){this.tooltip.style.left="-2000px"},t.prototype.mouseOver=function(e){var t=this,r=t.tooltip,n=t.content;n.innerHTML=this.text;var o=n.offsetWidth,a=n.offsetHeight;console.log(e.target.offsetLeft+" "+e.target.offsetTop),r.style.left=e.target.offsetLeft-o/2+7+"px",r.style.top=e.target.offsetTop-(a+10)+"px"},t.prototype.render=function(){return Pi.createElement("div",{style:this.infoIconStyle},Pi.createElement("span",{style:vO,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,className:"fa fa-info-circle"}))},t}(e.Component),EO={padding:"0 4px",borderBottom:"1px solid rgba(0, 0, 0, 0.06)"},_O=Object.assign({},E_,{width:"90%"}),wO=Object.assign({},E_,{width:"10%",textAlign:"right"}),SO={marginRight:10},CO=Object.assign({},E_,{paddingRight:25,width:"25%"}),OO={fontSize:"12px",position:"relative"},kO={border:y_,backgroundColor:u_,padding:4,marginBottom:10},TO={padding:"5px 10px",backgroundColor:f_,color:h_,fontSize:"14px"},xO={padding:"5px 10px",backgroundColor:c_,border:m_,marginBottom:10},jO={padding:"2px 4px",backgroundColor:u_,borderBottom:v_},AO=Object.assign({},E_,{marginLeft:4,lineHeight:"14px",marginTop:5}),IO={marginBottom:10},qO={fontSize:14,color:"#4f4"},RO="";RO+="<p>Generate Custom Tabular Reports for Different Data Types.</p>",RO+="<p>First note the different types of data that can be selected: Structure, Polymer Entity, Assembly, or Non-polymer. Select data items that are to be included, and Run Report. Save tables in CSV or JSON format. Data APIs (link to https://www.rcsb.org/pages/webservices) are available to support large data sets.</p>",RO+="<p>Note: The database contains complex one-to-many relationships, and combining items from multiple data types may lead to false correlations.</p>";var NO=function(e){function t(t){var r=this;e.call(this,t),["getCore","getDataCallback","getMenu","handleItemChecked","handlePredefined","handlePredefinedCallback","handleSaveToMypdb","runReport"].forEach(function(e){return r[e]=r[e].bind(r)}),this.title=Pi.createElement("div",{style:IO},Pi.createElement("h4",null,"Create Custom Tabular Report")),this.note=Pi.createElement("div",{style:xO,dangerouslySetInnerHTML:{__html:RO}}),this.id="tabular-report-custom";var n=Pi.createElement("div",{style:S_,className:"qb-btn",onClick:this.runReport},"Run Report ",Pi.createElement("div",{style:AO},Pi.createElement("span",{style:qO,className:"glyphicon glyphicon-triangle-right"}))),o=Pi.createElement("div",{style:E_},Pi.createElement("select",{onChange:this.handlePredefined,style:I_},Pi.createElement("option",{value:""},"-- Modify a Predefined Report --"),tabularReportGroups.map(function(e){return Pi.createElement("optgroup",{key:e.name,label:e.name},e.reports.map(function(e){return Pi.createElement("option",{key:e.id,value:e.id},e.name)}))})));this.functions=Pi.createElement("div",{style:kO},Pi.createElement("div",{style:__},o),Pi.createElement("div",{style:w_},null,null,n))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.props.customReport||Tr("/search/custom-report-attributes",LE,this.getDataCallback)},t.prototype.getCore=function(e,t){var r=e.map,n=e.menu,o=n[t];return Pi.createElement("div",{style:CO},Pi.createElement("div",{style:TO},$E[t].name," Data"),this.getMenu(r,o))},t.prototype.getDataCallback=function(e,t){this.props.dispatchAction(Nb,{data:e})},t.prototype.getMenu=function(e,t){var r=this;return Pi.createElement("div",null,t.map(function(t){return Pi.createElement("div",{key:t.name},Pi.createElement("div",{style:jO},t.name),t.items.map(function(n){if(e[n]){var o=e[n],a=o.name,i=o.desc,s=o.checked;return Pi.createElement("div",{style:EO},Pi.createElement("div",{style:_O},Pi.createElement("input",{style:SO,type:"checkbox",value:n,onClick:r.handleItemChecked,checked:s}),a),Pi.createElement("div",{style:wO},i&&Pi.createElement(bO,{text:i,marginTop:2,parentId:r.id})))}console.log(n+" "+t.name+" NOT FOUND")}))}))},t.prototype.handleItemChecked=function(e){var t=this.props,r=t.dispatchAction,n=e.target,o=n.value,a=n.checked;r(Rb,{attribute:o,checked:a})},t.prototype.handlePredefined=function(e){var t=e.target.value;if(""!==t){for(var r=this.props.customReport.map,n=Object.keys(r),o=!1,a=0;a<n.length;a++){r[n[a]].checked&&(o=!0);break}if(o){var i="This will overwrite your existing attribute selection(s) with the attributes from the "+e_[t]+" report";i+=FE.okToProceed,confirm(i)&&Tr("/search/attributes/"+t,LE,this.handlePredefinedCallback)}else Tr("/search/attributes/"+t,LE,this.handlePredefinedCallback)}},t.prototype.handlePredefinedCallback=function(e){e&&Array.isArray(e)?this.props.dispatchAction(Pb,{attributes:e}):alert("Error retrieving data.")},t.prototype.handleSaveToMypdb=function(){alert("NOT YET IMPLEMENTED")},t.prototype.runReport=function(){var e=this.props,t=e.customReport,r=e.dispatchAction,n=e.setViews,o=t.map,a=[];for(var i in o)o[i].checked&&a.push(i);r(Db,{attributes:a,batch:null,format:null,mode:null}),n(Ng,"custom_report")},t.prototype.render=function(){var e=this.props,t=e.customReport;if(t){var r=this.getCore(t,"entry"),n=this.getCore(t,"polymer_entities"),o=this.getCore(t,"assemblies"),a=this.getCore(t,"nonpolymer_entities");return Pi.createElement("div",{style:OO},Pi.createElement(yO,{parentId:this.id}),this.title,this.note,this.functions,r,n,o,a)}return null},t}(e.Component),PO=Af(Eg,_g)(NO),DO="components/TabularReportResults",MO={border:y_,padding:5},BO={marginBottom:10},LO={fontSize:12},UO={border:v_,padding:5,marginBottom:10},HO={display:"inline-block",color:"#337ab7",cursor:"pointer"},FO={display:"inline-block",color:"#b77ab7",cursor:"pointer"},VO=function(e){function t(t){var r=this;e.call(this,t),["download","getBatchLinks"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.download=function(e,t,r){var n=this.props,o=(n.dispatchAction,n.tabularReport),a=o.batch,i=o.format,s=o.mode,c=o.clicked;console.log(DO,r,a,i,s),"pdb_ids"===r?Oi(this.props,{batch:a,mode:s,from:e,to:t}):Ci(this.props,{batch:a,format:i,from:e,to:t}),this.props.dispatchAction(Db,{clicked:c.concat([e])})},t.prototype.getBatchLinks=function(e,t,r){var n=this;console.log("getBatchLinks",e,t),zr(DO,r,"clicked");var o="pdb_ids"===t?_E:bE,a=parseInt(e/o);e%o!=0&&a++;for(var i=[],s=0;s<a;s++)!function(s){var c=s*o+1,l=(s+1)*o;s===a-1&&(l=Math.min(l,e));var u=r.includes(c)?FO:HO;i.push(Pi.createElement("div",{style:u,onClick:function(){return n.download(c,l,t)}},"Rows ",c," -  ",l)),i.push(Pi.createElement("br",null))}(s);return i},t.prototype.render=function(){var e=this.props,t=e.booleans,r=e.pager,n=e.returnType,o=e.searchResults,a=e.tabularReport,i=e.views;if(!t.dataLoading){var s=a.table,c=a.batch,l=a.format,u=a.mode,p=a.clicked,d=i.report;console.log(DO+": report="+d);var f,h=xi(o,r),m="pdb_ids"===d?"PDB IDs":e_[d],y=Pi.createElement("h4",null,m," Report");if("pdb_ids"===d)f=Pi.createElement("div",{style:BO},y);else{var v="/search/report-query?identifiers="+h+"&returnType="+n;v+="custom_report"===d?"&attributes="+a.attributes.join(","):"&report="+d,f=Pi.createElement("div",{style:BO},Pi.createElement("div",{style:__},y),Pi.createElement("div",{style:w_},Pi.createElement("a",{rel:"noopener noreferrer",href:v,target:"_blank"},"View GraphQL Query")))}var g;if(c){var b="pdb_ids"===d?_E+" IDs":bE+" records",E="pdb_ids"===d?"Batch "+("download"===u?"Download":"Display"):l.toUpperCase()+" Batch Download",_="pdb_ids"===d&&"display"===u?"display":"download",w=o.total_count;g=Pi.createElement("div",{style:UO},Pi.createElement("p",null,Pi.createElement("b",null,E,":")," ",_," the complete data set in batches of up to ",b,". Each file may take up to one minute to ",_,". ",Pi.createElement("span",{dangerouslySetInnerHTML:{__html:FE.downloadMsg}})),this.getBatchLinks(w,d,p))}return Pi.createElement("div",{style:LO},f,g,o&&"pdb_ids"===d&&Pi.createElement("div",{style:MO},h),o&&s&&"pdb_ids"!==d&&Pi.createElement("div",{dangerouslySetInnerHTML:{__html:s}}))}return null},t}(e.Component),GO=Af(Eg,_g)(VO),WO=function(e){function t(t){e.call(this,t),this.handleItemChecked=this.handleItemChecked.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleItemChecked=function(e){var t=e.target,r=t.value,n=t.checked;this.props.setItemChecked(r,n)},t.prototype.render=function(){var e=this,t=this.props,r=t.booleans,n=t.cw,o=t.attributeValueSearch,a=t.dataResults,i=(t.return_type,t.searchResults),s=t.views,c=s.search;if(!r.dataLoading&&a){if(c===Ng)return"create_custom_report"===s.report?Pi.createElement(PO,null):Pi.createElement(GO,null);var l=a.map(function(t){var r=i.map[t.identifier].checked;return Pi.createElement(uO,{item:t,key:t.identifier,checked:r,searchView:c,cw:n,handleItemChecked:e.handleItemChecked,attributeValueSearch:o})});if("GALLERY"===c){for(var u=[],p=n===PE?3:4,d=0,f=l.length;d<f;d+=p){var h=3===p?Pi.createElement("tr",null,l[d],l[d+1],l[d+2]):Pi.createElement("tr",null,l[d],l[d+1],l[d+2],l[d+3]);u.push(h)}return Pi.createElement("table",{id:"gallery-items"},u)}if("COMPACT"===c){var m=Pi.createElement("tr",null,Pi.createElement("th",null,"ID"),Pi.createElement("th",null,"Title"),Pi.createElement("th",null,"Released"),Pi.createElement("th",null));return Pi.createElement("table",{id:"compact-view"},m,l)}return Pi.createElement("div",null,l)}return null},t}(e.Component),QO=Af(Eg,_g)(WO),zO=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props.views,t=e.report,r=e.search,n=!0,o=!0;return r===Ng&&("create_custom_report"===t&&(n=!1),"create_custom_report"!==t&&"pdb_ids"!==t||(o=!1)),Pi.createElement("div",null,Pi.createElement(nO,null),Pi.createElement(ew,{h:10}),Pi.createElement("div",null,n&&Pi.createElement(lO,null),Pi.createElement(ew,{h:10}),Pi.createElement(QO,null),Pi.createElement(ew,{h:10}),o&&Pi.createElement(lO,null)))},t}(e.Component),YO=Af(Eg,wg)(zO),JO={width:"100%"},XO={verticalAlign:"top"},KO={width:290,paddingRight:10},ZO={width:"100%"},$O=Object.assign({},q_,{color:"rgba(207, 0, 0, 1)"}),ek={textAlign:"right"},tk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.continue=function(){location.href="/search"},t.prototype.render=function(){var e=this.props,t=e.cw,r=e.msg,n=e.dataResults,o=e.searchResults;return Pi.createElement("div",null,r&&Pi.createElement("div",null,r.type===VE?Pi.createElement("div",{style:$O},Pi.createElement("table",{style:JO},Pi.createElement("tr",null,Pi.createElement("td",null,Pi.createElement("div",{dangerouslySetInnerHTML:{__html:r.value}})),Pi.createElement("td",{style:ek},Pi.createElement("div",{style:S_,className:"search-btn",onClick:this.continue},"Continue"))))):Pi.createElement("div",{style:q_,dangerouslySetInnerHTML:{__html:r.value}})),Pi.createElement("div",null,Pi.createElement(VC,null),Pi.createElement(ew,{h:10})),n&&o&&Pi.createElement("div",null,(t===ME||"MD"===t)&&Pi.createElement("table",{style:JO},Pi.createElement("tr",{style:XO},Pi.createElement("td",{style:KO},Pi.createElement(JC,null)),Pi.createElement("td",{style:ZO},Pi.createElement(YO,null)))),(t===DE||t===PE)&&Pi.createElement("div",null,Pi.createElement(YO,null),Pi.createElement(ew,{h:10}),Pi.createElement(JC,null))))},t}(e.Component),rk=Af(Eg,_g)(tk),nk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props.booleans,t=e.dataLoading,r=e.countLoading;if(t||r){var n=t?FE.dataLoading:FE.countLoading;return Pi.createElement("div",{id:"data-loading"},Pi.createElement("div",{className:"progress"},Pi.createElement("div",{className:"progress-bar progress-bar-striped active"},n)))}return null},t}(e.Component),ok=Af(Eg,wg)(nk),ak=Object.assign({},E_,{padding:4,border:y_,backgroundColor:c_,fontSize:13}),ik=function(e){function t(t){var r=this;e.call(this,t),["saveToMypdb","openInQb"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.openInQb=function(){var e=hn(this.props.request);e?this.props.dispatchAction(cb,{request:e}):console.log("components/Query: REQUEST IS NULL")},t.prototype.saveToMypdb=function(){var e=this.props,t=e.history,r=e.request,n=t.map[r.request_info.query_id];n?mi(n):console.error("item NOT FOUND for request.request_info.query_id="+r.request_info.query_id)},t.prototype.render=function(){var e=this.props,t=e.booleans,r=e.containerWidth,n=e.cw,o=e.dispatchAction,a=e.history,i=e.prevNextSearch,s=e.request,c=e.requestHtml,l=s.request_info?s.request_info.query_id:null,u=t.hasMypdb;if(l&&c){var p=a.ids,d=p.length,f=null,h=0;if(d>1){var m="prev",y=C_,v="srch-btn",g="next",b=S_,E="srch-btn";l===p[d-1]&&(m=null,y=k_,v=null),l===p[0]&&(g=null,b=O_,E=null),f=Pi.createElement("div",{style:E_},Pi.createElement("div",{style:y,className:v,onClick:function(){return i(m)}},Y_),Pi.createElement("div",{style:b,className:E,onClick:function(){return i(g)}},J_)),h=55}var _=n===DE||n===PE?{textAlign:"right",marginTop:5}:E_,w=Pi.createElement("div",{style:_},Pi.createElement("div",{style:S_,className:"srch-btn",onClick:this.openInQb},"Open In Query Builder"),Pi.createElement(ew,{w:2}),u?Pi.createElement("div",{style:S_,className:"srch-btn",onClick:this.saveToMypdb},Pi.createElement("div",{style:E_},X_)," Save to MyPDB"):Pi.createElement("div",{style:S_,className:"srch-btn",onClick:function(){return o(ab,{tab:jg})}},"MyPDB Login")),S=u?261:232,C=n===DE||n===PE?r-(h+5):r-(h+S+10),O=d>1?5:0,k=n===DE||n===PE?0:5,T=Object.assign({},ak,{width:C,marginLeft:O,marginRight:k}),x=Pi.createElement("div",{style:T,dangerouslySetInnerHTML:{__html:"<strong>QUERY:</strong> "+c}});return Pi.createElement("div",null,f,x,w,Pi.createElement(ew,{h:10}))}return null},t}(e.Component),sk=Af(Eg,_g)(ik),ck=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.requestHtml;return Pi.createElement("div",null,Pi.createElement(ok,null),t&&Pi.createElement(sk,null),Pi.createElement(rk,null))},t}(e.Component),lk=Af(Eg,wg)(ck),uk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleClick=function(e){return this.props.dispatchAction(ab,{tab:e}),!1},t.prototype.render=function(){var e=this;return Pi.createElement("div",null,Pi.createElement("ul",{className:"nav nav-tabs"},Ig.map(function(t){var r,n={cursor:"pointer"};return t===e.props.views.tab&&(r="active",n=null),Pi.createElement("li",{key:t,style:n,className:r,onClick:function(){return e.handleClick(t)}},Pi.createElement("a",null,qg[t]))})))},t}(e.Component),pk=Af(Eg,_g)(uk),dk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props.node;e.s&&ji(e.i)},t.prototype.componentDidUpdate=function(e){},t.prototype.render=function(){var e=this.props,r=e.node,n=e.parent,o=e.tree_id,a=e.clickNode,i=e.clickLink,s=r.id,c=r.n,l=r.ch,u=r.hasCh,p=r.d,d=r.i,f=(r.pi,r.o),h=r.c,m=r.s,y=tree_config[o],v=y.is_go,g=y.show_id,b=y.sort_by,E=y.return_type,_="";"id"===b?(g&&(_+="<strong>"+s+"</strong> - "),_+=c):c?(_+=c,g&&(_+=v?" <strong>(GO ID:"+s+")</strong>":" <strong>("+s+")</strong>")):_+="<strong>("+s+")</strong>";var w,S=m?"tree-node-selected":"tree-node";w="entry"===E?1===h?"Structure":"Structures":"assembly"===E?1===h?"Assembly":"Assemblies":1===h?"Entity":"Entities";var C=n&&n.o?"block":"none",O={display:C},k=20*(p-1);u||(k+=15);var T=u?function(){return a(r)}:null;return Pi.createElement("div",null,(c||s)&&Pi.createElement("div",{id:"tree-item-"+d,className:S,style:O},Pi.createElement("span",{onClick:T},k>0&&Pi.createElement(ew,{w:k}),u&&f&&z_,u&&!f&&J_),Pi.createElement("span",{dangerouslySetInnerHTML:{__html:_},onClick:T}),h&&Pi.createElement("span",null,Pi.createElement("i",null," - [ ",Pi.createElement("a",{className:"tree-browser-link",onClick:function(){return i(r)}},h," ",w)," ]"))),f&&l&&l.map(function(e){return Pi.createElement(t,{key:e.i,node:e,parent:r,tree_id:o,clickNode:a,clickLink:i})}))},t}(e.Component),fk={width:"100%",height:28,border:g_},hk=function(e){function t(t){var r=this;e.call(this,t),["handleInputChange","handleInputChangeCallback","handleInputClick","handleMenuSelect"].forEach(function(e){return r[e]=r[e].bind(r)}),this.guid=Nr(),this.name="tree-search-bar",this.state=jr("menu-state")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleInputChange=function(e){var t=this.props,r=t.tree_id,n=e.target,o=n.value;if(console.log("value="+o),o.length>2){Tr(["/search/tree-menu",r,o].join("/"),LE,this.handleInputChangeCallback)}else Ei(jr("menu-state"),this)},t.prototype.handleInputChangeCallback=function(e){e&&e.length>0?Ei({menuItems:e,menuIndex:-1,menuOpen:!0},this):Ei(jr("menu-state"),this)},t.prototype.handleInputClick=function(e){var t=e.target,r=t.value;console.log("components/TreeSearchBar","value="+r),r.length>2&&this.state.menuItems&&Ei({menuOpen:!0},this)},t.prototype.handleMenuSelect=function(e){var t=e[1];this.props.selectNode(t),Ei({menuOpen:!1},this)},t.prototype.render=function(){var e=this,t=this.state,r=t.menuIndex,n=t.menuItems,o=t.menuOpen;return Pi.createElement("div",{id:"menu-container-"+this.guid,className:"input-menu-container"},Pi.createElement("input",{type:"text",style:fk,onClick:function(t){return e.handleInputClick(t)},onChange:this.handleInputChange,placeholder:YE.treeSearchBar,autoComplete:"off",spellCheck:"false"}),o&&Pi.createElement("div",{className:"input-menu"},n.map(function(t,n){var o=t[0],a=n===r?"selected":null;return Pi.createElement("div",{id:"menu"+n,key:"i"+n,className:a,onClick:function(){return e.handleMenuSelect(t)},dangerouslySetInnerHTML:{__html:o}})})))},t}(e.Component),mk=Af(Eg,wg)(hk),yk="components/tree-browser/TreeApp",vk="/search/tree",gk=function(e){function t(t){var r=this;e.call(this,t),["clickLink","clickNode","clickTree","getNode","getNodeCallback","saveTree","selectNode","selectNodeCallback","setTree"].forEach(function(e){return r[e]=r[e].bind(r)}),this.state={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){console.log(yk,"componentDidMount");var e=this.props.views.tree;this.setTree(e)},t.prototype.componentWillUnmount=function(){this.saveTree()},t.prototype.clickLink=function(e){var t=this.props,r=t.requestSearch,n=t.views,o=tree_config[n.tree],a=o.attribute,i=o.is_go,s=o.return_type,c=o.type_attribute,l=o.type_value,u=i?qi(e.id):e.id,p=Sn({attribute:a,operator:"exact_match",value:u}),d=c?_n(p,Sn({attribute:c,operator:"exact_match",value:l})):p,f=Zn(d,s);eo(f),zr(yk,f,"request"),r(f,yk)},t.prototype.clickNode=function(e){if(e.ch){e.o=!e.o;var t=this.state,r=t.tree;this.setState({tree:r})}else{var n=this.props.views.tree;this.getNode(n,e)}},t.prototype.clickTree=function(e){this.props.views.tree!==e&&this.setTree(e)},t.prototype.getNode=function(e,t){var r;r="string"==typeof t?t:tree_config[e].is_go?t.i:t.id,Tr([vk,e,r].join("/"),LE,this.getNodeCallback,{obj:t})},t.prototype.getNodeCallback=function(e,t,r){if("root"===e.id||0===e.d)this.setState({tree:e});else{var n=r.obj;n.ch=e.ch,n.o=!0;var o=this.state,a=o.tree;this.setState({tree:a})}},t.prototype.saveTree=function(){var e=this.props,t=e.saveTreeData,r=e.views,n=r.tree,o=this.state,a=o.tree;a&&t(n,a)},t.prototype.selectNode=function(e){var t=this.props.views.tree;Tr([vk+"-select",t,e].join("/"),LE,this.selectNodeCallback)},t.prototype.selectNodeCallback=function(e,t){var r=Cr(this.state.tree);Ii(r);for(var n=0;n<r.ch.length;n++)r.ch[n].i===e.i&&(r.ch[n]=e);this.setState({tree:r})},t.prototype.setTree=function(e){var t=this.props,r=t.dispatchAction,n=t.pushState,o=t.trees;this.saveTree(),o[e]?this.setState({tree:o[e]}):this.getNode(e,"root"),r(ab,{tree:e}),n({path:"/search/browse/"+e,src:yk+": setTree",view:"tree",id:e}),Xr("Browse Annotations",tree_config[e].name)},t.prototype.render=function(){var e=this,t=this.state,r=t.tree,n=this.props.views.tree;if(console.log(yk,"render: "+n),r){var o=tree_config[n],a=o.show_id,i=o.external?"tree-browse-header-external":"tree-browse-header",s=r;return Pi.createElement("div",{id:"tree-browse"},tree_ids.map(function(t){var r=t===n?vE:vE+" btn-tree-browse";return Pi.createElement("span",{key:t},Pi.createElement("a",{className:r,onClick:function(){return e.setTree(t)}},tree_config[t].name),Pi.createElement(ew,{w:2}))}),Pi.createElement(ew,{h:10}),Pi.createElement("div",{className:i},o.name," Browser"),Pi.createElement(ew,{h:10}),Pi.createElement("div",{dangerouslySetInnerHTML:{__html:ZE.headers[n]}}),Pi.createElement(ew,{h:10}),Pi.createElement(mk,{show_id:a,tree_id:n,selectNode:this.selectNode}),Pi.createElement(ew,{h:10}),Pi.createElement("div",{id:"tree"},Pi.createElement(dk,{key:s.id,node:s,tree_id:n,clickNode:this.clickNode,clickLink:this.clickLink})),Pi.createElement(ew,{h:10}),o.external&&Pi.createElement("div",{className:"data-external"},W_," Data from external resource."))}return null},t}(e.Component),bk=Af(Eg,_g)(gk),Ek={position:"relative"},_k=function(e){function t(t){var r=this;e.call(this,t),["setCw"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props,t=e.booleans,r=e.dispatchAction,n=e.popState,o=e.pushState,a=e.urlSearch;t.appLoaded||r(Hg,{appLoaded:!0}),setDispatchAction(r),window.onpopstate=n,window.addEventListener("resize",this.setCw),this.setCw();var i=(window.location.href,window.location.pathname),s=document.referrer,c=(window.location.search,"App.componentDidMount"),l=i.substring(7);s&&o({referrer:s,src:c}),0===l.indexOf("/advanced")||0===l.indexOf("/browse")||0===l.indexOf("/help")||0===l.indexOf("/mypdb")?(0===l.indexOf("/advanced")&&o({pathname:i,src:c}),zn(l,null,r,t)):a()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.setCw)},t.prototype.setCw=function(){var e=Fr("maincontentcontainer");this.props.dispatchAction(Fg,{containerWidth:e});var t=ME;e<=970&&(t="MD"),e<=750&&(t=DE),e<=500&&(t=PE),this.props.dispatchAction(Gg,{cw:t})},t.prototype.render=function(){var e=this.props,t=e.booleans,r=e.views,n=r.search,o=r.tab;return Pi.createElement("div",{style:Ek,id:"app"},Pi.createElement("form",{id:"data-form",method:"post",target:"_blank"},Pi.createElement("input",{type:"hidden",id:"data",name:"data"})),o===Tg&&n===Ng&&Pi.createElement("style",null,"#maincontentcontainer { width: 98%; margin: auto; }"),("local"===instance||t.dev)&&Pi.createElement(cw,null),Pi.createElement(pk,null),Pi.createElement(ew,{h:10}),o===Ag&&Pi.createElement(jw,null),"TAB_HISTORY"===o&&Pi.createElement(Vw,null),o===jg&&Pi.createElement(bS,null),o===Tg&&Pi.createElement(lk,null),o===xg&&Pi.createElement(bk,null))},t}(e.Component),wk=Af(Eg,_g)(_k),Sk=function(e){function t(t){e.call(this,t),this.state={hasError:!1},this.clearError=this.clearError.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidCatch=function(e,t){this.setState({hasError:!0,error:e,info:t})},t.prototype.clearError=function(){this.setState({hasError:!1}),location.href="/search"},t.prototype.render=function(){var e=this.state,t=e.hasError,r=e.error,n=e.info;return t?Pi.createElement("div",null,Pi.createElement("h4",null,"Error"),Pi.createElement("p",null,r.toString()),Pi.createElement("pre",null,n.componentStack.toString()),Pi.createElement("button",{onClick:this.clearError},"Continue")):this.props.children},t}(Pi.Component),Ck={marginTop:10},Ok={marginTop:0},kk={marginRight:5},Tk=function(e){function t(t){var r=this;e.call(this,t),["goTo","logout"].forEach(function(e){return r[e]=r[e].bind(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.goTo=function(e){console.log("components/mypdb/Menu","view="+e);var t=this.props,r=t.booleans,n=t.dispatchAction;r.appLoaded?n(ab,{mypdb:e,tab:jg}):window.location.href="/search/mypdb/"+e},t.prototype.logout=function(){Gw.remove(OE),this.props.dispatchAction(Hg,{hasMypdb:!1}),this.props.dispatchAction(ab,{mypdb:"login",tab:jg})},t.prototype.render=function(){var e=this,t=this.props.booleans.hasMypdb;return Pi.createElement("div",{style:Ck,className:"dropdown pull-right"},Pi.createElement("button",{className:"btn btn-info btn-sm dropdown-toggle",type:"button","data-toggle":"dropdown"},"MyPDB ",Pi.createElement("span",{className:"caret"})),t?Pi.createElement("ul",{className:"dropdown-menu",style:Ok},Pi.createElement("li",null,Pi.createElement("a",{onClick:function(){return e.goTo("queries")}},"Saved Queries")),Pi.createElement("li",null,Pi.createElement("a",{onClick:function(){return e.goTo("account")}},"Account Settings")),Pi.createElement("li",null,Pi.createElement("a",{onClick:this.logout},"Sign out")),Pi.createElement("hr",null),Pi.createElement("li",null,Pi.createElement("a",{onClick:function(){return e.goTo("documentation")}},"Documentation"))):Pi.createElement("ul",{className:"dropdown-menu",style:Ok},KE.map(function(e){return Pi.createElement("li",{key:e.id},Pi.createElement("a",{href:"/auth/"+e.id},Pi.createElement("img",{style:kk,src:"//cdn.rcsb.org/rcsb-pdb/logos/"+e.id+"-sm.png"}),"Sign in with ",e.name))}),Pi.createElement("hr",null),Pi.createElement("li",null,Pi.createElement("a",{onClick:function(){return e.goTo("documentation")}},"Documentation"))))},t}(e.Component),xk=Af(Eg,_g)(Tk),jk="components/SearchBar",Ak="search-bar",Ik=Ak+"-component",qk=function(e){function t(t){var r=this;e.call(this,t),["handleInputChange","handleInputChangeCallback","handleInputClick","handleLink","handleMenuSelect","search","setControl","unsetControl"].forEach(function(e){return r[e]=r[e].bind(r)}),this.guid=Nr(),this.name=Ak,this.component_id=Ik,this.state=jr("menu-state")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleInputChange=function(e){var t=e.target,r=t.value;if(r.length>1){r=encodeURIComponent(r);Tr(["/search/suggest",r].join("/"),LE,this.handleInputChangeCallback)}else Ei(jr("menu-state"),this)},t.prototype.handleInputChangeCallback=function(e){if(e.attributes&&e.items){var t=e.attributes,r=e.items;r&&r.length>0&&Ei({attributes:t,menuItems:r,menuIndex:-1,menuOpen:!0},this)}else Ei(jr("menu-state"),this)},t.prototype.handleInputClick=function(e){this.setControl();var t=e.target,r=t.value;r=r.trim(),r.length>1&&this.state.menuItems&&Ei({menuOpen:!0},this)},t.prototype.handleLink=function(e){var t=this.props,r=t.booleans,n=t.dispatchAction;r.appLoaded?"advanced"===e?(n(ab,{tab:Tg}),n(cb)):n(ab,{tab:xg}):window.location.href="/search/"+e},t.prototype.handleMenuSelect=function(e){var t=this.state.attributes[e.attrIndex].attribute,r=Jr(e.__html);this.handleSearch(t,r)},t.prototype.handleSearch=function(e,t){if(t=$r(t))if("searchdev"!==t&&Xr("Basic",t),"rcsb_entry_container_identifiers.entry_id"===e)window.location.href="/structure/"+t;else if("rcsb_repository_holdings_removed_entry_container_identifiers.entry_id"===e)window.location.href="/structure/removed/"+t;else if("rcsb_repository_holdings_unreleased_entry_container_identifiers.entry_id"===e)window.location.href="/structure/unreleased/"+t;else if("rcsb_chem_comp_container_identifiers.comp_id"===e||"rcsb_chem_comp_container_identifiers.prd_id"===e)window.location.href="/ligand/"+t;else{var r=this.props,n=r.booleans,o=r.dispatchAction,a=r.attributeValueSearch;"searchdev"===t?o(Hg,{dev:!n.dev}):n.appLoaded?(this.setState({menuOpen:!1}),a(e,t)):window.location.href=En(e,t)}},t.prototype.search=function(){Ei({menuOpen:!1},this);var e=qr("search-bar-input-text").trim();if(!Ri(e)){for(var t=e.split(" "),r=0,n=t.length;r<n;r++){var o=t[r];o.trim().length>1&&(Ri(o)||-1!==o.indexOf("-")&&(t[r]='"'+o+'"'))}e=t.join(" ")}this.handleSearch(null,e)},t.prototype.setControl=function(){console.log(jk,"setControl"),this.props.setControl("SEARCH_BAR",jk),bi(this)},t.prototype.unsetControl=function(){console.log(jk,"unsetControl"),this.props.setControl(null,jk)},t.prototype.render=function(){
var e=this,t=this.props,r=t.control,n=t.queryBuilder,o=t.views,a=!(!n||!n.open),i=this.state,s=i.attributes,c=i.menuItems,l=i.menuIndex,u=i.menuOpen,p="glyphicon glyphicon-search search-btn";return"SEARCH_BAR"===r&&(p+=" search-control"),Pi.createElement("div",{id:this.component_id,className:"search-bar"},Pi.createElement("div",{id:"menu-container-"+this.guid},Pi.createElement("table",{className:"search-bar-table"},Pi.createElement("tr",null,Pi.createElement("td",{className:"search-bar-input"},Pi.createElement("input",{type:"text",id:"search-bar-input-text",onClick:this.handleInputClick,onChange:this.handleInputChange,placeholder:YE.textSearch,autoComplete:"off",spellCheck:"false"}),u&&Pi.createElement("div",{id:"search-bar-menu",className:"search-bar-menu"},c&&c.map(function(t,r){var n=t.attrIndex,o=t.__html,a=t.id;if("header"===t.type)return Pi.createElement("div",{className:"attribute",key:"a"+n},"in ",s[n].display_name);var i=r===l?"value-selected":"value";return Pi.createElement("div",{className:i,id:a,key:"i"+r,onClick:function(){return e.handleMenuSelect(t)},dangerouslySetInnerHTML:{__html:o}})}))),Pi.createElement("td",null,Pi.createElement("div",{id:"search-icon",onClick:this.search},Pi.createElement("span",{className:p})))))),Pi.createElement("div",{id:"search-bar-links"},a&&o.tab===Tg?Pi.createElement("span",{style:{color:p_}},"Advanced Search"):Pi.createElement("a",{onClick:function(){return e.handleLink("advanced")}},"Advanced Search"),Pi.createElement(ew,{w:5}),"|",Pi.createElement(ew,{w:5}),Pi.createElement("a",{onClick:function(){return e.handleLink("browse")}},"Browse Annotations")))},t}(e.Component),Rk=Af(Eg,_g)(qk);Sg.referer=function(){var e=window.location.href,t=e.lastIndexOf("/search");return-1!==t?e.substring(0,t):e}(),console.log("index","c.ENV.referer="+Sg.referer),console.log("index","react-app-polyfill/ie9"),function(){KE.forEach(function(e){return e_[e.id]=e}),pE.forEach(function(e){return e_[e.key]=e.value}),dE.forEach(function(e){return e_[e.key]=e.value}),uE.forEach(function(e){return e_[e.key]=e.value}),JE.forEach(function(e){return e_[e.id]=e.name}),iE.forEach(function(e){return e_[e.key]=e.value}),rE.forEach(function(e){return e_[e.key]=e.value}),cE.forEach(function(e){return e_[e.key]=e.value});for(var e in Hb)t_[Hb[e]]=e;gE.forEach(function(e){r_[e.key]=e,$E[e.core]=e}),tabularReportGroups.forEach(function(e){return e.reports.forEach(function(e){return e_[e.id]=e.name})}),console.log("constants INITIALIZED")}();var Nk=jr("booleans"),Pk=Gw.get(OE);Nk.hasMypdb=void 0!==Pk;var Dk,Mk=Ur();if(Mk){var Bk=Mk.getItem("history");Bk&&(Dk=JSON.parse(Bk))}Dk||(Dk={map:{},ids:[],id:null});var Lk=IE,Uk=function(e){return le(s_,e,be(If))}({booleans:Nk,history:Dk,returnType:Lk}),Hk=document.getElementById("mypdb-menu-container"),Fk=document.getElementById("search-bar-container"),Vk=document.getElementById("search-container");document.addEventListener("keydown",gi,!1),document.addEventListener("click",vi,!1),Fk&&(console.log("search_bar_container FOUND"),t.render(Pi.createElement(Dd,{store:Uk},Pi.createElement(xk,null)),Hk),t.render(Pi.createElement(Dd,{store:Uk},Pi.createElement(Rk,null)),Fk)),Vk&&(document.title=function(e){return"RCSB PDB: "+e}("Search"),"local"===instance?t.render(Pi.createElement(Dd,{store:Uk},Pi.createElement(Sk,null,Pi.createElement(wk,null))),Vk):t.render(Pi.createElement(Dd,{store:Uk},Pi.createElement(wk,null)),Vk))}(React,ReactDOM);
